# GodMode9 script that performs a variant of
# SysNAND CTRNAND image transfer, or CTRTransfer.
                                                          echo "About (1/3)"
# Use this to repair a badly softbricked 3DS firmware
# such as persistently corrupted '?' files. This can 
# also resuscitate the 1:/ drive that had its essential 
# NAND files accidentally or fully deleted. ***
# *** (Only if the 'S:/essential.exefs' is intact.)

# Although this script wasn't made for this purpose
# in mind, this can also be used to region change 
# the 3DS firmware.

# This script employs the Decrypt9 method of flashing 
# the entire 'S:/ctrnand_full.bin' partition. However,
# unlike the previous program, the script will try to 
# backup and restore all personal NAND folders & files.

# Before using, ensure the SD card does not have hardware
# issues with H2testw (Windows), F3 (Linux), or F3X (Mac).


##########################################################
#         Public CTRNAND images can be found at:         #
#        https://3ds.hacks.guide/ctrtransfer.html        #
##########################################################

# Version 1.9, May-11-2020, author: TurdPooCharger

# Credit: d0k3 - GodMode9 & Decrypt9WIP.
# Quantumcat - Helped solved a terribly bricked o2DS
# 	with the suggestion of Decrypt9 CTRTransfer.
                                                          echo "About (2/3)"
# AnalogMan - Lazarus3DS & twln/p/mbr restore scripts.
# Namesnipe - Shared info on how to dump tickets.
# CodyWGamer - Bricked TWL mode led to interest in S:/.
# KleinesSinchen - Demonstrated flashing 'S:/twln.bin'.
# BpyH64 - Created the dummy CIAs idea from .cmd CMAC R&D.
# zoogie - Bypass stuck 3D mode in user setup (2DSaver).
                                                          echo "About (3/3)"
# aspargas2 - DISA/DIFF handler and hash verification.
# AuroraWright - Luma3DS | SciresM - boot9strap


# BRICK REPAIR R&D MADE COLLECTIVELY POSSIBLE THANKS TO...
# Hayato213, wormdood, lone_wolf323, ThoD, Kubas_inko,
# zacchi4k, Lilith Valentine, The Real Jdbye, NFates,
# E1ite007, SCOTT0852, AmandaRose, Ryccardo, Lacius,
# Joom, ihaveamac, PabloMK7, Sono, Hunter, and many others




##########################################################
# GodMode9 v1.9.1 or newer is required.                  #
# Automatically cancel the script if the currently used  #
# GodMode9 program is too old or doesn't have the        #
# necessary script functions.                            #
##########################################################

  if chk "$[GM9VER]" "v1.9.0"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.8.0"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.7.1"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.7.0"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.6.3"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.6.2"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.6.1"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "v1.6.0"
	goto AUTO_SETUP_GODMODE9
elif chk "$[GM9VER]" "" # v1.5.1 (implicit)
	goto AUTO_SETUP_GODMODE9
end


##########################################################
# GodMode9 v1.9.1 or newer is required.                  #
# Automatically cancel the script if the currently used  #
# GodMode9 program is too old or doesn't have the        #
# necessary script functions.                            #
##########################################################

find -f "$[CURRDIR]/*.gm9" LITMUS_FILE
fget "$[LITMUS_FILE]@00:01" NULL
set LITMUS_FILE ""


##########################################################
# Tell the user upfront with this early notice.          #
##########################################################

imgumount
rm -o -s "9:/attention.png"
set PREVIEW_MODE "9:/attention.png"
echo "Special reminder about this script."
rm -o -s "9:/attention.png"
set PREVIEW_MODE "FULL"


##########################################################
# Ensure that the '0:/gm9/out' work directory exists.    #
##########################################################

if findnot "$[GM9OUT]" NULL
	mkdir "$[GM9OUT]"
end


##########################################################
# Automatically cancel the script if the system type is  #
# unknown. CTRTransfer requires positive identification. #
# OLD type: o3DS , o3DSXL/LL , o2DS        #### RETAIL ###
# NEW type: n3DS , n3DSXL/LL , n2DSXL/LL   # MODELS ONLY #
##########################################################

  if chk "$[RDTYPE]" "retail"
elif chk "$[RDTYPE]" "devkit"
	echo "Devkit model 3DS system detected.\nThis script is only compatible with retail models.\n \nVisit 'https://panda.hacks.guide' for more details."
	goto CHOICE_Exit
else
	echo "Unknown system type."
	goto CHOICE_Exit
end

# ~ # ~ # ~ # ~ #

  if chk "$[ONTYPE]" "O3DS"
	set INPUT_DIR "0:/gm9/in"
elif chk "$[ONTYPE]" "N3DS"
	set INPUT_DIR "0:/gm9/in"
else
	echo "Unknown system type."
	goto CHOICE_Exit
end


##########################################################
#              List of several menu options.             #
##########################################################

@MENU
imgumount
if findnot "9:/icon.png" NULL
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@FF940:127" "9:/icon.png@000"
end
set PREVIEW_MODE "9:/icon.png"
labelsel -o -s "Menu Options" CHOICE_*
goto MENU


##########################################################
# Select the CTRNAND tranfer BIN image at '0:/gm9/in'.   #
##########################################################

@CHOICE_CTRTransfer
                                                          set PREVIEW_MODE "FULL"
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
if not filesel "Select CTRNAND transfer image." "$[INPUT_DIR]/*.bin" CTRNAND_BIN
	goto MENU
end

set CTRNAND_SHA "$[CTRNAND_BIN].sha"
strsplit CTRNAND_BIN_NAME "$[CTRNAND_BIN]" "/"
strsplit CTRNAND_SHA_NAME "$[CTRNAND_SHA]" "/"


##########################################################
# Preliminary check for CTRNAND, TWLMBR, TWLN, and TWLP. #
##########################################################

  if findnot "S:/ctrnand_full.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/ctrnand_full.bin\nCTRNAND partition is missing."
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "S:/twlmbr.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/twlmbr.bin\nTWL master boot record is missing."
	goto BOOTROM_SOFTBRICK_SCENARIO
elif fget "S:/twlmbr.bin@42:01" NULL
	echo "[S:] SYSNAND VIRTUAL/twlmbr.bin\nNonstandard master boot record.\n \nThe size is too big."
	goto MENU
elif not fget "S:/twlmbr.bin@41:01" NULL
	echo "[S:] SYSNAND VIRTUAL/twlmbr.bin\nNonstandard master boot record.\n \nThe size is too small."
	goto MENU
elif findnot "S:/twln.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/twln.bin\nTWLNAND partition is missing."
	goto 2.1.0_SOFTBRICK_SCENARIO
elif fget "S:/twln.bin@8FB5200:01" NULL
	echo "[S:] SYSNAND VIRTUAL/twln.bin\nNonstandard partition.\n \nThe size is too big."
	goto MENU
elif not fget "S:/twln.bin@8FB51FF:01" NULL
	echo "[S:] SYSNAND VIRTUAL/twln.bin\nNonstandard partition.\n \nThe size is too small."
	goto MENU
elif findnot "S:/twlp.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/twlp.bin\nTWLPHOTO partition is missing."
	goto 2.1.0_SOFTBRICK_SCENARIO
elif fget "S:/twlp.bin@20B6600:01" NULL
	echo "[S:] SYSNAND VIRTUAL/twlp.bin\nNonstandard partition.\n \nThe size is too big."
	goto MENU
elif not fget "S:/twlp.bin@20B65FF:01" NULL
	echo "[S:] SYSNAND VIRTUAL/twlp.bin\nNonstandard partition.\n \nThe size is too small."
	goto MENU
elif findnot "S:/firm0.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/firm0.bin\nFIRM0 partition is missing."
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "S:/firm1.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/firm1.bin\nFIRM1 partition is missing."
	goto BOOTROM_SOFTBRICK_SCENARIO
else
	goto TYPICAL_SOFTBRICK_SCENARIO
end


#################
# ~ # ~ # ~ # ~ #
#################


@2.1.0_SOFTBRICK_SCENARIO
  
  if findnot "S:/nand.bin" NULL
	goto BOOTROM_SOFTBRICK_SCENARIO
elif not chk "$[ONTYPE]" "N3DS" # Applies specifically for n3DS(XL).
	goto BOOTROM_SOFTBRICK_SCENARIO
elif not find "0:/CTRTransfer/*_nand.bin" NAND_FILE
	goto BOOTROM_SOFTBRICK_SCENARIO
end

strsplit NAND_FILE "$[NAND_FILE]" "/"
strsplit -b NAND_FILE "$[NAND_FILE]" "."

  if findnot "0:/CTRTransfer/$[NAND_FILE].bin" NULL              # Missing image.
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "0:/CTRTransfer/$[NAND_FILE].bin.sha" NULL          # Missing sha of that image.
	goto BOOTROM_SOFTBRICK_SCENARIO
elif fget "0:/CTRTransfer/$[NAND_FILE].bin@4D82A000:01" NULL     # Too big.
	goto BOOTROM_SOFTBRICK_SCENARIO
elif not fget "0:/CTRTransfer/$[NAND_FILE].bin@4D7FFFFF:01" NULL # Too small.
	goto BOOTROM_SOFTBRICK_SCENARIO
elif not imgmount "0:/CTRTransfer/$[NAND_FILE].bin"              # Not mountable.
	imgumount
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "I:/nand_hdr.bin" NULL      # Missing NCSD header.
	imgumount
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "I:/nand_minsize.bin" NULL  # Missing ctrnand_full (implicit).
	imgumount
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "I:/twln.bin" NULL          # Missing twln(and).
	imgumount
	goto BOOTROM_SOFTBRICK_SCENARIO
elif findnot "I:/twlp.bin" NULL          # Missing twlp(hoto).
	imgumount
	goto BOOTROM_SOFTBRICK_SCENARIO
end

# ~ # ~ # ~ # ~ #

imgumount # Prevent accidentally edits to mounted nand image.
rm -o -s "9:/safectrtransfer.png"
inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@FFA70:397" "9:/safectrtransfer.png@000"
set PREVIEW_MODE "9:/safectrtransfer.png"

labelsel -k -o -s "Was this N3DS(XL) downgraded to firmware 2.1.0?\nDid you hack this with Soundhax or SafeCTRTransfer?" DOWNGRADEQUESTION_*
goto CANCEL_REPAIRS


##########################################################
# Ensure there is enough free space to back the sysnand. #
# Check if the 9.2.0 SysNAND image is intact. Backup the #
# current 2.1.0 sysnand if later examination is needed.  #
# Prepare the 'S:/' drive with 'bootrom 8046' repairs.   #
##########################################################

@DOWNGRADEQUESTION_START_Yes,_restore_Ver_9.0-11.3.
                                                          rm -o -s "9:/safectrtransfer.png"
                                                          set PREVIEW_MODE "FULL"
                                                          set PREVIEW_COLOR_COMMENT "80ff00" # lime green
##########################################################
# Lvl3 write permission required for:                    #
#--------------------------------------------------------#
# [S:] SYSNAND VIRTUAL/nand.bin                          #
##########################################################

if not allow "S:/nand.bin"           # Level 3
	echo "[S:] SYSNAND VIRTUAL/nand.bin\nAccess denied."
	goto CHOICE_CTRTransfer
end
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
if findnot "$[GM9OUT]" NULL
	mkdir "$[GM9OUT]"
end

findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE
fdummy "$[LITMUS_FILE]" "50000000"

if fget "$[LITMUS_FILE]@4FFFFFFF:01" NULL
	rm -o -s "$[LITMUS_FILE]"
	set LITMUS_FILE ""
else
	echo "Insufficient memory. 1.25 GB of free space is required."
	goto CANCEL_REPAIRS
end

# ~ # ~ # ~ # ~ #

if not sha "0:/CTRTransfer/$[NAND_FILE].bin" "0:/CTRTransfer/$[NAND_FILE].bin.sha"
	echo "0:/CTRTransfer/$[NAND_FILE].bin\nSHA verification: failed!"
	goto CANCEL_REPAIRS
end

# ~ # ~ # ~ # ~ #

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_2.1.0_downgrade_???" DOWNGRADE_DIR
mkdir "$[DOWNGRADE_DIR]"
findnot "$[DOWNGRADE_DIR]/$[DATESTAMP]_$[SERIAL]_(2.1.0 downgrade)_sysnand_???.bin" LITMUS_FILE
cp -o -s -n -h "S:/nand_minsize.bin" "$[LITMUS_FILE]"

if find "$[LITMUS_FILE]" NULL
	echo "Backup created succesfully:\n$[LITMUS_FILE]"
	set LITMUS_FILE ""
	set FIRMWARE_VERSION "2.1.0"
	goto BRICKQUESTION_START_Yes,_continue_debugging.
else
	echo "Could not back up the current sysnand."
	goto CANCEL_REPAIRS
end


##########################################################
# Continue or cancel the CTRTransfer. No 9.2.0 restore.  #
##########################################################

@DOWNGRADEQUESTION_X_No,_continue_debugging.
rm -o -s "9:/safectrtransfer.png"
set PREVIEW_MODE "FULL"
goto BOOTROM_SOFTBRICK_SCENARIO

@DOWNGRADEQUESTION_B_No,_return_to_Menu_Options.
goto CANCEL_REPAIRS


##########################################################
# Return here after applying 'bootrom 8046' repairs.     #
# Restore the SysNAND to the original 9.2.0 firmware.    #
# Automatically install the missing CTRNAND Luma3DS.     #
##########################################################

@CONTINUE_9.2.0_RESTORE

if imgmount "0:/CTRTransfer/$[NAND_FILE].bin"
	cp -o -s -n "I:/nand_hdr.bin" "S:/nand_hdr.bin"
	cp -o -s -n "I:/ctrnand_full.bin" "S:/ctrnand_full.bin"
	cp -o -s -n "I:/twln.bin" "S:/twln.bin"
	cp -o -s -n "I:/twlp.bin" "S:/twlp.bin"
	imgumount
	rm -o -s "1:/data/$[SYSID0]/sysdata/00010011" # Secure value.
	fixcmac -o -s "1:"
	mv -o -s -n -w "$[BOOTROM_DIR]" "$[DOWNGRADE_DIR]"
	mv -o -s -n -w "0:/CTRTransfer" "$[DOWNGRADE_DIR]"
else
	imgumount
	echo "0:/CTRTransfer/$[NAND_FILE].bin\nCould not restore 9.0-11.3 sysnand."
	goto CANCEL_REPAIRS
end

if findnot "1:/boot.firm" NULL
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@4DE00:35A00" "1:/boot.firm@000" # v10.1.3
end


##########################################################
# Create, update, and backup the 'S:/essential.exefs'.   #
##########################################################

imgumount
rm -o -s "9:/essential.exefs"
fill -n "9:/essential.exefs@000:2200" "00"
fset "9:/essential.exefs@00" "6E616E645F6864720000000000020000" # nand_hdr
fset "9:/essential.exefs@10" "736563696E666F000002000011010000" # secinfo
fset "9:/essential.exefs@20" "6D6F7661626C65000004000040010000" # movable
fset "9:/essential.exefs@30" "66726E64736565640006000010010000" # frndseed
fset "9:/essential.exefs@40" "6E616E645F6369640008000010000000" # nand_cid
fset "9:/essential.exefs@50" "6F74700000000000000A000000010000" # otp
fset "9:/essential.exefs@60" "687763616C300000000C0000D0090000" # hwcal0
fset "9:/essential.exefs@70" "687763616C31000000160000D0090000" # hwcal1

# ~ # ~ # ~ # ~ #

inject -o -s -n "S:/nand_hdr.bin@000:200" "9:/essential.exefs@200"

@SHAGET_NAND_HDR
if shaget "9:/essential.exefs@200:200" FILE_SHA # nand_hdr
		fset "9:/essential.exefs@1E0" "$[FILE_SHA]"
	else
		goto SHAGET_NAND_HDR
end

# ~ # ~ # ~ # ~ #

  if find "1:/rw/sys/SecureInfo_A" NULL
	inject -o -s -n "1:/rw/sys/SecureInfo_A@000:111" "9:/essential.exefs@400"
elif find "1:/rw/sys/SecureInfo_B" NULL
	inject -o -s -n "1:/rw/sys/SecureInfo_B@000:111" "9:/essential.exefs@400"
end

@SHAGET_SECINFO
if shaget "9:/essential.exefs@400:111" FILE_SHA # secinfo
		fset "9:/essential.exefs@1C0" "$[FILE_SHA]"
	else
		goto SHAGET_SECINFO
end

# ~ # ~ # ~ # ~ #

inject -o -s -n "1:/private/movable.sed@000:140" "9:/essential.exefs@600"

@SHAGET_MOVABLE
if shaget "9:/essential.exefs@600:140" FILE_SHA # movable
		fset "9:/essential.exefs@1A0" "$[FILE_SHA]"
	else
		goto SHAGET_MOVABLE
end

# ~ # ~ # ~ # ~ #

  if find "1:/rw/sys/LocalFriendCodeSeed_B" NULL
	inject -o -s -n "1:/rw/sys/LocalFriendCodeSeed_B@000:110" "9:/essential.exefs@800"
elif find "1:/rw/sys/LocalFriendCodeSeed_A" NULL
	inject -o -s -n "1:/rw/sys/LocalFriendCodeSeed_A@000:110" "9:/essential.exefs@800"
end

@SHAGET_FRNDSEED
if shaget "9:/essential.exefs@800:110" FILE_SHA # frndseed
		fset "9:/essential.exefs@180" "$[FILE_SHA]"
	else
		goto SHAGET_FRNDSEED
end

# ~ # ~ # ~ # ~ #

inject -o -s -n "M:/nand_cid.mem@00:10" "9:/essential.exefs@A00"

@SHAGET_NAND_CID
if shaget "9:/essential.exefs@A00:10" FILE_SHA # nand_cid
		fset "9:/essential.exefs@160" "$[FILE_SHA]"
	else
		goto SHAGET_NAND_CID
end

# ~ # ~ # ~ # ~ #

inject -o -s -n "M:/otp.mem@000:100" "9:/essential.exefs@C00"

@SHAGET_OTP
if shaget "9:/essential.exefs@C00:100" FILE_SHA # otp
		fset "9:/essential.exefs@140" "$[FILE_SHA]"
	else
		goto SHAGET_OTP
end

# ~ # ~ # ~ # ~ #

inject -o -s -n "1:/ro/sys/HWCAL0.dat@000:9D0" "9:/essential.exefs@E00"

@SHAGET_HWCAL0
if shaget "9:/essential.exefs@E00:9D0" FILE_SHA # hwcal0
		fset "9:/essential.exefs@120" "$[FILE_SHA]"
	else
		goto SHAGET_HWCAL0
end

# ~ # ~ # ~ # ~ #

inject -o -s -n "1:/ro/sys/HWCAL1.dat@000:9D0" "9:/essential.exefs@1800"

@SHAGET_HWCAL1
if shaget "9:/essential.exefs@1800:9D0" FILE_SHA # hwcal1
		fset "9:/essential.exefs@100" "$[FILE_SHA]"
	else
		goto SHAGET_HWCAL1
end

# ~ # ~ # ~ # ~ #

inject -o -s -n "9:/essential.exefs@000:2200" "S:/nand.bin@200"

if find "$[GM9OUT]/essential.exefs" NULL
	findnot "$[GM9OUT]/essential_???.exefs" TEMP_FILE
	mv -o -s -n "$[GM9OUT]/essential.exefs" "$[TEMP_FILE]"
	set TEMP_FILE ""
end

mv -o -s -n -w "9:/essential.exefs" "$[GM9OUT]/essential.exefs"
echo "Check if the 3DS can boot to HOME Menu\nbefore reattempting CTRTransfer."
goto CHOICE_Exit

# ~ # ~ # ~ # ~ #

@CANCEL_REPAIRS
rm -o -s "9:/safectrtransfer.png"
set FILE_SHA ""
set TEMP_FILE ""
set NAND_FILE ""
set LITMUS_FILE ""
set BOOTROM_DIR ""
set DOWNGRADE_DIR ""
set FIRMWARE_VERSION ""
set PREVIEW_MODE "FULL"
goto MENU


#################
# ~ # ~ # ~ # ~ #
#################


@BOOTROM_SOFTBRICK_SCENARIO

set FIRMWARE_VERSION ""

if findnot "S:/nand.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/nand.bin\nThe eMMC or NAND partition is missing."
	goto MENU
end

imgumount # Prevent accidentally edits to mounted nand image.
rm -o -s "9:/bootrom8046.png"
inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@FE000:184" "9:/bootrom8046.png@000"
set PREVIEW_MODE "9:/bootrom8046.png"

labelsel -k -o -s "Is this 3DS system experiencing a 'BOOTROM 8046' \nsoftbrick, aka 'Blue Screens of Death'?" BRICKQUESTION_*
set PREVIEW_MODE "FULL"
rm -o -s "9:/bootrom8046.png"
goto MENU

@BRICKQUESTION_START_Yes,_continue_debugging.
set PREVIEW_MODE "FULL"
rm -o -s "9:/bootrom8046.png"

@BRICKQUESTION_B_No,_return_to_Menu_Options.

                                                          set PREVIEW_COLOR_COMMENT "80ff00" # lime green
##########################################################
# Lvl3 write permission required for:                    #
#--------------------------------------------------------#
# [S:] SYSNAND VIRTUAL/nand.bin                          #
##########################################################

if not allow "S:/nand.bin"           # Level 3
	echo "[S:] SYSNAND VIRTUAL/nand.bin\nAccess denied."
	set LITMUS_FILE ""
	set NAND_FILE ""
	set DOWNGRADE_DIR ""
	set FIRMWARE_VERSION ""
	goto CHOICE_CTRTransfer
end
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white

##########################################################
# Free space check in case ctrnand_full.bin is fixable.  #
##########################################################

  if chk "$[FIRMWARE_VERSION]" "2.1.0"
	goto SKIP_BOOTROM_SIZE_CHECK
elif findnot "$[GM9OUT]" NULL
	mkdir "$[GM9OUT]"
end

findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE
fdummy "$[LITMUS_FILE]" "50000000"

if fget "$[LITMUS_FILE]@4FFFFFFF:01" NULL
	rm -o -s "$[LITMUS_FILE]"
	set LITMUS_FILE ""
else
	echo "Insufficient memory. 1.25 GB of free space is required."
	goto CANCEL_REPAIRS
end

@SKIP_BOOTROM_SIZE_CHECK


##########################################################
# Backup the old 'nand_hdr.bin' to the SD card.          #
##########################################################

set BOOTROM_DIR ""
findnot "$[GM9OUT]/$[DATESTAMP]_bootrom8046_brick_???" BOOTROM_DIR

if not mkdir "$[BOOTROM_DIR]"
	echo "$[BOOTROM_DIR]\nCould not create folder."
	goto CANCEL_REPAIRS
end

if findnot "$[BOOTROM_DIR]" NULL
	echo "$[BOOTROM_DIR]\nCould not find folder."
	goto CANCEL_REPAIRS
end


##########################################################
# nand_hdr.bin, twlmbr.bin, sector0x96.bin, firm0/1.bin  #
##########################################################

if not chk "$[FIRMWARE_VERSION]" "2.1.0"
	echo "$[BOOTROM_DIR]\nBacking up nand files."
end

inject -o -s -n "S:/nand.bin@000:200" "$[BOOTROM_DIR]/nand_hdr (original @ 0x00).bin@000" # Actual copy from origin.
inject -o -s -n "S:/nand.bin@400:200" "$[BOOTROM_DIR]/nand_hdr (essential.exefs).bin@000" # Backup copy from 'essential.exefs'.


##########################################################
# Salvageable frankenfirm with borked ctrnand_full.bin.  #
##########################################################

  if not find "1:/*" NULL
	goto SKIP_FRAKENFIRM_CHECK
elif chk "$[FIRMWARE_VERSION]" "2.1.0"
	goto SKIP_FRAKENFIRM_CHECK
end

set MAGIC_CHECK ""

  if chk "[ONTYPE]" "O3DS"
	fget "S:/ctrnand_full.bin@2CA36:05" MAGIC_CHECK 
elif chk "[ONTYPE]" "N3DS"
	fget "S:/ctrnand_full.bin@2AE36:05" MAGIC_CHECK
end

if chk "$[MAGIC_CHECK]" "4641543136" # 'FAT16'
	set MAGIC_CHECK ""
	goto SKIP_FRAKENFIRM_CHECK
end


##########################################################
# Make new ctrnand_full.bin with correct partition size. #
##########################################################

@FORCE_BUILD_CTRNAND_FULL

set MAGIC_CHECK ""
set C "$[BOOTROM_DIR]/ctrnand_full (recovered).bin"

  if chk "$[ONTYPE]" "O3DS"
	fill -n "$[C]@000:2F5D0000" "00"
	inject -o -s -n "S:/ctrnand_full.bin@200:2C800" "$[C]@200"
	fset "$[C]@1BE" "00052B0006024280650100001B9F17"
	fset "$[C]@2CA00" "E90000435452202020202000022001000200020000F8BD003F00400065010000"
	fset "$[C]@2CA20" "9B9E170000002978563412202020202020202020202046415431362020200000"
	fset "$[C]@2CBFE" "55AAF8FFFFFF"
	fill -n "$[C]@2F410000:1C0000" "FF"
elif chk "$[ONTYPE]" "N3DS"
	fill -n "$[C]@000:41ED0000" "00"
	inject -o -s -n "S:/ctrnand_full.bin@200:2AC00" "$[C]@200"
	fset "$[C]@1BE" "00051D00060282175701000069E920"
	fset "$[C]@2AE00" "E90000435452202020202000024001000200020000F884003F00400057010000"
	fset "$[C]@2AE20" "E9E8200000002978563412202020202020202020202046415431362020200000"
	fset "$[C]@2AFFE" "55AAF8FFFFFF"
	fill -n "$[C]@41D58000:178000" "FF"
end

inject -o -s -n "S:/ctrnand_full.bin@000:1BE" "$[C]@000"
fset "$[C]@1FE" "55AA"

if not imgmount "$[C]"
	imgumount
	rm -o -s "$[C]"
	goto FORCE_BUILD_CTRNAND_FULL
end


##########################################################
# Transfer all 1:/ files to the new ctrnand_full.bin.    #
##########################################################

@REPEAT_MOVE_FILE
set TEMP_FILE ""
if find "1:/*" TEMP_FILE
	strsplit TEMP_FILE "$[TEMP_FILE]" "/"
	mv -o -s -n -w "1:/$[TEMP_FILE]" "7:/$[TEMP_FILE]"
	goto REPEAT_MOVE_FILE
end

imgumount
set C ""

@SKIP_FRAKENFIRM_CHECK


##########################################################
# Force reflash the 'nand_hdr.bin' with the retail       #
# version of the perfect sighax signature. This is       #
# universally compatible for all 3DS systems, except     #
# for PANDA or dev models.                               #
##########################################################

# Retail NAND NCSD Header
# https://gist.github.com/SciresM/cdd2266efb80175d37eabbe86f9d8c52

fset "S:/nand.bin@000" "6CF52F89F378120BFA4E1061D7361634D9A254A4F57AA5BD9F2C30934F0E68CB"
fset "S:/nand.bin@020" "E6611D90D74CAAACB6A995565647333DC17092D320131089CCCD6331CB3A595D"
fset "S:/nand.bin@040" "1BA299A32FF4D8E5DD1EB46A2A57935F6FE637322D3BC4F67CFED6C2254C089C"
fset "S:/nand.bin@060" "62FA11D0824A844C79EE5A4F273D46C23BBBF0A2AF6ACADBE646F46B86D1289C"
fset "S:/nand.bin@080" "7FF7E816CFDA4BC33DFF9D175AC69F72406C071B51F45A1ACB87F168C177CB9B"
fset "S:/nand.bin@0A0" "E6C392F0341849AE5D510D26EEC1097BEBFB9D144A1647301BEAF9520D22C55A"
fset "S:/nand.bin@0C0" "F46D49284CC7F9FBBA371A6D6E4C55F1E536D6237FFF54B3E9C11A20CFCCAC0C"
fset "S:/nand.bin@0E0" "6B06F695766ACEB18BE33299A94CFCA7E258818652F7526B306B52E0AED04218"

fill -n -o -s "S:/nand.bin@100:BE" "00" # Clean slate for second half of 'nand_hdr.bin'.
fset "S:/nand.bin@100" "4E435344"
fset "S:/nand.bin@110" "0104030301"
fset "S:/nand.bin@125" "8805"
fset "S:/nand.bin@129" "8805"
fset "S:/nand.bin@12C" "8001"
fset "S:/nand.bin@130" "808905"
fset "S:/nand.bin@135" "20"
fset "S:/nand.bin@138" "80A905"
fset "S:/nand.bin@13D" "20"
fset "S:/nand.bin@140" "80C905"
fset "S:/nand.bin@185" "04"
fset "S:/nand.bin@18C" "01"

  if chk "$[ONTYPE]" "O3DS"
	fset "S:/nand.bin@106" "20"
	fset "S:/nand.bin@118" "0102020202"
	fset "S:/nand.bin@144" "80AE17"
elif chk "$[ONTYPE]" "N3DS"
	fset "S:/nand.bin@106" "28"
	fset "S:/nand.bin@118" "0102020203"
	fset "S:/nand.bin@144" "80F620"
end


##########################################################
# Force fix the 'twlmbr.bin' or TWL MBR partition table. #
##########################################################

if not sha "S:/twlmbr.bin" "77A98E31F1FF7EC4EF2BFACCA5A114A49A70DCF8F1DCD23E7A486973CFD06617"
	cp -o -s -n -w "S:/twlmbr.bin" "$[BOOTROM_DIR]/twlmbr (nonstandard).bin"
	fset "S:/twlmbr.bin@00" "000418000601A03F97000000A97D040000048E400601A0C38D800400B3050100"
	fill -n "S:/twlmbr.bin@20:20" "00"
	fset "S:/twlmbr.bin@40" "55AA"
end


##########################################################
# Force fix the 'sector0x96.bin' signature. Also known   #
# as the 'secret_sector.bin', this is only found on the  #
# N3DS, N3DSXL, and N2DSXL systems. Required in order    #
# to be able to flash the 'firm0.bin' and 'firm1.bin'.   #
##########################################################

  if chk "$[ONTYPE]" "O3DS"
	goto SKIP_SECTOR0x96_(BOOTROM)
elif findnot "S:/sector0x96.bin" NULL
	echo "[S:] SYSNAND VIRTUAL/sector0x96.bin\nThe secret sector is missing."
	goto CANCEL_REPAIRS
end

if not sha "S:/sector0x96.bin" "82F2730D2C2DA3F30165F987FDCCAC5CBAB24B4E5F65C981CD7BE6F438E6D9D3"
	cp -o -s -n -w "S:/sector0x96.bin" "$[BOOTROM_DIR]/sector0x96 (incorrect).bin"
	set FORCED_SECTOR0x96_MODE "activated"
	goto SECTOR0x96_(BOOTROM)
end

@SKIP_SECTOR0x96_(BOOTROM)
set FORCED_SECTOR0x96_MODE ""


##########################################################
# Force install boot9strap v1.3 to both the 'firm0.bin'  #
# and 'firm1.bin' partitions.                            #
##########################################################

if not sha "S:/firm0.bin@0000:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B"
	cp -o -s -n -w "S:/firm0.bin" "$[BOOTROM_DIR]/firm0 (not B9S v1.3).bin"
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@83800:7800" "S:/firm0.bin@000"
end

if not sha "S:/firm1.bin@0000:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B"
	cp -o -s -n -w "S:/firm1.bin" "$[BOOTROM_DIR]/firm1 (not B9S v1.3).bin"
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@83800:7800" "S:/firm1.bin@000"
end


##########################################################
# Force install Luma3DS v10.1.3 on the SD card to ensure #
# boot9strap does not exhibit the blue LED turns on/off. #
# This is to prevent falsely concluding the 3DS firmware #
# is still bricked when it might not be.                 #
##########################################################

  if findnot "0:/boot.firm" NULL
elif sha "0:/boot.firm" "6AF4C77BE98A2794FE896C606404D27CE66619369B6BEA3EC8BC8B135B9D0737" # v10.1.3
	goto SKIP_SDCARD_LUMA3DS
elif sha "0:/boot.firm" "BA2344BDE22D11A2FE77197C017A7A69C44A1F279BA6038AED4DDC8CF46A9668" # v10.1.2
elif sha "0:/boot.firm" "906B130FBCB10A65C0811E4ED2C49F2463C829D1A5A0174B1408E78FB06C381D" # v10.1.1
elif sha "0:/boot.firm" "42EFBDB04996B5257ADD620492DB4DAAB069064AE87A5999679C5271B0ED9B14" # v10.1
elif sha "0:/boot.firm" "9C5D6C9C299F344B166B3333C94078F900FBE290BC1FCA2992BCC7A16E7E0569" # v10.0.1
elif sha "0:/boot.firm" "1F54F335EF44FE94E165C6BCCFEF00BBB5F60C60F154182DDDC4DA41CA5542A8" # v10.0
elif sha "0:/boot.firm" "21A50466C73AA2BF255A167424586AED456E970E3AC69EBB0A930ABD9075B31B" #  v9.1
elif sha "0:/boot.firm" "5DDD203A8CEF71257F8F78501775DCC9BAF411BE5C3EAD1261C9457E6C3C02B7" #  v9.0
elif sha "0:/boot.firm" "100477BA2BD88D3F6DD3FF2B5A4730A958C943BDA83A749E4F10BCD1DC4EB26A" #  v8.1.1
elif sha "0:/boot.firm" "88E450D4C0D08C633821C105B7EC2A5D25020E57CFB4DFB0CABE1BECBED83BEB" #  v8.1
elif sha "0:/boot.firm" "47D4D4B40E98574032EFA5781090FDF11EED4CDA72F26CF7256919548A989DB5" #  v7.1
else
	goto SKIP_SDCARD_LUMA3DS
end

rm -o -s "0:/boot.firm"
inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@4DE00:35A00" "0:/boot.firm@000" # v10.1.3

@SKIP_SDCARD_LUMA3DS

# ~ # ~ # ~ # ~ #

  if chk "$[FIRMWARE_VERSION]" "2.1.0"
	# Restore the firmware prior to safehax.
	set FIRMWARE_VERSION ""
	goto CONTINUE_9.2.0_RESTORE
elif find "$[BOOTROM_DIR]/ctrnand_full (recovered).bin" NULL
	# Salvage the firmware without a NAND image.
	cp -o -s -n "$[BOOTROM_DIR]/ctrnand_full (recovered).bin" "S:/ctrnand_full.bin"
	goto TYPICAL_SOFTBRICK_SCENARIO 
end

echo "Check if the 3DS can boot to HOME Menu\nbefore reattempting CTRTransfer."
goto CHOICE_Exit


#################
# ~ # ~ # ~ # ~ #
#################


@TYPICAL_SOFTBRICK_SCENARIO
                                                          set PREVIEW_COLOR_COMMENT "80ff00" # lime green
##########################################################
#  Lvl1, Lvl2, and Lvl3 write permissions required for:  #
#--------------------------------------------------------#
# [1:] SYSNAND CTRNAND                                   #
# [S:] SYSNAND VIRTUAL/ctrnand_full.bin                  #
# [S:] SYSNAND VIRTUAL/twln.bin , twlp.bin , twlmbr.bin  #
# [S:] SYSNAND VIRTUAL/firm0.bin , firm1.bin             #
##########################################################

if find -f "1:/*" NULL
	if not allow -a "1:/"            # Level 1
		echo "[1:] SYSNAND CTRNAND\nAccess denied."
		goto CHOICE_CTRTransfer
	end
else
	if not ask "[1:] SYSNAND CTRNAND\nThe drive is empty or not mountable.\n \nContinue?"
		goto CHOICE_CTRTransfer
	end
end

  if not allow "S:/ctrnand_full.bin" # Level 2
	echo "[S:] SYSNAND VIRTUAL/ctrnand_full.bin\nAccess denied."
	goto CHOICE_CTRTransfer
elif not allow "S:/twln.bin"
	echo "[S:] SYSNAND VIRTUAL/twln.bin\nAccess denied."
	goto CHOICE_CTRTransfer
elif not allow "S:/twlp.bin"
	echo "[S:] SYSNAND VIRTUAL/twlp.bin\nAccess denied."
	goto CHOICE_CTRTransfer
elif not allow "S:/twlmbr.bin"       # Level 3
	echo "[S:] SYSNAND VIRTUAL/twlmbr.bin\nAccess denied."
	goto CHOICE_CTRTransfer
elif not allow "S:/firm0.bin"        # Level 3
	echo "[S:] SYSNAND VIRTUAL/firm0.bin\nAccess denied."
	goto CHOICE_CTRTransfer
elif not allow "S:/firm1.bin"        # Level 3
	echo "[S:] SYSNAND VIRTUAL/firm1.bin\nAccess denied."
	goto CHOICE_CTRTransfer
end
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white

##########################################################
# Check if the SHA file exists and is exactly 32 bytes.  #
##########################################################

set CTRNAND_REGION ""
  
  if findnot "$[CTRNAND_SHA]" NULL
	echo "$[CTRNAND_SHA_NAME]\nFile is missing."
	goto CHOICE_CTRTransfer
elif fget "$[CTRNAND_SHA]@20:01" CTRNAND_REGION
	echo "$[CTRNAND_SHA_NAME]\nFile is too big."
	goto CHOICE_CTRTransfer
elif fget "$[CTRNAND_SHA]@19:01" CTRNAND_REGION
else
	echo "$[CTRNAND_SHA_NAME]\nFile is too small."
	goto CHOICE_CTRTransfer
end




##########################################################
# Calculate the SHA-256 hash for block 0x1C0-0x1FF.      #
##########################################################

set LOOP_BREAK "NO_1"

@SHAGET_MARKER_1

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	echo "Could not calculate hash for \nblock 0x1C0-0x1FF."
	goto CHOICE_CTRTransfer
end

if not shaget "$[CTRNAND_BIN]@1C0:40" BLOCK_1C0-1FF_HASH
	goto SHAGET_MARKER_1
end


##########################################################
# Marker 1:                                              #
# Verify that the CTRNAND image in question is FULL type #
# and appropiate for the given 3DS/2DS system.           #
##########################################################

  if chk "$[ONTYPE]" "O3DS"
	goto OLDTYPE_MARKER_1
elif chk "$[ONTYPE]" "N3DS"
	goto NEWTYPE_MARKER_1
end

@OLDTYPE_MARKER_1

  if chk "$[BLOCK_1C0-1FF_HASH]" "42E597875C1F7C68267F115BD33EE6F0894249B9776E42D8A3C2123FF3A61196"
	set LOOP_BREAK "NO_1"
	goto OLDTYPE_SHAGET_MARKER_2
elif chk "$[BLOCK_1C0-1FF_HASH]" "60E3851119267FBA8FC988165F4A9297EC900E7B1734532FEBDC188D4323B4C0"
	echo "CTRNAND image is incorrect.\nThis is for N3DS type."
	goto CHOICE_CTRTransfer
else
	echo "Block 0x1C0-1FF has unknown hash.\nThis is not a FULL type CTRNAND image."
	goto CHOICE_CTRTransfer
end

@NEWTYPE_MARKER_1

  if chk "$[BLOCK_1C0-1FF_HASH]" "60E3851119267FBA8FC988165F4A9297EC900E7B1734532FEBDC188D4323B4C0"
	set LOOP_BREAK "NO_1"
	goto NEWTYPE_SHAGET_MARKER_2
elif chk "$[BLOCK_1C0-1FF_HASH]" "42E597875C1F7C68267F115BD33EE6F0894249B9776E42D8A3C2123FF3A61196"
	echo "CTRNAND image is incorrect.\nThis is for O3DS type."
	goto CHOICE_CTRTransfer
else
	echo "Block 0x1C0-1FF has unknown hash.\nThis is not a FULL type CTRNAND image."
	goto CHOICE_CTRTransfer
end


##########################################################
# Calculate the SHA-256 hash for block 0x2AE36-0x2AE3A.  #
##########################################################

@OLDTYPE_SHAGET_MARKER_2

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	echo "Could not calculate hash for \nblock 0x2CA36-0x2CA3A."
	goto CHOICE_CTRTransfer
end

if shaget "$[CTRNAND_BIN]@2CA36:05" BLOCK_2CA36-2CA3A_HASH
		goto OLDTYPE_MARKER_2
	else
		goto OLDTYPE_SHAGET_MARKER_2
end

@NEWTYPE_SHAGET_MARKER_2

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	echo "Could not calculate hash for \nblock 0x2AE36-0x2AE3A."
	goto CHOICE_CTRTransfer
end

if shaget "$[CTRNAND_BIN]@2AE36:05" BLOCK_2AE36-2AE3A_HASH
		goto NEWTYPE_MARKER_2
	else
		goto NEWTYPE_SHAGET_MARKER_2
end


##########################################################
# Marker 2:                                              #
# Verify if the CTRNAND image in question is FULL type.  #
##########################################################

@OLDTYPE_MARKER_2

if chk "$[BLOCK_2CA36-2CA3A_HASH]" "AE3F4CD64AC48F9E2F67522AC479EE42CD570C9DF0E3C1998BA7E8063544BCD4"
		goto OLDTYPE_MARKER_3
	else
		echo "Block 0x2CA36-2CA3A does not match 'FAT16'.\nThis is not a FULL type CTRNAND image."
		goto CHOICE_CTRTransfer
end

@NEWTYPE_MARKER_2

if chk "$[BLOCK_2AE36-2AE3A_HASH]" "AE3F4CD64AC48F9E2F67522AC479EE42CD570C9DF0E3C1998BA7E8063544BCD4"
		goto NEWTYPE_MARKER_3
	else
		echo "Block 0x2AE36-2AE3A does not match 'FAT16'.\nThis is not a FULL type CTRNAND image."
		goto CHOICE_CTRTransfer
end


##########################################################
# Marker 3:                                              #
# Verify if the CTRNAND image is exactly the correct     #
# size for the given 3DS/2DS system.                     #
##########################################################

@OLDTYPE_MARKER_3

  if fget "$[CTRNAND_BIN]@2F5D0000:01" NULL
		echo "$[CTRNAND_BIN_NAME]\nFile is too big."
		goto CHOICE_CTRTransfer
elif fget "$[CTRNAND_BIN]@2F5CFFFF:01" NULL
		goto OLDTYPE_MARKER_4
	else
		echo "$[CTRNAND_BIN_NAME]\nFile is too small."
		goto CHOICE_CTRTransfer
end
	
@NEWTYPE_MARKER_3

  if fget "$[CTRNAND_BIN]@41ED0000:01" NULL
		echo "$[CTRNAND_BIN_NAME]\nFile is too big."
		goto CHOICE_CTRTransfer
elif fget "$[CTRNAND_BIN]@41ECFFFF:01" NULL
		goto NEWTYPE_MARKER_4
	else
		echo "$[CTRNAND_BIN_NAME]\nFile is too small."
		goto CHOICE_CTRTransfer
end


##########################################################
# Marker 4:                                              #
# Verify if 'S:/ctrnand_full.bin' is exactly the correct #
# size for the given 3DS/2DS system. In case of resized  #
# SYSNAND CTRNAND partition, cancel the transfer run.    #
##########################################################

@OLDTYPE_MARKER_4

  if fget "S:/ctrnand_full.bin@2F5D0000:01" NULL
		echo "S:/ctrnand_full.bin\nNonstandard partition.\n \nThe size is too big."
		goto CHOICE_CTRTransfer
elif fget "S:/ctrnand_full.bin@2F5CFFFF:01" NULL
		goto IMGMOUNT_MARKER_5
	else
		echo "S:/ctrnand_full.bin\nNonstandard partition.\n \nThe size is too small."
		goto CHOICE_CTRTransfer
end
	
@NEWTYPE_MARKER_4

  if fget "S:/ctrnand_full.bin@41ED0000:01" NULL
		echo "S:/ctrnand_full.bin\nNonstandard partition.\n \nThe size is too big."
		goto CHOICE_CTRTransfer
elif fget "S:/ctrnand_full.bin@41ECFFFF:01" NULL
		goto IMGMOUNT_MARKER_5
	else
		echo "S:/ctrnand_full.bin\nNonstandard partition.\n \nThe size is too small."
		goto CHOICE_CTRTransfer
end


##########################################################
# Marker 5:                                              #
# Determine if the CTRNAND image is intact or mountable. #
##########################################################

@IMGMOUNT_MARKER_5

if imgmount "$[CTRNAND_BIN]"
		imgumount
	else
		echo "CTRNAND image corrupt.\nNot mountable."
		goto CHOICE_CTRTransfer
end

                                                          set PREVIEW_COLOR_COMMENT "59b300" # light green
##########################################################
# Marker 6:                                              #
# Create a 1 GB test file to ensure there is sufficient  #
# free space on the SD card. Delete the file once the    #
# availability status is known. This is to avoid the     #
# incident of having the script unexpectedly fail in     #
# backing up personal data due to free space shortage.   #
# 1 gigabyte = 1,073,741,824 bytes (0x40000000)          #
##########################################################

echo "Testing the SD card for enough memory."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
set LITMUS_FILE ""

if findnot "$[GM9OUT]" NULL
	mkdir "$[GM9OUT]"
end

findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE

@FIX_LITMUS_FILE

if not fdummy "$[LITMUS_FILE]" "00"
end

if find "$[LITMUS_FILE]" NULL
		rm -o -s "$[LITMUS_FILE]"
	else
		findnot "$[GM9OUT]/dummy_????.bin" LITMUS_FILE
		goto FIX_LITMUS_FILE
end

fdummy "$[LITMUS_FILE]" "40000000"

if fget "$[LITMUS_FILE]@3FFFFFFF:01" NULL
	rm -o -s "$[LITMUS_FILE]"
	echo "Storage test success."
else
	rm -o -s "$[LITMUS_FILE]"
	echo "Insufficient memory.\n1 GB of free space is required."
	goto CHOICE_CTRTransfer
end

                                                          set PREVIEW_COLOR_COMMENT "4dffa6" # medium aquamarine
##########################################################
# Marker 7:                                              #
# Check the hash for the BIN image against the SHA file. #
##########################################################

echo "SHA verification of CTRNAND image..."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
if sha "$[CTRNAND_BIN]" "$[CTRNAND_SHA]"
		echo "SHA verification: passed!"
	else
		echo "SHA verification: failed!"
		goto CHOICE_CTRTransfer
end

                                                          set PREVIEW_COLOR_COMMENT "a6ff4d" # green yellow
##########################################################
# Create a backup folder on the SD card. Copy the        #
# current NAND setup for subfolders and files, except    #
# the 'title' subfolder. If serial number is not known,  #
# make an alternative backup folder.                     #
##########################################################

echo "Backing up the CTRNAND setup."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
set NAND_DIR ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_sysnand ctrnand_???" NAND_DIR

@FIX_NAND_DIR_1

if not mkdir "$[NAND_DIR]"
end

if find "$[NAND_DIR]" NULL
		rm -o -s "$[NAND_DIR]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_sysnand ctrnand_???" NAND_DIR
		goto FIX_NAND_DIR_1
end

cp -o -s -n "1:/data" "$[NAND_DIR]/data"
cp -o -s -n "1:/dbs" "$[NAND_DIR]/dbs"
cp -o -s -n "1:/fastboot3DS" "$[NAND_DIR]/fastboot3DS"
cp -o -s -n "1:/fixdata" "$[NAND_DIR]/fixdata"
cp -o -s -n "1:/private" "$[NAND_DIR]/private"
cp -o -s -n "1:/ro" "$[NAND_DIR]/ro"
cp -o -s -n "1:/rw" "$[NAND_DIR]/rw"
cp -o -s -n "1:/ticket" "$[NAND_DIR]/ticket"
cp -o -s -n "1:/tmp" "$[NAND_DIR]/tmp"
cp -o -s -n "1:/__journal.nn_" "$[NAND_DIR]/__journal.nn_"
cp -o -s -n "1:/boot.firm" "$[NAND_DIR]/boot.firm"

if find -f "$[NAND_DIR]/*" NULL
		echo "$[NAND_DIR]\nCTRNAND backup success."
	else
		echo "$[NAND_DIR]\nCTRNAND backup failed."
end


##########################################################
# Backup nonimportant parts of the 'ctrnand_full.bin'.   #
##########################################################

inject -o -s -n "S:/ctrnand_full.bin@000:1BE" "$[NAND_DIR]/block_01.bin@000"             # 0x000-1BE

  if chk "$[ONTYPE]" "O3DS"
	inject -o -s -n "S:/ctrnand_full.bin@200:2C800" "$[NAND_DIR]/block_02.bin@000"       # 0x200-2C9FF
	inject -o -s -n "S:/ctrnand_full.bin@2F410000:1C0000" "$[NAND_DIR]/block_03.bin@000" # 0x2F410000-2F5CFFFF
elif chk "$[ONTYPE]" "N3DS"
	inject -o -s -n "S:/ctrnand_full.bin@200:2AC00" "$[NAND_DIR]/block_02.bin@000"       # 0x200-2ADFF
	inject -o -s -n "S:/ctrnand_full.bin@41D58000:178000" "$[NAND_DIR]/block_03.bin@000" # 0x41D58000-41ECFFFF
end


##########################################################
# Flash the CTRNAND image to the [S:] SYSNAND VIRTUAL.   #
# This creates a clean slate [1:] SYSNAND CTRNAND.       #
##########################################################

cp -n -w "$[CTRNAND_BIN]" "S:/ctrnand_full.bin"


##########################################################
# Restore nonimportant parts of the 'ctrnand_full.bin'.  #
##########################################################

inject -o -s -n "$[NAND_DIR]/block_01.bin@000:1BE" "S:/ctrnand_full.bin@000"

  if chk "$[ONTYPE]" "O3DS"
	inject -o -s -n "$[NAND_DIR]/block_02.bin@000:2C800" "S:/ctrnand_full.bin@200"
	inject -o -s -n "$[NAND_DIR]/block_03.bin@000:1C0000" "S:/ctrnand_full.bin@2F410000"
elif chk "$[ONTYPE]" "N3DS"
	inject -o -s -n "$[NAND_DIR]/block_02.bin@000:2AC00" "S:/ctrnand_full.bin@200"
	inject -o -s -n "$[NAND_DIR]/block_03.bin@000:178000" "S:/ctrnand_full.bin@41D58000"
end

rm -o -s "$[NAND_DIR]/block_01.bin"
rm -o -s "$[NAND_DIR]/block_02.bin"
rm -o -s "$[NAND_DIR]/block_03.bin"

                                                          set PREVIEW_COLOR_COMMENT "00b300" # dark green
##########################################################
# Dump legit tickets for system titles from the CTRNAND  #
# image. If the original 'ticket.db' is restored, these  #
# tickets will require installation with FBI app.        #
# These are needed for missing system titles, especially #
# if the firmware has been region changed. Only the      #
# donor's universally legit tickets are copied.          #
##########################################################

echo "Backing up system tickets from CTRNAND image."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
set TIK_DIR ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_system tickets ($[SYSTEM_REGION])_???" TIK_DIR

@FIX_TIK_DIR

if not mkdir "$[TIK_DIR]"
end

if find "$[TIK_DIR]" NULL
		rm -o -s "$[TIK_DIR]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_system tickets ($[SYSTEM_REGION])_???" TIK_DIR
		goto FIX_TIK_DIR
end

# ~ # ~ # ~ # ~ #

if imgmount "1:/dbs/ticket.db"
	cp -o -s -n -w "T:/eshop" "$[TIK_DIR]/unsorted"
	cp -o -s -n -w "T:/hidden" "$[TIK_DIR]/unsorted"
	cp -o -s -n -w "T:/system" "$[TIK_DIR]"
	cp -o -s -n -w "T:/unknown" "$[TIK_DIR]/unsorted"
end

imgumount

# ~ # ~ # ~ # ~ #

if imgmount "$[NAND_DIR]/dbs/ticket.db"
	cp -o -s -n -w "T:/eshop" "$[TIK_DIR]/unsorted"
	cp -o -s -n -w "T:/hidden" "$[TIK_DIR]/unsorted"
	cp -o -s -n -w "T:/system" "$[TIK_DIR]"
	cp -o -s -n -w "T:/unknown" "$[TIK_DIR]/unsorted"
end

imgumount

# ~ # ~ # ~ # ~ #

@FIND_TIK_AGAIN

set TIK_LEGIT ""
set TIK_FILE ""

if find -f "$[TIK_DIR]/unsorted/*.00000000.tik" TIK_LEGIT
	strsplit TIK_FILE "$[TIK_LEGIT]" "/"
	mv -o -s -n -w "$[TIK_LEGIT]" "$[TIK_DIR]/$[TIK_FILE]"
	goto FIND_TIK_AGAIN
end


##########################################################
# Backup TIKs of 'ticket.bak' from previous CTRTransfer. #
##########################################################

set DEVICE_ID ""

  if findnot "$[NAND_DIR]/dbs/ticket.bak" NULL
	goto SKIP_TICKET_BAK
elif not fget -e "M:/otp_dec.mem@04:04" DEVICE_ID
	goto SKIP_TICKET_BAK
elif not imgmount "$[NAND_DIR]/dbs/ticket.bak"
	goto SKIP_TICKET_BAK
end

cp -o -s -n -w "T:/eshop" "$[TIK_DIR]/unsorted_bak"
cp -o -s -n -w "T:/hidden" "$[TIK_DIR]/unsorted_bak"
cp -o -s -n -w "T:/system" "$[TIK_DIR]/system_bak"
cp -o -s -n -w "T:/unknown" "$[TIK_DIR]/unsorted_bak"
imgumount

# ~ # ~ # ~ # ~ #

@REPEAT_TIK_DELETE

set TIK_LEGIT ""
set TIK_FILE ""

if find -f "$[TIK_DIR]/unsorted/*.$[DEVICE_ID].tik" TIK_LEGIT
	strsplit TIK_FILE "$[TIK_LEGIT]" "/"
	rm -o -s "$[TIK_LEGIT]"
	rm -o -s "$[TIK_DIR]/unsorted_bak/$[TIK_FILE]"
	goto REPEAT_TIK_DELETE
end

# ~ # ~ # ~ # ~ #

@REPEAT_TIK_SORT

set TIK_LEGIT ""
set TIK_FILE ""

  if find -f "$[TIK_DIR]/unsorted_bak/*.$[DEVICE_ID].tik" TIK_LEGIT
	strsplit TIK_FILE "$[TIK_LEGIT]" "/"
	mv -o -s -n -w "$[TIK_LEGIT]" "$[TIK_DIR]/system_bak/$[TIK_FILE]"
	goto REPEAT_TIK_SORT
elif find -f "$[TIK_DIR]/unsorted_bak/*.00000000.tik" TIK_LEGIT
	strsplit TIK_FILE "$[TIK_LEGIT]" "/"
	mv -o -s -n -w "$[TIK_LEGIT]" "$[TIK_DIR]/system_bak/$[TIK_FILE]"
	goto REPEAT_TIK_SORT
end

# ~ # ~ # ~ # ~ #

@SKIP_TICKET_BAK

mv -o -s -n -w "$[TIK_DIR]/system_bak" "$[TIK_DIR]"
rm -o -s "$[TIK_DIR]/unsorted_bak"
rm -o -s "$[TIK_DIR]/unsorted"
set DEVICE_ID ""
imgumount

if find -f "$[TIK_DIR]/*.tik" NULL
	echo "$[TIK_DIR]\nTickets backup success."
else
	echo "Tickets backup failed."
end


##########################################################
# Delete the dummy 'data' folder and blank NAND files.   #
# Cleanup in preparation of adding back original setup.  #
##########################################################

rm -o -s "1:/data"
rm -o -s "1:/dbs/ticket.bak"
rm -o -s "1:/private/movable.sed"
rm -o -s "1:/ro/sys/HWCAL0.dat"
rm -o -s "1:/ro/sys/HWCAL1.dat"
rm -o -s "1:/rw/sys/LocalFriendCodeSeed_A"
rm -o -s "1:/rw/sys/LocalFriendCodeSeed_B"
rm -o -s "1:/rw/sys/SecureInfo_A"
rm -o -s "1:/rw/sys/SecureInfo_B"
if not find "1:/title/00040000/*" NULL
	rm -o -s "1:/title/00040000"
end
if not find "1:/title/00040001/*" NULL
	rm -o -s "1:/title/00040001"
end

                                                          set PREVIEW_COLOR_COMMENT "00b359" # pigment green
##########################################################
# Restore the original NAND setup, except the 'dbs'      #
# folder. Donor CTRNAND items with the same names        #
# will be overwritten. DB files handled in next section. #
##########################################################

echo "Restoring the CTRNAND setup."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
cp -o -s -n -w "$[NAND_DIR]/data" "1:/data"
cp -o -s -n -w "$[NAND_DIR]/fastboot3DS" "1:/fastboot3DS"
cp -o -s -n -w "$[NAND_DIR]/fixdata" "1:/fixdata"
cp -o -s -n -w "$[NAND_DIR]/private" "1:/private"
cp -o -s -n -w "$[NAND_DIR]/ro" "1:/ro"
cp -o -s -n -w "$[NAND_DIR]/rw" "1:/rw"
cp -o -s -n -w "$[NAND_DIR]/ticket" "1:/ticket"
cp -o -s -n -w "$[NAND_DIR]/tmp" "1:/tmp"
cp -o -s -n -w "$[NAND_DIR]/__journal.nn_" "1:/__journal.nn_"
cp -o -s -n -w "$[NAND_DIR]/boot.firm" "1:/boot.firm"


##########################################################
# Individually restore the DB files if 'DIFF' tag found. #
# 'title.db' - database of installed CTR & TWL titles.   #
#   Use the donor copy when replacing title folder.      #
# 'import.db' - keeps track of update titles not yet     #
#   installed. Left out as a bad copy can brick the      #
#   firmware after accessing HOME Menu and HBL-Camera.   #
# 'tmp_i.db' and 'tmp_t.db' - temporary import and       #
#   title for 3DS & DS Download Play Child(ren).         #
# 'certs.db' - certification chain for online play, TMD, #
#   LFCS_B, etc. Kept for good measures.                 #
# 'ticket.db' - kept to maintain ticket dumpability.     #
##########################################################
# Special attention is required to determine if the      #
# user's 'certs.db' and 'ticket.db' are valid copies.    #
##########################################################

imgumount
set MAGIC_CHECK ""

if findnot "$[NAND_DIR]/dbs/certs.db" NULL
	goto SKIP_RESTORE_CERTS_DB
end

if not fget "$[NAND_DIR]/dbs/certs.db@100:04" MAGIC_CHECK
	goto SKIP_RESTORE_CERTS_DB
end

if not chk "$[MAGIC_CHECK]" "44494646" # 'DIFF'
	goto SKIP_RESTORE_CERTS_DB
end

if not imgmount "$[NAND_DIR]/dbs/certs.db"
	goto SKIP_RESTORE_CERTS_DB
end

set MAGIC_CHECK ""

if not fget "D:/partitionA.bin@00:04" MAGIC_CHECK
	goto SKIP_RESTORE_CERTS_DB
end

if not chk "$[MAGIC_CHECK]" "43455254" # 'CERT'
	goto SKIP_RESTORE_CERTS_DB
end

imgumount
cp -o -s -n -w "$[NAND_DIR]/dbs/certs.db" "1:/dbs/certs.db"

@SKIP_RESTORE_CERTS_DB

# ~ # ~ # ~ # ~ #

imgumount
set MAGIC_CHECK ""

if findnot "$[NAND_DIR]/dbs/ticket.db" NULL
	mv -o -s -n -w "$[NAND_DIR]/dbs/ticket.bak" "$[NAND_DIR]/dbs/ticket.db"
end

if findnot "$[NAND_DIR]/dbs/ticket.db" NULL
	goto SKIP_RESTORE_TICKET_DB
end

if not fget "$[NAND_DIR]/dbs/ticket.db@100:04" MAGIC_CHECK
	goto SKIP_RESTORE_TICKET_DB
end

if not chk "$[MAGIC_CHECK]" "44494646" # 'DIFF'
	goto SKIP_RESTORE_TICKET_DB
end

if not imgmount "$[NAND_DIR]/dbs/ticket.db"
	goto SKIP_RESTORE_TICKET_DB
end

set MAGIC_CHECK ""

if not fget "D:/partitionA.bin@00:04" MAGIC_CHECK
	goto SKIP_RESTORE_TICKET_DB
end

if not chk "$[MAGIC_CHECK]" "5449434B" # 'TICK'
	goto SKIP_RESTORE_TICKET_DB
end

imgumount
cp -o -s -n -w "$[NAND_DIR]/dbs/ticket.db" "1:/dbs/ticket.db"
goto RESTORE_TICKET_DB_SUCCESS

@SKIP_RESTORE_TICKET_DB
rm -o -s "$[TIK_DIR]"
echo "$[NAND_DIR]\n/dbs/ticket.db\nCould not find or restore file.\n \n$[TIK_DIR]\nDonor system tickets removed."

@RESTORE_TICKET_DB_SUCCESS

# ~ # ~ # ~ # ~ #

imgumount
set MAGIC_CHECK ""

if findnot "$[NAND_DIR]/dbs/tmp_i.db" NULL
	goto SKIP_RESTORE_TMP_I_DB
end

if not fget "$[NAND_DIR]/dbs/tmp_i.db@100:04" MAGIC_CHECK
	goto SKIP_RESTORE_TMP_I_DB
end

if not chk "$[MAGIC_CHECK]" "44494646" # 'DIFF'
	goto SKIP_RESTORE_TMP_I_DB
end

if not imgmount "$[NAND_DIR]/dbs/tmp_i.db"
	goto SKIP_RESTORE_TMP_I_DB
end

set MAGIC_CHECK ""

if not fget "D:/partitionA.bin@00:07" MAGIC_CHECK
	goto SKIP_RESTORE_TMP_I_DB
end

if not chk "$[MAGIC_CHECK]" "54454D50494442" # 'TEMPIDB'
	goto SKIP_RESTORE_TMP_I_DB
end

imgumount
cp -o -s -n -w "$[NAND_DIR]/dbs/tmp_i.db" "1:/dbs/tmp_i.db"

@SKIP_RESTORE_TMP_I_DB

# ~ # ~ # ~ # ~ #

imgumount
set MAGIC_CHECK ""

if findnot "$[NAND_DIR]/dbs/tmp_t.db" NULL
	goto SKIP_RESTORE_TMP_T_DB
end

if not fget "$[NAND_DIR]/dbs/tmp_t.db@100:04" MAGIC_CHECK
	goto SKIP_RESTORE_TMP_T_DB
end

if not chk "$[MAGIC_CHECK]" "44494646" # 'DIFF'
	goto SKIP_RESTORE_TMP_T_DB
end

if not imgmount "$[NAND_DIR]/dbs/tmp_t.db"
	goto SKIP_RESTORE_TMP_T_DB
end

set MAGIC_CHECK ""

if not fget "D:/partitionA.bin@00:07" MAGIC_CHECK
	goto SKIP_RESTORE_TMP_T_DB
end

if not chk "$[MAGIC_CHECK]" "54454D50494442" # 'TEMPIDB'
	goto SKIP_RESTORE_TMP_T_DB
end

imgumount
cp -o -s -n -w "$[NAND_DIR]/dbs/tmp_t.db" "1:/dbs/tmp_t.db"

@SKIP_RESTORE_TMP_T_DB

# ~ # ~ # ~ # ~ #

imgumount
set MAGIC_CHECK ""


##########################################################
# If the entire setup was deleted, lost, or missing      #
# vital NAND files, the backup 'essential.exefs' will    #
# be used to create a new setup or individually restore  #
# any of these five if needed.                           #
#        frndseed | LocalFriendCodeSeed_B                #
#        hwcal0   | HWCAL0.dat                           #
#        hwcal1   | HWCAL1.dat                           #
#        movable  | movable.sed                          #
#        secinfo  | SecureInfo_A / SecureInfo_B          #
##########################################################

if imgmount "S:/essential.exefs"
end


##########################################################
# Determine if 'LFCS' is tagged as type 'B' or type 'A'. #
# Default to type 'B' if neither 'B' or 'A' is found.    #
##########################################################

set LFCS_X ""

  if find "1:/rw/sys/LocalFriendCodeSeed_B" NULL
	set LFCS_X "LocalFriendCodeSeed_B"
elif find "1:/rw/sys/LocalFriendCodeSeed_A" NULL
	set LFCS_X "LocalFriendCodeSeed_A"
else
	set LFCS_X "LocalFriendCodeSeed_B"
end


##########################################################
# If the 'LFCS' is missing, restore with 'frndseed'.     #
##########################################################

if findnot "1:/rw/sys/$[LFCS_X]" NULL
	cp -o -s -n "G:/frndseed" "1:/rw/sys/$[LFCS_X]"
end


##########################################################
# Delete the 'LFCS' if bigger or smaller than 272 bytes. #
##########################################################

  if fget "1:/rw/sys/$[LFCS_X]@110:01" NULL
	rm -o -s "1:/rw/sys/$[LFCS_X]"
elif fget "1:/rw/sys/$[LFCS_X]@10F:01" NULL
else
	rm -o -s "1:/rw/sys/$[LFCS_X]"
end


##########################################################
# If the 'LFCS' is still missing, create a dummy copy.   #
##########################################################

if findnot "1:/rw/sys/$[LFCS_X]" NULL
	fill -n "1:/rw/sys/$[LFCS_X]@000:110" "00"
end


##########################################################
# Calculate the SHA-256 hash of the 'LFCS'.              #
##########################################################

@SHAGET_LFCS_X

set LFCS_X_SHA ""

if not shaget "1:/rw/sys/$[LFCS_X]" LFCS_X_SHA
	goto SHAGET_LFCS_X
end


##########################################################
# If 'LFCS' is blank file (00), replace with 'frndseed'. #
##########################################################

if chk "$[LFCS_X_SHA]" "E4D879A3407DE578F579DFAB4366FCEA75A6649C683D9EFE4F056F6505437574"
	echo "1:/rw/sys/$[LFCS_X]\nDummy file found.\n \nReplacing with copy from 'essential.exefs'."
	cp -o -s -n -w "G:/frndseed" "1:/rw/sys/$[LFCS_X]"
end

set LFCS_X_SHA ""
set LFCS_X ""


##########################################################
# If the 'HWCAL0.dat' is missing, restore with 'hwcal0'. #
##########################################################

if findnot "1:/ro/sys/HWCAL0.dat" NULL
	cp -o -s -n "G:/hwcal0" "1:/ro/sys/HWCAL0.dat"
end


##########################################################
# If 'CCAL' header is missing, replace with 'hwcal0'.    #
##########################################################

set MAGIC_CHECK ""

if fget "1:/ro/sys/HWCAL0.dat@00:04" MAGIC_CHECK
	if not chk "$[MAGIC_CHECK]" "4343414C" # 'CCAL'
		cp -o -s -n -w "G:/hwcal0" "1:/ro/sys/HWCAL0.dat"
	end
end


##########################################################
# If the 'HWCAL1.dat' is missing, restore with 'hwcal1'. #
##########################################################

if findnot "1:/ro/sys/HWCAL1.dat" NULL
	cp -o -s -n "G:/hwcal1" "1:/ro/sys/HWCAL1.dat"
end


##########################################################
# If 'CCAL' header is missing, replace with 'hwcal1'.    #
##########################################################

set MAGIC_CHECK ""

if fget "1:/ro/sys/HWCAL1.dat@00:04" MAGIC_CHECK
	if not chk "$[MAGIC_CHECK]" "4343414C" # 'CCAL'
		cp -o -s -n -w "G:/hwcal1" "1:/ro/sys/HWCAL1.dat"
	end
end


##########################################################
# If 'movable.sed' is missing, restore with 'movable'.   #
##########################################################

if findnot "1:/private/movable.sed" NULL
	cp -o -s -n "G:/movable" "1:/private/movable.sed"
end


##########################################################
# If 'SEED' header is missing, replace with 'movable'.   #
##########################################################

set MAGIC_CHECK ""

if fget "1:/private/movable.sed@00:04" MAGIC_CHECK
	if not chk "$[MAGIC_CHECK]" "53454544" # 'SEED'
		cp -o -s -n -w "G:/movable" "1:/private/movable.sed"
	end
end


##########################################################
# Delete 'movable.sed' if size isn't 320 or 288 bytes.   #
#--------------------------------------------------------#
# Force correct the AES-MAC flag in block 0x04-07.       #
##########################################################

  if fget "1:/private/movable.sed@140:01" NULL  # Bigger than 320 bytes.
	rm -o -s "1:/private/movable.sed"
elif fget "1:/private/movable.sed@13F:01" NULL  # 320 bytes (correct size).
	fset "1:/private/movable.sed@04" "00010000" # Flag for AES-MAC (0x120-13F).
elif fget "1:/private/movable.sed@120:01" NULL  # Bigger than 288 bytes.
	rm -o -s "1:/private/movable.sed"
elif fget "1:/private/movable.sed@11F:01" NULL  # 288 bytes (correct size).
	fset "1:/private/movable.sed@04" "00000000" # Flag for no AES-MAC.
else                                            # Smaller than 288 bytes.
	rm -o -s "1:/private/movable.sed"
end


##########################################################
# If the 'SEED' header is still missing, creat a dummy   #
# 288 bytes 'movable.sed' so that the 2DS/3DS system     #
# can at least boot to HOME Menu.                        #
##########################################################

set MAGIC_CHECK ""

if fget "1:/private/movable.sed@00:04" MAGIC_CHECK
end

if not chk "$[MAGIC_CHECK]" "53454544" # 'SEED'
	set MAGIC_CHECK ""
	echo "1:/private/movable.sed\nFailed to find magic 'SEED'.\n \nReplacing with a working dummy\nfilled with zeros (00)."
	rm -o -s "1:/private/movable.sed"
	fill -n "1:/private/movable.sed@000:120" "00"
	fset "1:/private/movable.sed@000" "53454544" # 'SEED'
else
	set MAGIC_CHECK ""
	goto SKIP_MOVABLE_BUILD
end
	

##########################################################
# Copy the fallback 0x30 KeyY from decrypted 'otp.bin'   #
# and insert this in the dummy 'movable.sed'.            #
# Copy the 'LFCS' and insert it to the 'movable.sed'.    #
##########################################################

if fget "M:/otp_dec.mem@08:10" NULL
	inject -o -s -n "M:/otp_dec.mem@08:10" "1:/private/movable.sed@110"
end

  if fget "1:/rw/sys/LocalFriendCodeSeed_B@FF:01" NULL
	inject -o -s -n "1:/rw/sys/LocalFriendCodeSeed_B@000:100" "1:/private/movable.sed@008"
elif fget "1:/rw/sys/LocalFriendCodeSeed_A@FF:01" NULL
	inject -o -s -n "1:/rw/sys/LocalFriendCodeSeed_A@000:100" "1:/private/movable.sed@008"
end


##########################################################
# Do not recreate the 'movable.sed' if file is intact.   #
#--------------------------------------------------------#
# Adjust the 32-char string for the '1:/data/<ID0>' if   #
# the restored 'movable.sed' has mismatching 0x30 KeyY.  #
##########################################################

@SKIP_MOVABLE_BUILD

if findnot "1:/data/$[SYSID0]" NULL
	if find "$[NAND_DIR]/data/*" TEMP_DIR
		cp -o -s -n -w "$[TEMP_DIR]/extdata" "1:/data/$[SYSID0]/extdata"
		cp -o -s -n -w "$[TEMP_DIR]/sysdata" "1:/data/$[SYSID0]/sysdata"
		set TEMP_DIR ""
	end
end


##########################################################
# Delete the '00010011' that contains 'Secure Value'.    #
# This prevents certain games from triggering their      #
# anti-cheating protection where their saves are deleted #
# if tampering or editing was detected. ##################
# https://www.3dbrew.org/wiki/Anti_Savegame_Restore      #
# https://www.3dbrew.org/wiki/System_SaveData            #
##########################################################

if find "1:/data/$[SYSID0]/sysdata/00010011" NULL
	rm -o -s "1:/data/$[SYSID0]/sysdata/00010011"
end


##########################################################
# Initial precheck for the SecInfo. Replace if missing.  #
##########################################################

if findnot "1:/rw/sys/SecureInfo_A" NULL
	if findnot "1:/rw/sys/SecureInfo_B" NULL
		cp -o -s -n "G:/secinfo" "1:/rw/sys/SecureInfo_A"
	end
end

imgumount


##########################################################
# Determine whether SecInfo_A or SecInfo_B is the        #
# default. Record the SecInfo region code for later      #
# comparison. If system was region changed, delete the   #
# SecInfo_C and possibly SecInfo_B if all three A-B-C    #
# are found. If the region cannot be identified, assign  #
# FF or null. This will initiate using backup SecInfo.   #
##########################################################

set SECINFO_REGION ""
set SECINFO_X ""

  if find "1:/rw/sys/SecureInfo_A" NULL
	set SECINFO_X "SecureInfo_A"
	rm -o -s "1:/rw/sys/SecureInfo_B"
	rm -o -s "1:/rw/sys/SecureInfo_C"
elif find "1:/rw/sys/SecureInfo_B" NULL
	set SECINFO_X "SecureInfo_B"
	rm -o -s "1:/rw/sys/SecureInfo_C"
else
	set SECINFO_X "SecureInfo_A"
end

  if fget "1:/rw/sys/$[SECINFO_X]@111:01" NULL # Too big.
	rm -o -s "1:/rw/sys/$[SECINFO_X]"
elif fget "1:/rw/sys/$[SECINFO_X]@110:01" NULL # 273 bytes (correct size).
else
	rm -o -s "1:/rw/sys/$[SECINFO_X]"          # Too small.
end

if not fget "1:/rw/sys/$[SECINFO_X]@100:01" SECINFO_REGION
	set SECINFO_REGION "FF"
end


##########################################################
# Test the SecInfo for its region code or use fallback.  #
##########################################################

  if chk "$[SECINFO_REGION]" "00"   # JPN
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "01"   # USA
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "02"   # EUR
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "03"   # AUS
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "04"   # CHN
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "05"   # KOR
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "06"   # TWN
	goto CTR_SEC_COMPARE
else
	echo "$[SECINFO_X] region is indeterminate.\n \nFalling back on 'S:/essential.exefs'."
end


##########################################################
# Remove all current SecInfo files if region not found.  #
# Use backup 'secinfo' from 'essential.exefs'.           #
##########################################################

rm -o -s "1:/rw/sys/SecureInfo_A"
rm -o -s "1:/rw/sys/SecureInfo_B"

# ~ # ~ # ~ # ~ #

if imgmount "S:/essential.exefs"
end

  if chk "$[SECINFO_X]" "SecureInfo_A"
elif chk "$[SECINFO_X]" "SecureInfo_B"
else
	set SECINFO_X "SecureInfo_A"
end

cp -o -s -n "G:/secinfo" "1:/rw/sys/$[SECINFO_X]"

imgumount

# ~ # ~ # ~ # ~ #

set SECINFO_REGION ""
set SECINFO_X ""

  if find "1:/rw/sys/SecureInfo_A" NULL
	set SECINFO_X "SecureInfo_A"
	rm -o -s "1:/rw/sys/SecureInfo_B"
	rm -o -s "1:/rw/sys/SecureInfo_C"
elif find "1:/rw/sys/SecureInfo_B" NULL
	set SECINFO_X "SecureInfo_B"
	rm -o -s "1:/rw/sys/SecureInfo_C"
else
	set SECINFO_X "SecureInfo_A"
end

  if fget "1:/rw/sys/$[SECINFO_X]@111:01" NULL # Too big.
	rm -o -s "1:/rw/sys/$[SECINFO_X]"
elif fget "1:/rw/sys/$[SECINFO_X]@110:01" NULL # 273 bytes (correct size).
else
	rm -o -s "1:/rw/sys/$[SECINFO_X]"          # Too small.
end

if not fget "1:/rw/sys/$[SECINFO_X]@100:01" SECINFO_REGION
	set SECINFO_REGION "FF"
end

# ~ # ~ # ~ # ~ #

  if chk "$[SECINFO_REGION]" "00"   # JPN
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "01"   # USA
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "02"   # EUR
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "03"   # AUS
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "04"   # CHN
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "05"   # KOR
	goto CTR_SEC_COMPARE
elif chk "$[SECINFO_REGION]" "06"   # TWN
	goto CTR_SEC_COMPARE
else
	echo "$[SECINFO_X] region is still indeterminate.\n \nCreating replacement dummy $[SECINFO_X]."
end


##########################################################
# If the SecInfo from 'essential.exefs' is missing or    #
# incorrect, create a dummy SecInfo as substitution.     #
##########################################################

rm -o -s "1:/rw/sys/SecureInfo_A"
rm -o -s "1:/rw/sys/SecureInfo_B"

  if chk "$[SECINFO_X]" "SecureInfo_A"
elif chk "$[SECINFO_X]" "SecureInfo_B"
else
	set SECINFO_X "SecureInfo_A"
end

fill -n "1:/rw/sys/$[SECINFO_X]@000:111" "00"


##########################################################
# 0x100 (256) bytes signature from donor CTRNAND image.  #
##########################################################

if imgmount "$[CTRNAND_BIN]"

	  if find "7:/rw/sys/SecureInfo_A" NULL
		inject -o -s -n "7:/rw/sys/SecureInfo_A@000:100" "1:/rw/sys/$[SECINFO_X]@000"
	elif find "7:/rw/sys/SecureInfo_B" NULL
		inject -o -s -n "7:/rw/sys/SecureInfo_B@000:100" "1:/rw/sys/$[SECINFO_X]@000"
	end
	
	imgumount
end

##########################################################
# Inject the 'Serial Number' and 'Region Code'.          #
##########################################################

  if find "2:/sys/log/inspect.log" NULL
	if fget "2:/sys/log/inspect.log@84:01" SECINFO_REGION
	end
	if inject -o -s -n "2:/sys/log/inspect.log@6D:0A" "1:/rw/sys/$[SECINFO_X]@102"
	end
elif find "2:/sys/log/inspect.log~" NULL
	if fget "2:/sys/log/inspect.log~@84:01" SECINFO_REGION
	end
	if inject -o -s -n "2:/sys/log/inspect.log~@6D:0A" "1:/rw/sys/$[SECINFO_X]@102"
	end
end

  if chk "$[SECINFO_REGION]" "30"
	fset "1:/rw/sys/$[SECINFO_X]@100" "00" # JPN
elif chk "$[SECINFO_REGION]" "31"
	fset "1:/rw/sys/$[SECINFO_X]@100" "01" # USA
elif chk "$[SECINFO_REGION]" "32"
	fset "1:/rw/sys/$[SECINFO_X]@100" "02" # EUR
elif chk "$[SECINFO_REGION]" "33"
	fset "1:/rw/sys/$[SECINFO_X]@100" "03" # AUS
elif chk "$[SECINFO_REGION]" "34"
	fset "1:/rw/sys/$[SECINFO_X]@100" "04" # CHN
elif chk "$[SECINFO_REGION]" "35"
	fset "1:/rw/sys/$[SECINFO_X]@100" "05" # KOR
elif chk "$[SECINFO_REGION]" "36"
	fset "1:/rw/sys/$[SECINFO_X]@100" "06" # TWN
end

# ~ # ~ # ~ # ~ #

set SECINFO_REGION ""
set SECINFO_X ""

  if find "1:/rw/sys/SecureInfo_A" NULL
	set SECINFO_X "SecureInfo_A"
	rm -o -s "1:/rw/sys/SecureInfo_B"
	rm -o -s "1:/rw/sys/SecureInfo_C"
elif find "1:/rw/sys/SecureInfo_B" NULL
	set SECINFO_X "SecureInfo_B"
	rm -o -s "1:/rw/sys/SecureInfo_C"
end

if not fget "1:/rw/sys/$[SECINFO_X]@100:01" SECINFO_REGION
	set SECINFO_REGION "FF"
end


##########################################################
# Check the CTRNAND image and SecInfo for region match.  #
# Go straight to fixing the drive's CMACs if true.       #
##########################################################

@CTR_SEC_COMPARE

if chk "$[CTRNAND_REGION]" "$[SECINFO_REGION]"
	set LOOP_BREAK "NO_1"
	goto FIXCMAC_FINALIZE
end


##########################################################
# Rename SecInfo_B to SecInfo_A if required. Keep the    #
# original SecInfo intact while region changing.         #
##########################################################

  if find "1:/rw/sys/SecureInfo_A" NULL
elif find "1:/rw/sys/SecureInfo_B" NULL
	mv -n "1:/rw/sys/SecureInfo_B" "1:/rw/sys/SecureInfo_A"
end


##########################################################
# Create a new SecInfo_B with CTRNAND region value. This #
# allows Recovery Mode to work if region changing. Force #
# the hex edit for the region code at 0x100 offset.      #
##########################################################

cp -n -w "1:/rw/sys/SecureInfo_A" "1:/rw/sys/SecureInfo_B"

@FSET_SECINFO_B

if not fset "1:/rw/sys/SecureInfo_B@100" "$[CTRNAND_REGION]"
	goto FSET_SECINFO_B
end


##########################################################
# Duplicate SecInfo_B into SecInfo_C for NATIVE_FIRM.    #
# This provides a clue that region changing occured.     #
##########################################################

cp -n -w "1:/rw/sys/SecureInfo_B" "1:/rw/sys/SecureInfo_C"


##########################################################
# Automatically calculate and fix the AES CMAC hashes.   #
# Force loop the operation if user attempts to cancel.   #
##########################################################

set LOOP_BREAK "NO_1"

@FIXCMAC_FINALIZE

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	set LOOP_BREAK ""
	echo "CTRTransfer complete."
	goto SHAGET_TWL_MBR
end

if fixcmac -o -s "1:"
		set LOOP_BREAK ""
		echo "CTRTransfer complete."
		goto SHAGET_TWL_MBR
	else
		goto FIXCMAC_FINALIZE
end


##########################################################
# If tampered with, fix the TWL master boot record.      #
##########################################################

@SHAGET_TWL_MBR

set TWL_MBR_SHA ""
if not shaget "S:/twlmbr.bin" TWL_MBR_SHA
	goto SHAGET_TWL_MBR
end

if not chk "$[TWL_MBR_SHA]" "77A98E31F1FF7EC4EF2BFACCA5A114A49A70DCF8F1DCD23E7A486973CFD06617"        # Mismatch hash.
		set TWL_MBR_SHA ""
		fset "S:/twlmbr.bin@00" "000418000601A03F97000000A97D040000048E400601A0C38D800400B3050100"
		fill -n "S:/twlmbr.bin@20:20" "00"
		fset "S:/twlmbr.bin@40" "55AA"
	else                                                                                            # Passes inspection.
		set TWL_MBR_SHA ""
end

                                                          set PREVIEW_COLOR_COMMENT "00ff80" # spring green
##########################################################
# CTRTransfer causes DSiWare titles to be forgotten.     #
# In order to restore them, their CIA files must be      #
# backed up in GodMode9 and then reinstalled with FBI.   #
# This is due to replacing the 'title.db' from the       #
# CTRNAND image needed for the system titles. The saves  #
# will be backed up alongside the CIAs; saves can be     #
# restored with this script after installing the CIAs.   #
##########################################################

echo "Backing up DSiWare saves and CIA files."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
set TWLN_DIR ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_dsiware_???" TWLN_DIR

@FIX_TWLN_DIR

if not mkdir "$[TWLN_DIR]"
end

if find "$[TWLN_DIR]" NULL
		rm -o -s "$[TWLN_DIR]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_dsiware_???" TWLN_DIR
		goto FIX_TWLN_DIR
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set GM9OUT_TEMP_DIR ""

findnot "0:/gm9/out_temp_???" GM9OUT_TEMP_DIR

@FIX_GM9OUT_TEMP_DIR

if not mkdir "$[GM9OUT_TEMP_DIR]"
end

if find "$[GM9OUT_TEMP_DIR]" NULL
		rm -o -s "$[GM9OUT_TEMP_DIR]"
	else
		findnot "0:/gm9/out_temp_????" GM9OUT_TEMP_DIR
		goto FIX_GM9OUT_TEMP_DIR
end

mv -o -s -n -w "$[GM9OUT]" "$[GM9OUT_TEMP_DIR]"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

cp -o -s -n -w "2:/title" "$[TWLN_DIR]/title"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if imgmount "1:/dbs/ticket.db"
	cp -o -s -w -n "T:/eshop" "$[TWLN_DIR]/tickets"
	cp -o -s -w -n "T:/hidden" "$[TWLN_DIR]/tickets"
	cp -o -s -w -n "T:/unknown" "$[TWLN_DIR]/tickets"
end

imgumount

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@FIND_NEXT_DSIWARE

set TID_HIGH ""
set TID_LOW ""
set TMD_FILE ""
set CIA_FILE ""
set SAVE_FILE ""
set TIK_FILE ""

if find -f "$[TWLN_DIR]/title/*" TID_HIGH
	strsplit TID_HIGH "$[TID_HIGH]" "/"
end

if find -f "$[TWLN_DIR]/title/$[TID_HIGH]/*" TID_LOW
	strsplit TID_LOW "$[TID_LOW]" "/"
end

if find -f "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/content/*.tmd" TMD_FILE
	strsplit TMD_FILE "$[TMD_FILE]" "/"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_TRY_AGAIN

if not chk "$[TID_HIGH]" "00030004"
	goto BUILDCIA_NONLEGIT
end

if not find -f "$[TWLN_DIR]/tickets/00048004$[TID_LOW].*.tik" TIK_FILE
	goto BUILDCIA_NONLEGIT
end	

if buildcia -l -o -s "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/content/$[TMD_FILE]"
	find "$[GM9OUT]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	inject -n "$[TIK_FILE]" "$[GM9OUT]/$[CIA_FILE]@2A40"
	goto BUILDCIA_SUCCESS
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_NONLEGIT

if buildcia -o -s "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/content/$[TMD_FILE]"
		goto BUILDCIA_SUCCESS
	else
		goto BUILDCIA_FAILED
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_FAILED

  if chk "$[TMD_FILE]" ""
	goto BUILDCIA_SUCCESS
elif ask "Title ID: $[TID_HIGH]$[TID_LOW]\nFailed to build CIA.\n \nTry again?"
	goto BUILDCIA_TRY_AGAIN
else
	if not find "$[TWLN_DIR]/failed_to_dump_cias" NULL
		mkdir "$[TWLN_DIR]/failed_to_dump_cias"
	end
	
	if not find "$[TWLN_DIR]/failed_to_dump_cias/$[TID_HIGH]" NULL
		mkdir "$[TWLN_DIR]/failed_to_dump_cias/$[TID_HIGH]"
	end
	
	cp -o -s -n -w "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]" "$[TWLN_DIR]/failed_to_dump_cias/$[TID_HIGH]/$[TID_LOW]"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "$[TID_HIGH]$[TID_LOW]"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_SUCCESS

  if find "$[GM9OUT]/0000000*.legit.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[GM9OUT]/$[TID_HIGH]$[TID_LOW].legit.cia"
	set CIA_FILE "$[TID_HIGH]$[TID_LOW].legit.cia"
elif find "$[GM9OUT]/0000000*.cia" CIA_FILE
  	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[GM9OUT]/$[TID_HIGH]$[TID_LOW].cia"
	set CIA_FILE "$[TID_HIGH]$[TID_LOW].cia"
elif find "$[GM9OUT]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[GM9OUT]/$[CIA_FILE]" NULL
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[TWLN_DIR]/$[CIA_FILE]"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" SAVE_FILE
	strsplit SAVE_FILE "$[SAVE_FILE]" "/"
	mv -o -s -n "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/data/$[SAVE_FILE]" "$[TWLN_DIR]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]/data/$[SAVE_FILE]"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

  if chk "$[TID_HIGH]" ""
	rm -o -s "$[TWLN_DIR]/title"
elif find "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]" NULL
	rm -o -s "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]"
	goto FIND_NEXT_DSIWARE
elif chk "$[TID_LOW]" ""
	rm -o -s "$[TWLN_DIR]/title/$[TID_HIGH]"
	goto FIND_NEXT_DSIWARE
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[TWLN_DIR]/failed_to_dump_cias/00030005/42383841" NULL
	rm -o -s "$[TWLN_DIR]/failed_to_dump_cias/00030005/42383841"
end

if find "$[TWLN_DIR]/failed_to_dump_cias/00030005/484e4441" NULL
	rm -o -s "$[TWLN_DIR]/failed_to_dump_cias/00030005/484e4441"
end

if find "$[TWLN_DIR]/failed_to_dump_cias/0003000f/484e4841" NULL
	rm -o -s "$[TWLN_DIR]/failed_to_dump_cias/0003000f/484e4841"
end

if find "$[TWLN_DIR]/failed_to_dump_cias/0003000f/484e4c41" NULL
	rm -o -s "$[TWLN_DIR]/failed_to_dump_cias/0003000f/484e4c41"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set FIX_TWL-B88A_CIA_DIR ""

if find "$[TWLN_DIR]/0003000542383841 NINTENDO DSi* (TWL-B88A) (DSi Exclusive) (W).cia" FIX_TWL-B88A_CIA_DIR
	mv -o -s -n -w "$[FIX_TWL-B88A_CIA_DIR]" "$[TWLN_DIR]/0003000542383841 NINTENDO DSi (TWL-B88A) (DSi Exclusive) (W).cia"
	set FIX_TWL-B88A_CIA_DIR ""
end

rm -o -s "$[TWLN_DIR]/0003000542383841 NINTENDO DSi (TWL-B88A) (DSi Exclusive) (W).cia"
rm -o -s "$[TWLN_DIR]/DS Download Play (NTR-HNDA).cia"
rm -o -s "$[TWLN_DIR]/0003000f484e4841.cia"
rm -o -s "$[TWLN_DIR]/0003000f484e4c41.cia"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[TWLN_DIR]/dsiware_missing_titles.txt" NULL
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "----------------------------------------------------------"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

# Nintendo DSi (DS INTERNET)
if find -f "2:/title/00030005/42383841/content/*.tmd" TMD_DIR
	if buildcia -l -o -s "$[TMD_DIR]"
		find -f "$[GM9OUT]/*.cia" CIA_FILE
		strsplit CIA_FILE "$[CIA_FILE]" "/"
		mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[TWLN_DIR]/0003000542383841 NINTENDO DSi (TWL-B88A) (DSi Exclusive) (W).legit.cia"
	end
end

if findnot "$[TWLN_DIR]/0003000542383841 NINTENDO DSi (TWL-B88A) (DSi Exclusive) (W).legit.cia" NULL
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "0003000542383841 NINTENDO DSi (TWL-B88A)"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end

# ~ # ~ # ~ # ~ #

# DS Download Play
if find -f "2:/title/00030005/484e4441/content/*.tmd" TMD_DIR
	if buildcia -l -o -s "$[TMD_DIR]"
		find -f "$[GM9OUT]/*.cia" CIA_FILE
		strsplit CIA_FILE "$[CIA_FILE]" "/"
		mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[TWLN_DIR]/00030005484E4441 $[CIA_FILE]"
	end
end

if findnot "$[TWLN_DIR]/00030005484E4441 DS Download Play (NTR-HNDA).legit.cia" NULL
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "00030005484E4441 DS Download Play (NTR-HNDA)"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end

# ~ # ~ # ~ # ~ #

# Nintendo DS Cart Whitelist
if find -f "2:/title/0003000f/484e4841/content/*.tmd" TMD_DIR
	if buildcia -l -o -s "$[TMD_DIR]"
		find -f "$[GM9OUT]/*.cia" CIA_FILE
		strsplit CIA_FILE "$[CIA_FILE]" "/"
		mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[TWLN_DIR]/0003000F484E4841 Nintendo DS Cart Whitelist.legit.cia"
	end
end

if findnot "$[TWLN_DIR]/0003000F484E4841 Nintendo DS Cart Whitelist.legit.cia" NULL
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "0003000F484E4841 Nintendo DS Cart Whitelist"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end

# ~ # ~ # ~ # ~ #

# TWL Version Data
if find -f "2:/title/0003000f/484e4c41/content/*.tmd" TMD_DIR
	if buildcia -l -o -s "$[TMD_DIR]"
		find -f "$[GM9OUT]/*.cia" CIA_FILE
		strsplit CIA_FILE "$[CIA_FILE]" "/"
		mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[TWLN_DIR]/0003000F484E4C41 TWL Version Data.legit.cia"
	end
end

if findnot "$[TWLN_DIR]/0003000F484E4C41 TWL Version Data.legit.cia" NULL
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "0003000F484E4C41 TWL Version Data"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set CIA_FILE ""
set TMD_DIR ""
rm -o -s "$[TWLN_DIR]/tickets"
mv -o -s -n -w "$[GM9OUT_TEMP_DIR]" "$[GM9OUT]"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[TWLN_DIR]/dsiware_missing_titles.txt" NULL
	echo "$[TWLN_DIR]/\ndsiware_missing_titles.txt\n \nBuild error(s) encountered."
	textview "$[TWLN_DIR]/dsiware_missing_titles.txt"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

  if find -f "$[TWLN_DIR]/*.cia" NULL
	echo "$[TWLN_DIR]\nDSiWare backup success."
elif find -f "$[TWLN_DIR]/extracted saves/*" NULL
	echo "$[TWLN_DIR]\nDSiWare backup success."
else
	echo "$[TWLN_DIR]\nDSiWare backup failed."
end

                                                          set PREVIEW_COLOR_COMMENT "00ff00" # green
##########################################################
# This script creates TWL system titles if the CIAs can  #
# be encrypted and built with legit ticket + legit TMD.  #
# After completing the CTRTransfer, use 'TWLFix-CFW',    #
# replacement CIAs from torrent, and/or 'System Update'  #
# to repair the DS(i) mode. For more information, visit: #
#                                                        #
#        https://3ds.hacks.guide/troubleshooting         #
#     https://quantumcat1.github.io/troubleshooting      #
# DSi functionality is broken after completing the guide #
                                                          echo "About DS(i) mode."
#             TWL System Titles:                         #
#     0004013800000102 - Old_3DS TWL_FIRM                #
#     0004013820000102 - New_3DS TWL_FIRM                #
#     0004800542383841 - NINTENDO DSi (DS INTERNET)      #
#     00048005484E4441 - DS Download Play                #
#     0004800F484E4841 - Nintendo DS Cart Whitelist      #
#     0004800F484E4C41 - TWL Version Data                #
#                                                        #
##########################################################
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
echo "[2:] SYSNAND TWLN(AND)\n[3:] SYSNAND TWLP(HOTO)\n \nChecking for missing files and folders."

if findnot "$[TWLN_DIR]/TWL backup" NULL
	mkdir "$[TWLN_DIR]/TWL backup"
end


##########################
# [2:] SYSNAND TWLN(AND) #
##########################################################
# If any of these TWLNAND files are missing, create a    #
# 'twlnand_missing_files.txt' error report.              #
##########################################################

set T "$[TWLN_DIR]/TWL backup/twlnand_missing_files.txt"

if findnot "2:/sys/log/inspect.log" NULL
	dumptxt -p "$[T]" "[2:] SYSNAND TWLN/sys/log/inspect.log"
	dumptxt -p "$[T]" ""
end

if findnot "2:/sys/log/inspect.log~" NULL
	dumptxt -p "$[T]" "[2:] SYSNAND TWLN/sys/log/inspect.log~"
	dumptxt -p "$[T]" ""
end

if findnot "2:/sys/log/product.log" NULL
	dumptxt -p "$[T]" "[2:] SYSNAND TWLN/sys/log/product.log"
	dumptxt -p "$[T]" ""
end

if findnot "2:/sys/log/product.log~" NULL
	dumptxt -p "$[T]" "[2:] SYSNAND TWLN/sys/log/product.log~"
	dumptxt -p "$[T]" ""
end

if findnot "2:/sys/TWLFontTable.dat" NULL
	dumptxt -p "$[T]" "[2:] SYSNAND TWLN/sys/TWLFontTable.dat"
	dumptxt -p "$[T]" ""
end


##########################################################
# Dump the 'twln.bin' in case data recovery is needed.   #
# Warn the user if the file(s) are missing.              #
##########################################################

if find "$[T]" NULL
	cp -o -s -n -w "S:/twln.bin" "$[TWLN_DIR]/TWL backup/twlnand.bin"
	dumptxt -p "$[T]" "Scan the 'twlnand.bin' for these missing files(s)."
	dumptxt -p "$[T]" "NOTE: Found file(s) might be slightly misspelled."
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "(A) Use the programs, OSFMount and Recuva."
	dumptxt -p "$[T]" "https://www.osforensics.com/tools/mount-disk-images.html"
	dumptxt -p "$[T]" "https://www.ccleaner.com/recuva"
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "~ Instructions for Option (A) ~"
	dumptxt -p "$[T]" "1. OSFMount > File > Mount new virtual disk..."
	dumptxt -p "$[T]" "2. Select the 'twlnand.bin'. Mount as 'Read-only drive'."
	dumptxt -p "$[T]" "3. Recuva > All Files > In a specific location"
	dumptxt -p "$[T]" "4. Select the virtual mounted drive of 'twlnand.bin'."
	dumptxt -p "$[T]" "5. Checkmark 'Enable Deep Scan' > Start."
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "-OR-"
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "(B) Use the data recovery program, IsoBuster."
	dumptxt -p "$[T]" "https://www.isobuster.com/download.php"
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "~ Instructions for Option (B) ~"
	dumptxt -p "$[T]" "1. IsoBuster > File > Open Image File > 'twlnand.bin'"
	dumptxt -p "$[T]" "2. FAT [Deleted Files and Folders]"
	dumptxt -p "$[T]" ""
	echo "$[TWLN_DIR]/\n/TWL backup/\ntwlnand_missing_files.txt\n \nConsole unique TWLN file(s) are missing."
	textview "$[T]"
end


##########################################################
# Copy TWLN contents, create partition, make folders,    #
# and add back console unique files. This ensures the    #
# '2:/' is image mountable and has a clean file system.  #
##########################################################

cp -o -s -n -w "2:/shared2/0000" "$[TWLN_DIR]/TWL backup/0000"
cp -o -s -n -w "2:/sys/log/inspect.log" "$[TWLN_DIR]/TWL backup/inspect.log"
cp -o -s -n -w "2:/sys/log/inspect.log~" "$[TWLN_DIR]/TWL backup/inspect.log~"
cp -o -s -n -w "2:/sys/log/product.log" "$[TWLN_DIR]/TWL backup/product.log"
cp -o -s -n -w "2:/sys/log/product.log~" "$[TWLN_DIR]/TWL backup/product.log~"
cp -o -s -n -w "2:/sys/log/sysmenu.log" "$[TWLN_DIR]/TWL backup/sysmenu.log"
cp -o -s -n -w "2:/sys/TWLFontTable.dat" "$[TWLN_DIR]/TWL backup/TWLFontTable.dat"
cp -o -s -n -w "2:/tmp" "$[TWLN_DIR]/TWL backup/tmp"


##########################################################
# Check if the 'TWLFontTable.dat' is intact or missing.  #
# Warn the user in case they need to find a replacement. #
##########################################################

  if findnot "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" NULL                                                  # Missing.
	goto CHECK_TWL_FONT_TABLE
elif fget "$[TWLN_DIR]/TWL backup/TWLFontTable.dat@D2C40:01" NULL                                            # Too big.
	mv -o -s "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" "$[TWLN_DIR]/TWL backup/TWLFontTable (corrupt).dat"
	goto CHECK_TWL_FONT_TABLE
elif not fget "$[TWLN_DIR]/TWL backup/TWLFontTable.dat@D2C3F:01" NULL                                        # Too small.
	mv -o -s "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" "$[TWLN_DIR]/TWL backup/TWLFontTable (corrupt).dat"
	goto CHECK_TWL_FONT_TABLE
end

# ~ # ~ # ~ # ~ #

@SHAGET_TWL_FONT_TABLE

set TWL_FONT_TABLE_SHA ""

if not shaget "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" TWL_FONT_TABLE_SHA
	goto SHAGET_TWL_FONT_TABLE
end

# ~ # ~ # ~ # ~ #

if not chk "$[TWL_FONT_TABLE_SHA]" "2833D4BBA599D5559E482C735F24682CCD44C375BA2940D1206CE85B7A0DD7E4"        # Mismatch hash.
	set TWL_FONT_TABLE_SHA ""
	mv -o -s "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" "$[TWLN_DIR]/TWL backup/TWLFontTable (corrupt).dat"
else                                                                                                         # Passes inspection.
	set TWL_FONT_TABLE_SHA ""
end

# ~ # ~ # ~ # ~ #

@CHECK_TWL_FONT_TABLE

if findnot "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" NULL
	dumptxt -p "$[T]" "----------------------------------------------------------"
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "[2:] SYSNAND TWLN/sys/TWLFontTable.dat"
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "Borrow this from another [2DS|3DS|DSi] system."
	dumptxt -p "$[T]" "If missing or corrupt, DSiWare games will not work."
	dumptxt -p "$[T]" "The replacement should be this size and hash."
	dumptxt -p "$[T]" ""
	dumptxt -p "$[T]" "Size: 863296 bytes | 843 KB | 0xD2C40 bytes"
	dumptxt -p "$[T]" "CRC32: F1953B32"
	dumptxt -p "$[T]" "SHA256: 2833D4BBA599D5559E482C735F24682CCD44C375BA2940D1206CE85B7A0DD7E4"
	dumptxt -p "$[T]" "MD5: EE83C579E9E69F94CC8317BD66533A36"
end

  if find "$[TWLN_DIR]/TWL backup/TWLFontTable (corrupt).dat" NULL
	echo "TWLFontTable.dat\n \nThe file will not be restored due to bad copy."
	textview "$[T]"
elif findnot "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" NULL
	echo "TWLFontTable.dat\n \nThe file cannot be restored due to missing copy."
	textview "$[T]"
end

set T ""


##########################################################
# Directly reflashing the 'S:/twln.bin' tends to cause   #
# image mounting failure. This offside method ensures    #
# files and folders are copied and created.              #
##########################################################

@FORCE_BUILD_TWLN_IMAGE

fill -n "$[TWLN_DIR]/twln.bin@000:8FB5200" "00"
fset "$[TWLN_DIR]/twln.bin@000" "E9000054574C202020202000022001000200020000F824002000100097000000697D04000000297856341220202020202020202020204641543136202020"
fset "$[TWLN_DIR]/twln.bin@1FE" "55AAF8FFFFFF"

if imgmount "$[TWLN_DIR]/twln.bin"
	mkdir "7:/import"
	mkdir "7:/shared1"
	mkdir "7:/shared2"
	mkdir "7:/sys"
	mkdir "7:/sys/log"
	mkdir "7:/ticket"
	mkdir "7:/title"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/0000" "7:/shared2/0000"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/inspect.log" "7:/sys/log/inspect.log"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/inspect.log~" "7:/sys/log/inspect.log~"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/product.log" "7:/sys/log/product.log"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/product.log~" "7:/sys/log/product.log~"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/sysmenu.log" "7:/sys/log/sysmenu.log"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/TWLFontTable.dat" "7:/sys/TWLFontTable.dat"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/tmp" "7:/tmp"
	imgumount
	cp -o -s -n -w "$[TWLN_DIR]/twln.bin" "S:/twln.bin"
else
	imgumount
	rm -o -s "$[TWLN_DIR]/twln.bin"
	goto FORCE_BUILD_TWLN_IMAGE
end


##########################################################
# Refresh [root] so that '[2:] SYSNAND TWLN' appears.    #
##########################################################

if imgmount "$[TWLN_DIR]/twln.bin"
	imgumount
	rm -o -s "$[TWLN_DIR]/twln.bin"
else
	imgumount
	rm -o -s "$[TWLN_DIR]/twln.bin"
	goto FORCE_BUILD_TWLN_IMAGE
end


##########################################################
# If the '0000' FAT12 partition is corrupt, delete it.   #
##########################################################

  if findnot "2:/shared2/0000" NULL            # Missing.
elif fget "2:/shared2/0000@200000:01" NULL     # Too big.
	rm -o -s "2:/shared2/0000"
elif not fget "2:/shared2/0000@1FFFFF:01" NULL # Too small.
	rm -o -s "2:/shared2/0000"
elif not imgmount "2:/shared2/0000"            # Not mountable.
	rm -o -s "2:/shared2/0000"
else
	imgumount                                  # Passes inspection.
end


##########################################################
# If the '0000' is missing, create a blank replacement.  #
##########################################################

if findnot "2:/shared2/0000" NULL
	fill -n "2:/shared2/0000@000:4E00" "00"
	fill -n "2:/shared2/0000@4E00:1FB200" "FF"
	fset "2:/shared2/0000@000" "E900004D5357494E342E3100020401000200020010F8030010001000000000000000000003002978563412564F4C554D454C4142454C4641543132202020"
	fset "2:/shared2/0000@1FE" "55AAF8FFFF"
	fset "2:/shared2/0000@800" "F8FFFF"
end


###########################
# [3:] SYSNAND TWLP(HOTO) #
##########################################################
# Copy TWLP 'photo', reformat partition, and add back    #
# the 'photo' folder. This ensures the '3:/' is image    #
# mountable and has a clean file system.                 #
##########################################################

cp -o -s -n -w "3:/photo" "$[TWLN_DIR]/TWL backup/photo"

@FORCE_BUILD_TWLP_IMAGE

fill -n "$[TWLN_DIR]/twlp.bin@000:20B6600" "00"
fset "$[TWLN_DIR]/twlp.bin@000" "E9000054574C202020202000022001000200020000F80900200010008D800400730501000100297856341220202020202020202020204641543132202020"
fset "$[TWLN_DIR]/twlp.bin@1FE" "55AAF8FFFF"
fset "$[TWLN_DIR]/twlp.bin@1400" "F8FFFF"

if imgmount "$[TWLN_DIR]/twlp.bin"
	cp -o -s -n -w "$[TWLN_DIR]/TWL backup/photo" "7:/photo"
	imgumount
	cp -o -s -n -w "$[TWLN_DIR]/twlp.bin" "S:/twlp.bin"
else
	imgumount
	rm -o -s "$[TWLN_DIR]/twlp.bin"
	goto FORCE_BUILD_TWLP_IMAGE
end


##########################################################
# Refresh [root] so that '[3:] SYSNAND TWLP' appears.    #
##########################################################

if imgmount "$[TWLN_DIR]/twlp.bin"
	imgumount
	rm -o -s "$[TWLN_DIR]/twlp.bin"
else
	imgumount
	rm -o -s "$[TWLN_DIR]/twlp.bin"
	goto FORCE_BUILD_TWLP_IMAGE
end


##########################################################
# Delete the 'pit.bin' if it has the wrong size.         #
##########################################################

  if findnot "3:/photo/private/ds/app/484E494A/pit.bin" NULL           # Missing.
elif fget "3:/photo/private/ds/app/484E494A/pit.bin@1F60:01" NULL      # Too big.
	rm -o -s "3:/photo/private/ds/app/484E494A/pit.bin"
elif not fget "3:/photo/private/ds/app/484E494A/pit.bin@1F5F:01" NULL  # Too small.
	rm -o -s "3:/photo/private/ds/app/484E494A/pit.bin"
end


##########################################################
# Determine if 'pit.bin' has the correct magic header.   #
##########################################################

set MAGIC_CHECK ""

if fget "3:/photo/private/ds/app/484E494A/pit.bin@00:06" MAGIC_CHECK
end

if not chk "$[MAGIC_CHECK]" "305449503030"  # '0TIP00'
		set MAGIC_CHECK ""
		rm -o -s "3:/photo/private/ds/app/484E494A/pit.bin"
	else
		set MAGIC_CHECK ""
		goto SKIP_TWLP_PIT_BUILD
end

                                                          set PREVIEW_COLOR_COMMENT "a5fe4d" # sunshade
##########################################################
#   If the 'pit.bin' is missing, create a replacement.   #
#       !!! DO NOT TURN OFF THE 3DS/2DS SYSTEM !!!       #
##########################################################

rm -o -s "$[TWLN_DIR]/temp.bin"
fset "$[TWLN_DIR]/temp.bin@000" "00000000000080000000000000000000" # Not all '00'.

echo "Rebuilding the TWLP 'pit.bin'.\nDo not turn off the system."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
@REPEAT_TWLP_PIT_LINES
if not fget "3:/photo/private/ds/app/484E494A/pit.bin@1F5F:01" NULL
	cp -o -s -n -p "$[TWLN_DIR]/temp.bin" "3:/photo/private/ds/app/484E494A/pit.bin"
	goto REPEAT_TWLP_PIT_LINES
end

rm -o -s "$[TWLN_DIR]/temp.bin"
fset "3:/photo/private/ds/app/484E494A/pit.bin@000" "3054495030305F31F40100000000000000000000533B18"


# ~ # ~ # ~ # ~ #

@SKIP_TWLP_PIT_BUILD

echo "TWLN and TWLP checks complete."


##########################################################
# Automatically install/update CTRNAND Luma3DS v10.1.3.  #
##########################################################

  if findnot "1:/boot.firm" NULL
elif sha "1:/boot.firm" "6AF4C77BE98A2794FE896C606404D27CE66619369B6BEA3EC8BC8B135B9D0737" # v10.1.3
	goto SKIP_CTRNAND_LUMA3DS
elif sha "1:/boot.firm" "BA2344BDE22D11A2FE77197C017A7A69C44A1F279BA6038AED4DDC8CF46A9668" # v10.1.2
elif sha "1:/boot.firm" "906B130FBCB10A65C0811E4ED2C49F2463C829D1A5A0174B1408E78FB06C381D" # v10.1.1
elif sha "1:/boot.firm" "42EFBDB04996B5257ADD620492DB4DAAB069064AE87A5999679C5271B0ED9B14" # v10.1
elif sha "1:/boot.firm" "9C5D6C9C299F344B166B3333C94078F900FBE290BC1FCA2992BCC7A16E7E0569" # v10.0.1
elif sha "1:/boot.firm" "1F54F335EF44FE94E165C6BCCFEF00BBB5F60C60F154182DDDC4DA41CA5542A8" # v10.0
elif sha "1:/boot.firm" "21A50466C73AA2BF255A167424586AED456E970E3AC69EBB0A930ABD9075B31B" #  v9.1
elif sha "1:/boot.firm" "5DDD203A8CEF71257F8F78501775DCC9BAF411BE5C3EAD1261C9457E6C3C02B7" #  v9.0
elif sha "1:/boot.firm" "100477BA2BD88D3F6DD3FF2B5A4730A958C943BDA83A749E4F10BCD1DC4EB26A" #  v8.1.1
elif sha "1:/boot.firm" "88E450D4C0D08C633821C105B7EC2A5D25020E57CFB4DFB0CABE1BECBED83BEB" #  v8.1
elif sha "1:/boot.firm" "47D4D4B40E98574032EFA5781090FDF11EED4CDA72F26CF7256919548A989DB5" #  v7.1
else
	goto SKIP_CTRNAND_LUMA3DS
end

@FORCE_CTRNAND_LUMA3DS

if sha "$[CURRDIR]/CTRTransfer (Type D9).gm9@4DE00:35A00" "6AF4C77BE98A2794FE896C606404D27CE66619369B6BEA3EC8BC8B135B9D0737"
	rm -o -s "1:/boot.firm"
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@4DE00:35A00" "1:/boot.firm@000" # v10.1.3
end

if not sha "1:/boot.firm" "6AF4C77BE98A2794FE896C606404D27CE66619369B6BEA3EC8BC8B135B9D0737" # v10.1.3
	goto FORCE_CTRNAND_LUMA3DS
end

@SKIP_CTRNAND_LUMA3DS


##########################################################
# Automatically update CTRNAND GodMode9 v1.9.1.          #
##########################################################

set F "9:/GodMode9.firm"
set G "1:/rw/luma/payloads/GodMode9.firm"
set C "$[CURRDIR]/CTRTransfer (Type D9).gm9"

  if findnot "$[G]" NULL
	goto SKIP_CTRNAND_GODMODE9
elif sha "$[G]" "529071086FA32747217B33286BB6F309CDCD07ACC7200FA013E6CA4EF246ADE1" # v1.9.1
	goto SKIP_CTRNAND_GODMODE9
elif sha "$[G]" "852D1E95FDDFB37AE871A094E7FD5D467A272CBD5EF1C557FC13D7C4F64FCE10" # v1.9.0
elif sha "$[G]" "48A10E00B45F3DCA3D621513FA7230F1BFB18E05ADAB4D7551E891E6EE6EBDD0" # v1.8.0
elif sha "$[G]" "498806177722838C02FD6B55D1018F8B5F619046CD82013F62D5F7C5F1431148" # v1.7.1
elif sha "$[G]" "BBCC8BD4FC1D7AFB01D1ECA617B6869C4F46640B9799FB031A8342E24BDFB104" # v1.7.0
elif sha "$[G]" "218B8543912C9392EE4898921F0FF9B241D958EA550AC5CB19F1DED0A3712ABC" # v1.6.3
elif sha "$[G]" "95639B181A69A4C5F2703181B3C4843D2EA8878CD8AF2A306711D1F2E810D1C5" # v1.6.2
elif sha "$[G]" "4A02764B354EB99B1715B77A5AAB116D8DA0E59AE33CCA8992EE20C5287EB80B" # v1.6.1
elif sha "$[G]" "DCF951812F8BD786C7CF0E70ECFD7DD801ECAA88487C48D48CD262B6E04BC30C" # v1.6.0
elif sha "$[G]" "DE95B0EB346AF301F4335500C37911CA4CD68C0FE1EC24582C7B7310C2128356" # v1.5.1
elif sha "$[G]" "DE8B052B55E08BC508A020685C0B4E2A778FF6599AAD7A6B4FAF84F604643762" # v1.5.0
elif sha "$[G]" "7657306BA1C3C9D952306BBE4B3BE623F05B8883D0199F7869E566EBB5D40524" # v1.4.3
elif sha "$[G]" "44CE093C58ECB470225C65296AB27813780113058246D702E6E73B2C79F444C9" # v1.4.2
elif sha "$[G]" "6BA985CE658E134FC3724631BA28200B701BA05918EB4793D992E749DED6A1D1" # v1.4.1
elif sha "$[G]" "0BFDAB03FA641238BA9B2CBB2B972AAB85C0BF8F18D38CCB2F24D7659C5815CE" # v1.4.0
elif sha "$[G]" "0534625A12AE848447F2C7B0F8F1E4EBE91283039C930FBB43BB4016CD84BF16" # v1.3.1
elif sha "$[G]" "E2EC0B6936F353CEDC5E5441088EB6DCF0684883937F80907DDC4F693C493558" # v1.3.0
elif sha "$[G]" "7AE51BB2B72738D37189D330EA952E6DB88429D85E93F785855236D6FBA4652F" # v1.2.8
elif sha "$[G]" "F39FA904AC322089040B84C4DEBA687DC4DFB986BB8C8A48FA9EFC02647EC687" # v1.2.7
elif sha "$[G]" "871527B646B4CAC0935EB21996AECBC032B982E74C95A65A8048AE603AD57AB1" # v1.2.1
elif sha "$[G]" "A6B146E203CEF8F4FA1A386B0FEFCF6C2F1F1DE1CB0B86CE34F7191F350CC283" # v1.1.8
else
	goto SKIP_CTRNAND_GODMODE9
end

@FORCE_CTRNAND_GODMODE9

imgumount
rm -o -s "$[F]"
fill -o -s -n "$[F]@000:7B200" "00"
inject -o -s -n "$[C]@8B000:64710" "$[F]@00000"
inject -o -s -n "$[C]@EF790:001E0" "$[F]@69920"
inject -o -s -n "$[C]@EF9F0:01CF0" "$[F]@6AA00"
inject -o -s -n "$[C]@F1760:00010" "$[F]@6CA00"
inject -o -s -n "$[C]@F17F0:00120" "$[F]@6DA00"
inject -o -s -n "$[C]@F1990:0C400" "$[F]@6EA00"

if sha "$[F]" "529071086FA32747217B33286BB6F309CDCD07ACC7200FA013E6CA4EF246ADE1" # v1.9.1
	rm -o -s "$[G]" 
	mv -o -s -n -w "$[F]" "$[G]"
end

if not sha "$[G]" "529071086FA32747217B33286BB6F309CDCD07ACC7200FA013E6CA4EF246ADE1" # v1.9.1
	goto FORCE_CTRNAND_GODMODE9
end

@SKIP_CTRNAND_GODMODE9

set F ""
set G ""
set C ""


##########################################################
# For New 3DS series, determine if the 'sector0x96.bin'  #
# is intact. If the hash mismatches, fix the signature.  #
##########################################################

  if chk "$[ONTYPE]" "O3DS"
	goto SKIP_SECTOR0x96_HASH_CHECK
# elif not sha "$[CURRDIR]/CTRTransfer (Type D9).gm9@FDF00:100" "723E6B5C08AB80E55CA1272F3E1B48510A69B2BA470AA7950205229E32FD7DAC" # randomized 00-FF blob
#	goto SKIP_BOOT9STRAP_FIRM1
elif findnot "S:/sector0x96.bin" NULL
	goto SKIP_BOOT9STRAP_FIRM1
elif sha "S:/sector0x96.bin" "82F2730D2C2DA3F30165F987FDCCAC5CBAB24B4E5F65C981CD7BE6F438E6D9D3"
	goto SKIP_SECTOR0x96_HASH_CHECK
end

set FORCED_SECTOR0x96_MODE "disabled" # (explicit)
@SECTOR0x96_(BOOTROM)

set A "$[CURRDIR]/CTRTransfer (Type D9).gm9@FDF"
set B "S:/sector0x96.bin"
inject -n "$[A]31:01" "$[B]@0A6"
inject -n "$[A]40:01" "$[B]@066"
inject -n "$[A]DC:01" "$[B]@161"
inject -n "$[A]D8:01" "$[B]@0E2"
inject -n "$[A]0E:01" "$[B]@09A"
inject -n "$[A]D8:01" "$[B]@187"
inject -n "$[A]88:01" "$[B]@075"
inject -n "$[A]2D:01" "$[B]@04C"
inject -n "$[A]17:01" "$[B]@085"
inject -n "$[A]BC:01" "$[B]@197"
inject -n "$[A]F1:01" "$[B]@17B"
inject -n "$[A]09:01" "$[B]@192"
inject -n "$[A]D8:01" "$[B]@12D"
inject -n "$[A]47:01" "$[B]@02F"
inject -n "$[A]C5:01" "$[B]@004"
inject -n "$[A]F6:01" "$[B]@0E4"
inject -n "$[A]D3:01" "$[B]@0FB"
inject -n "$[A]9B:01" "$[B]@0AD"
inject -n "$[A]33:01" "$[B]@0F7"
inject -n "$[A]77:01" "$[B]@1F6"
inject -n "$[A]03:01" "$[B]@0F0"
inject -n "$[A]26:01" "$[B]@1DE"
inject -n "$[A]0C:01" "$[B]@084"
inject -n "$[A]59:01" "$[B]@083"
inject -n "$[A]8B:01" "$[B]@165"
inject -n "$[A]A9:01" "$[B]@04B"
inject -n "$[A]24:01" "$[B]@105"
inject -n "$[A]4B:01" "$[B]@1C9"
inject -n "$[A]5C:01" "$[B]@191"
inject -n "$[A]25:01" "$[B]@00F"
inject -n "$[A]81:01" "$[B]@007"
inject -n "$[A]4F:01" "$[B]@1DB"
inject -n "$[A]34:01" "$[B]@182"
inject -n "$[A]CF:01" "$[B]@16F"
inject -n "$[A]A6:01" "$[B]@028"
inject -n "$[A]F8:01" "$[B]@0DF"
inject -n "$[A]A4:01" "$[B]@132"
inject -n "$[A]11:01" "$[B]@0D1"
inject -n "$[A]67:01" "$[B]@01F"
inject -n "$[A]42:01" "$[B]@07F"
inject -n "$[A]0B:01" "$[B]@167"
inject -n "$[A]7F:01" "$[B]@0A3"
inject -n "$[A]8D:01" "$[B]@1E6"
inject -n "$[A]15:01" "$[B]@1AC"
inject -n "$[A]E0:01" "$[B]@148"
inject -n "$[A]8C:01" "$[B]@098"
inject -n "$[A]C4:01" "$[B]@142"
inject -n "$[A]7D:01" "$[B]@096"
inject -n "$[A]35:01" "$[B]@089"
inject -n "$[A]D4:01" "$[B]@11F"
inject -n "$[A]43:01" "$[B]@1C0"
inject -n "$[A]22:01" "$[B]@10A"
inject -n "$[A]9D:01" "$[B]@0CF"
inject -n "$[A]09:01" "$[B]@067"
inject -n "$[A]12:01" "$[B]@121"
inject -n "$[A]E7:01" "$[B]@07C"
inject -n "$[A]4A:01" "$[B]@0CB"
inject -n "$[A]CF:01" "$[B]@190"
inject -n "$[A]E7:01" "$[B]@0E8"
inject -n "$[A]C1:01" "$[B]@163"
inject -n "$[A]98:01" "$[B]@12F"
inject -n "$[A]DC:01" "$[B]@1EC"
inject -n "$[A]AE:01" "$[B]@160"
inject -n "$[A]C6:01" "$[B]@087"
inject -n "$[A]FB:01" "$[B]@0F8"
inject -n "$[A]61:01" "$[B]@1D4"
inject -n "$[A]07:01" "$[B]@0E0"
inject -n "$[A]44:01" "$[B]@0B8"
inject -n "$[A]01:01" "$[B]@150"
inject -n "$[A]21:01" "$[B]@1D5"
inject -n "$[A]ED:01" "$[B]@10C"
inject -n "$[A]18:01" "$[B]@1B7"
inject -n "$[A]DA:01" "$[B]@1DC"
inject -n "$[A]95:01" "$[B]@0C3"
inject -n "$[A]DB:01" "$[B]@0B0"
inject -n "$[A]DC:01" "$[B]@106"
inject -n "$[A]E4:01" "$[B]@1EA"
inject -n "$[A]28:01" "$[B]@183"
inject -n "$[A]57:01" "$[B]@06E"
inject -n "$[A]65:01" "$[B]@0A7"
inject -n "$[A]C5:01" "$[B]@1CF"
inject -n "$[A]C4:01" "$[B]@002"
inject -n "$[A]35:01" "$[B]@013"
inject -n "$[A]3D:01" "$[B]@052"
inject -n "$[A]D6:01" "$[B]@18B"
inject -n "$[A]93:01" "$[B]@180"
inject -n "$[A]77:01" "$[B]@1C5"
inject -n "$[A]F5:01" "$[B]@173"
inject -n "$[A]E7:01" "$[B]@043"
inject -n "$[A]8C:01" "$[B]@0EC"
inject -n "$[A]E3:01" "$[B]@175"
inject -n "$[A]4E:01" "$[B]@00C"
inject -n "$[A]40:01" "$[B]@0BD"
inject -n "$[A]3B:01" "$[B]@115"
inject -n "$[A]57:01" "$[B]@0BC"
inject -n "$[A]E4:01" "$[B]@079"
inject -n "$[A]2F:01" "$[B]@097"
inject -n "$[A]DD:01" "$[B]@063"
inject -n "$[A]1C:01" "$[B]@0A1"
inject -n "$[A]FB:01" "$[B]@176"
inject -n "$[A]E9:01" "$[B]@0D5"
inject -n "$[A]AB:01" "$[B]@08C"
inject -n "$[A]6C:01" "$[B]@189"
inject -n "$[A]EB:01" "$[B]@1D1"
inject -n "$[A]53:01" "$[B]@0FE"
inject -n "$[A]4F:01" "$[B]@0C8"
inject -n "$[A]25:01" "$[B]@033"
inject -n "$[A]10:01" "$[B]@0F4"
inject -n "$[A]AE:01" "$[B]@1E4"
inject -n "$[A]7E:01" "$[B]@0EB"
inject -n "$[A]91:01" "$[B]@038"
inject -n "$[A]51:01" "$[B]@1C4"
inject -n "$[A]D8:01" "$[B]@1E3"
inject -n "$[A]4B:01" "$[B]@0EF"
inject -n "$[A]CB:01" "$[B]@016"
inject -n "$[A]4C:01" "$[B]@065"
inject -n "$[A]97:01" "$[B]@19D"
inject -n "$[A]1E:01" "$[B]@081"
inject -n "$[A]07:01" "$[B]@1D0"
inject -n "$[A]DC:01" "$[B]@0CD"
inject -n "$[A]CB:01" "$[B]@184"
inject -n "$[A]72:01" "$[B]@1E2"
inject -n "$[A]64:01" "$[B]@027"
inject -n "$[A]C9:01" "$[B]@1FF"
inject -n "$[A]F0:01" "$[B]@154"
inject -n "$[A]8E:01" "$[B]@122"
inject -n "$[A]B2:01" "$[B]@0DA"
inject -n "$[A]06:01" "$[B]@15A"
inject -n "$[A]DC:01" "$[B]@15D"
inject -n "$[A]70:01" "$[B]@152"
inject -n "$[A]A1:01" "$[B]@10D"
inject -n "$[A]3F:01" "$[B]@02C"
inject -n "$[A]AC:01" "$[B]@099"
inject -n "$[A]C7:01" "$[B]@02B"
inject -n "$[A]58:01" "$[B]@042"
inject -n "$[A]BE:01" "$[B]@1D7"
inject -n "$[A]C7:01" "$[B]@193"
inject -n "$[A]8E:01" "$[B]@19F"
inject -n "$[A]CB:01" "$[B]@13E"
inject -n "$[A]CA:01" "$[B]@0B5"
inject -n "$[A]86:01" "$[B]@1E1"
inject -n "$[A]49:01" "$[B]@0BE"
inject -n "$[A]37:01" "$[B]@1B0"
inject -n "$[A]D3:01" "$[B]@035"
inject -n "$[A]B5:01" "$[B]@155"
inject -n "$[A]E6:01" "$[B]@1FA"
inject -n "$[A]27:01" "$[B]@1C2"
inject -n "$[A]F0:01" "$[B]@16A"
inject -n "$[A]9A:01" "$[B]@1B9"
inject -n "$[A]68:01" "$[B]@178"
inject -n "$[A]F9:01" "$[B]@025"
inject -n "$[A]65:01" "$[B]@119"
inject -n "$[A]83:01" "$[B]@1F8"
inject -n "$[A]46:01" "$[B]@0A8"
inject -n "$[A]23:01" "$[B]@030"
inject -n "$[A]F9:01" "$[B]@140"
inject -n "$[A]10:01" "$[B]@127"
inject -n "$[A]64:01" "$[B]@09F"
inject -n "$[A]0C:01" "$[B]@046"
inject -n "$[A]84:01" "$[B]@1B6"
inject -n "$[A]92:01" "$[B]@1FE"
inject -n "$[A]D7:01" "$[B]@1DF"
inject -n "$[A]03:01" "$[B]@0E3"
inject -n "$[A]05:01" "$[B]@04F"
inject -n "$[A]60:01" "$[B]@116"
inject -n "$[A]9B:01" "$[B]@0A5"
inject -n "$[A]05:01" "$[B]@14F"
inject -n "$[A]E7:01" "$[B]@01C"
inject -n "$[A]DD:01" "$[B]@005"
inject -n "$[A]DF:01" "$[B]@0D9"
inject -n "$[A]A5:01" "$[B]@0C2"
inject -n "$[A]2C:01" "$[B]@120"
inject -n "$[A]91:01" "$[B]@006"
inject -n "$[A]EA:01" "$[B]@12E"
inject -n "$[A]46:01" "$[B]@13A"
inject -n "$[A]F6:01" "$[B]@021"
inject -n "$[A]3E:01" "$[B]@14C"
inject -n "$[A]C8:01" "$[B]@0A4"
inject -n "$[A]FC:01" "$[B]@114"
inject -n "$[A]9A:01" "$[B]@1F0"
inject -n "$[A]7C:01" "$[B]@1C1"
inject -n "$[A]DE:01" "$[B]@133"
inject -n "$[A]46:01" "$[B]@185"
inject -n "$[A]C9:01" "$[B]@0FF"
inject -n "$[A]EE:01" "$[B]@018"
inject -n "$[A]B1:01" "$[B]@174"
inject -n "$[A]F0:01" "$[B]@00E"
inject -n "$[A]D2:01" "$[B]@0B2"
inject -n "$[A]11:01" "$[B]@0B7"
inject -n "$[A]DD:01" "$[B]@1B8"
inject -n "$[A]95:01" "$[B]@1DD"
inject -n "$[A]F8:01" "$[B]@135"
inject -n "$[A]50:01" "$[B]@1AF"
inject -n "$[A]43:01" "$[B]@1FC"
inject -n "$[A]07:01" "$[B]@1B5"
inject -n "$[A]9C:01" "$[B]@068"
inject -n "$[A]76:01" "$[B]@061"
inject -n "$[A]C5:01" "$[B]@19B"
inject -n "$[A]91:01" "$[B]@1AD"
inject -n "$[A]5D:01" "$[B]@166"
inject -n "$[A]77:01" "$[B]@177"
inject -n "$[A]3D:01" "$[B]@04A"
inject -n "$[A]E9:01" "$[B]@091"
inject -n "$[A]62:01" "$[B]@0AE"
inject -n "$[A]65:01" "$[B]@0CC"
inject -n "$[A]CE:01" "$[B]@1CC"
inject -n "$[A]57:01" "$[B]@0F1"
inject -n "$[A]FB:01" "$[B]@1EE"
inject -n "$[A]60:01" "$[B]@0F6"
inject -n "$[A]4F:01" "$[B]@054"
inject -n "$[A]4E:01" "$[B]@17A"
inject -n "$[A]B9:01" "$[B]@13C"
inject -n "$[A]FA:01" "$[B]@1C7"
inject -n "$[A]1F:01" "$[B]@017"
inject -n "$[A]74:01" "$[B]@179"
inject -n "$[A]A1:01" "$[B]@07A"
inject -n "$[A]33:01" "$[B]@0FA"
inject -n "$[A]9E:01" "$[B]@074"
inject -n "$[A]75:01" "$[B]@130"
inject -n "$[A]44:01" "$[B]@0C4"
inject -n "$[A]BC:01" "$[B]@164"
inject -n "$[A]99:01" "$[B]@049"
inject -n "$[A]2C:01" "$[B]@139"
inject -n "$[A]57:01" "$[B]@014"
inject -n "$[A]3E:01" "$[B]@078"
inject -n "$[A]6F:01" "$[B]@111"
inject -n "$[A]BE:01" "$[B]@1CA"
inject -n "$[A]62:01" "$[B]@11A"
inject -n "$[A]51:01" "$[B]@1AB"
inject -n "$[A]0D:01" "$[B]@1D2"
inject -n "$[A]22:01" "$[B]@1FB"
inject -n "$[A]84:01" "$[B]@12A"
inject -n "$[A]4E:01" "$[B]@196"
inject -n "$[A]8E:01" "$[B]@108"
inject -n "$[A]4B:01" "$[B]@12B"
inject -n "$[A]1C:01" "$[B]@0BB"
inject -n "$[A]84:01" "$[B]@023"
inject -n "$[A]B6:01" "$[B]@1F3"
inject -n "$[A]F2:01" "$[B]@077"
inject -n "$[A]96:01" "$[B]@129"
inject -n "$[A]9D:01" "$[B]@069"
inject -n "$[A]13:01" "$[B]@050"
inject -n "$[A]63:01" "$[B]@0DB"
inject -n "$[A]B1:01" "$[B]@06D"
inject -n "$[A]C4:01" "$[B]@1E7"
inject -n "$[A]C8:01" "$[B]@18F"
inject -n "$[A]4E:01" "$[B]@1BB"
inject -n "$[A]E2:01" "$[B]@11E"
inject -n "$[A]22:01" "$[B]@11B"
inject -n "$[A]1B:01" "$[B]@06C"
inject -n "$[A]11:01" "$[B]@171"
inject -n "$[A]DB:01" "$[B]@051"
inject -n "$[A]FD:01" "$[B]@047"
inject -n "$[A]30:01" "$[B]@1B1"
inject -n "$[A]3B:01" "$[B]@07B"
inject -n "$[A]76:01" "$[B]@113"
inject -n "$[A]37:01" "$[B]@1F2"
inject -n "$[A]07:01" "$[B]@0A0"
inject -n "$[A]FA:01" "$[B]@1CE"
inject -n "$[A]9B:01" "$[B]@0BA"
inject -n "$[A]2C:01" "$[B]@15E"
inject -n "$[A]B8:01" "$[B]@15F"
inject -n "$[A]DA:01" "$[B]@1A3"
inject -n "$[A]9B:01" "$[B]@0B9"
inject -n "$[A]00:01" "$[B]@037"
inject -n "$[A]2C:01" "$[B]@1A0"
inject -n "$[A]2C:01" "$[B]@0EE"
inject -n "$[A]A0:01" "$[B]@17C"
inject -n "$[A]32:01" "$[B]@039"
inject -n "$[A]A6:01" "$[B]@0C7"
inject -n "$[A]FB:01" "$[B]@131"
inject -n "$[A]17:01" "$[B]@0DE"
inject -n "$[A]ED:01" "$[B]@01D"
inject -n "$[A]FE:01" "$[B]@1F4"
inject -n "$[A]5A:01" "$[B]@103"
inject -n "$[A]F6:01" "$[B]@145"
inject -n "$[A]88:01" "$[B]@03A"
inject -n "$[A]F6:01" "$[B]@0F9"
inject -n "$[A]0F:01" "$[B]@010"
inject -n "$[A]C0:01" "$[B]@034"
inject -n "$[A]D0:01" "$[B]@095"
inject -n "$[A]24:01" "$[B]@153"
inject -n "$[A]4C:01" "$[B]@03C"
inject -n "$[A]F1:01" "$[B]@060"
inject -n "$[A]D0:01" "$[B]@09C"
inject -n "$[A]3E:01" "$[B]@015"
inject -n "$[A]C0:01" "$[B]@07E"
inject -n "$[A]3A:01" "$[B]@1BA"
inject -n "$[A]2F:01" "$[B]@048"
inject -n "$[A]E7:01" "$[B]@126"
inject -n "$[A]63:01" "$[B]@18A"
inject -n "$[A]1A:01" "$[B]@0F3"
inject -n "$[A]FB:01" "$[B]@194"
inject -n "$[A]08:01" "$[B]@13F"
inject -n "$[A]24:01" "$[B]@1EF"
inject -n "$[A]E0:01" "$[B]@1F7"
inject -n "$[A]C1:01" "$[B]@13D"
inject -n "$[A]BD:01" "$[B]@05F"
inject -n "$[A]8A:01" "$[B]@11C"
inject -n "$[A]A2:01" "$[B]@128"
inject -n "$[A]4B:01" "$[B]@045"
inject -n "$[A]4D:01" "$[B]@06B"
inject -n "$[A]DF:01" "$[B]@170"
inject -n "$[A]64:01" "$[B]@1D9"
inject -n "$[A]BA:01" "$[B]@008"
inject -n "$[A]6E:01" "$[B]@14B"
inject -n "$[A]36:01" "$[B]@104"
inject -n "$[A]1E:01" "$[B]@0C5"
inject -n "$[A]3C:01" "$[B]@0FC"
inject -n "$[A]76:01" "$[B]@02D"
inject -n "$[A]79:01" "$[B]@0A2"
inject -n "$[A]86:01" "$[B]@16D"
inject -n "$[A]46:01" "$[B]@0D4"
inject -n "$[A]62:01" "$[B]@15C"
inject -n "$[A]38:01" "$[B]@0E9"
inject -n "$[A]F9:01" "$[B]@0E5"
inject -n "$[A]9C:01" "$[B]@138"
inject -n "$[A]8E:01" "$[B]@00D"
inject -n "$[A]CE:01" "$[B]@1BF"
inject -n "$[A]9A:01" "$[B]@158"
inject -n "$[A]45:01" "$[B]@08E"
inject -n "$[A]25:01" "$[B]@195"
inject -n "$[A]E4:01" "$[B]@16B"
inject -n "$[A]CA:01" "$[B]@05C"
inject -n "$[A]44:01" "$[B]@123"
inject -n "$[A]02:01" "$[B]@0CE"
inject -n "$[A]BD:01" "$[B]@044"
inject -n "$[A]03:01" "$[B]@1B2"
inject -n "$[A]81:01" "$[B]@1CB"
inject -n "$[A]AA:01" "$[B]@17F"
inject -n "$[A]E3:01" "$[B]@12C"
inject -n "$[A]FB:01" "$[B]@1B3"
inject -n "$[A]07:01" "$[B]@0AB"
inject -n "$[A]57:01" "$[B]@1AE"
inject -n "$[A]C2:01" "$[B]@1E8"
inject -n "$[A]52:01" "$[B]@012"
inject -n "$[A]04:01" "$[B]@071"
inject -n "$[A]43:01" "$[B]@05B"
inject -n "$[A]C8:01" "$[B]@0B6"
inject -n "$[A]C5:01" "$[B]@094"
inject -n "$[A]84:01" "$[B]@16C"
inject -n "$[A]A3:01" "$[B]@1A5"
inject -n "$[A]9C:01" "$[B]@1B4"
inject -n "$[A]59:01" "$[B]@1D6"
inject -n "$[A]6C:01" "$[B]@19E"
inject -n "$[A]CC:01" "$[B]@146"
inject -n "$[A]66:01" "$[B]@040"
inject -n "$[A]7A:01" "$[B]@0C6"
inject -n "$[A]F9:01" "$[B]@137"
inject -n "$[A]8C:01" "$[B]@1C3"
inject -n "$[A]4A:01" "$[B]@1CD"
inject -n "$[A]A4:01" "$[B]@14D"
inject -n "$[A]1E:01" "$[B]@134"
inject -n "$[A]B1:01" "$[B]@086"
inject -n "$[A]96:01" "$[B]@024"
inject -n "$[A]70:01" "$[B]@02E"
inject -n "$[A]5E:01" "$[B]@100"
inject -n "$[A]AD:01" "$[B]@062"
inject -n "$[A]1E:01" "$[B]@058"
inject -n "$[A]32:01" "$[B]@0C1"
inject -n "$[A]81:01" "$[B]@0D2"
inject -n "$[A]68:01" "$[B]@199"
inject -n "$[A]31:01" "$[B]@143"
inject -n "$[A]83:01" "$[B]@0BF"
inject -n "$[A]4B:01" "$[B]@10F"
inject -n "$[A]23:01" "$[B]@1A6"
inject -n "$[A]68:01" "$[B]@07D"
inject -n "$[A]1A:01" "$[B]@18E"
inject -n "$[A]27:01" "$[B]@0AC"
inject -n "$[A]6B:01" "$[B]@009"
inject -n "$[A]82:01" "$[B]@19A"
inject -n "$[A]0F:01" "$[B]@17E"
inject -n "$[A]57:01" "$[B]@172"
inject -n "$[A]3F:01" "$[B]@11D"
inject -n "$[A]7B:01" "$[B]@13B"
inject -n "$[A]99:01" "$[B]@141"
inject -n "$[A]A5:01" "$[B]@064"
inject -n "$[A]23:01" "$[B]@136"
inject -n "$[A]88:01" "$[B]@118"
inject -n "$[A]31:01" "$[B]@003"
inject -n "$[A]DC:01" "$[B]@073"
inject -n "$[A]32:01" "$[B]@1BC"
inject -n "$[A]81:01" "$[B]@1F5"
inject -n "$[A]ED:01" "$[B]@036"
inject -n "$[A]BB:01" "$[B]@1A1"
inject -n "$[A]CD:01" "$[B]@0EA"
inject -n "$[A]7F:01" "$[B]@10E"
inject -n "$[A]A5:01" "$[B]@057"
inject -n "$[A]AE:01" "$[B]@16E"
inject -n "$[A]0A:01" "$[B]@0E1"
inject -n "$[A]4A:01" "$[B]@0FD"
inject -n "$[A]03:01" "$[B]@1E0"
inject -n "$[A]EC:01" "$[B]@0DD"
inject -n "$[A]4A:01" "$[B]@06A"
inject -n "$[A]12:01" "$[B]@08A"
inject -n "$[A]92:01" "$[B]@125"
inject -n "$[A]53:01" "$[B]@112"
inject -n "$[A]AB:01" "$[B]@01A"
inject -n "$[A]97:01" "$[B]@090"
inject -n "$[A]B9:01" "$[B]@1BD"
inject -n "$[A]87:01" "$[B]@102"
inject -n "$[A]34:01" "$[B]@1A4"
inject -n "$[A]7A:01" "$[B]@001"
inject -n "$[A]41:01" "$[B]@0C9"
inject -n "$[A]3E:01" "$[B]@0E6"
inject -n "$[A]CA:01" "$[B]@088"
inject -n "$[A]CF:01" "$[B]@1D3"
inject -n "$[A]AD:01" "$[B]@1BE"
inject -n "$[A]6C:01" "$[B]@14A"
inject -n "$[A]B5:01" "$[B]@1ED"
inject -n "$[A]D3:01" "$[B]@1C8"
inject -n "$[A]F5:01" "$[B]@0AA"
inject -n "$[A]CD:01" "$[B]@151"
inject -n "$[A]39:01" "$[B]@05A"
inject -n "$[A]51:01" "$[B]@1AA"
inject -n "$[A]86:01" "$[B]@162"
inject -n "$[A]56:01" "$[B]@19C"
inject -n "$[A]EF:01" "$[B]@1A8"
inject -n "$[A]E4:01" "$[B]@029"
inject -n "$[A]FD:01" "$[B]@0F2"
inject -n "$[A]41:01" "$[B]@0F5"
inject -n "$[A]BC:01" "$[B]@1F9"
inject -n "$[A]46:01" "$[B]@0D8"
inject -n "$[A]6A:01" "$[B]@1EB"
inject -n "$[A]66:01" "$[B]@10B"
inject -n "$[A]73:01" "$[B]@18D"
inject -n "$[A]77:01" "$[B]@181"
inject -n "$[A]75:01" "$[B]@03F"
inject -n "$[A]F4:01" "$[B]@092"
inject -n "$[A]01:01" "$[B]@15B"
inject -n "$[A]C5:01" "$[B]@04D"
inject -n "$[A]13:01" "$[B]@0D6"
inject -n "$[A]C9:01" "$[B]@032"
inject -n "$[A]2F:01" "$[B]@0D7"
inject -n "$[A]CF:01" "$[B]@14E"
inject -n "$[A]93:01" "$[B]@109"
inject -n "$[A]AF:01" "$[B]@1A2"
inject -n "$[A]B6:01" "$[B]@09B"
inject -n "$[A]C0:01" "$[B]@1C6"
inject -n "$[A]F4:01" "$[B]@159"
inject -n "$[A]72:01" "$[B]@18C"
inject -n "$[A]93:01" "$[B]@06F"
inject -n "$[A]F8:01" "$[B]@1E5"
inject -n "$[A]D0:01" "$[B]@00B"
inject -n "$[A]A2:01" "$[B]@05E"
inject -n "$[A]1C:01" "$[B]@02A"
inject -n "$[A]5A:01" "$[B]@059"
inject -n "$[A]2B:01" "$[B]@101"
inject -n "$[A]7D:01" "$[B]@04E"
inject -n "$[A]86:01" "$[B]@08F"
inject -n "$[A]4B:01" "$[B]@03E"
inject -n "$[A]9D:01" "$[B]@041"
inject -n "$[A]A5:01" "$[B]@072"
inject -n "$[A]CC:01" "$[B]@076"
inject -n "$[A]9D:01" "$[B]@03D"
inject -n "$[A]06:01" "$[B]@1A7"
inject -n "$[A]10:01" "$[B]@03B"
inject -n "$[A]30:01" "$[B]@157"
inject -n "$[A]FE:01" "$[B]@0DC"
inject -n "$[A]4D:01" "$[B]@070"
inject -n "$[A]19:01" "$[B]@188"
inject -n "$[A]B6:01" "$[B]@0C0"
inject -n "$[A]48:01" "$[B]@08D"
inject -n "$[A]DE:01" "$[B]@1E9"
inject -n "$[A]11:01" "$[B]@124"
inject -n "$[A]AC:01" "$[B]@107"
inject -n "$[A]01:01" "$[B]@198"
inject -n "$[A]7B:01" "$[B]@022"
inject -n "$[A]CE:01" "$[B]@000"
inject -n "$[A]8B:01" "$[B]@0A9"
inject -n "$[A]17:01" "$[B]@0B1"
inject -n "$[A]FD:01" "$[B]@110"
inject -n "$[A]01:01" "$[B]@031"
inject -n "$[A]18:01" "$[B]@156"
inject -n "$[A]56:01" "$[B]@09D"
inject -n "$[A]3D:01" "$[B]@1FD"
inject -n "$[A]19:01" "$[B]@147"
inject -n "$[A]97:01" "$[B]@0E7"
inject -n "$[A]43:01" "$[B]@05D"
inject -n "$[A]20:01" "$[B]@011"
inject -n "$[A]4F:01" "$[B]@055"
inject -n "$[A]AD:01" "$[B]@1D8"
inject -n "$[A]F7:01" "$[B]@093"
inject -n "$[A]99:01" "$[B]@1F1"
inject -n "$[A]91:01" "$[B]@019"
inject -n "$[A]35:01" "$[B]@1A9"
inject -n "$[A]D9:01" "$[B]@117"
inject -n "$[A]16:01" "$[B]@01B"
inject -n "$[A]36:01" "$[B]@053"
inject -n "$[A]B3:01" "$[B]@149"
inject -n "$[A]18:01" "$[B]@00A"
inject -n "$[A]F5:01" "$[B]@0CA"
inject -n "$[A]C7:01" "$[B]@09E"
inject -n "$[A]44:01" "$[B]@0B4"
inject -n "$[A]7D:01" "$[B]@080"
inject -n "$[A]FB:01" "$[B]@0AF"
inject -n "$[A]C6:01" "$[B]@020"
inject -n "$[A]7B:01" "$[B]@169"
inject -n "$[A]60:01" "$[B]@186"
inject -n "$[A]73:01" "$[B]@08B"
inject -n "$[A]9F:01" "$[B]@01E"
inject -n "$[A]09:01" "$[B]@168"
inject -n "$[A]6C:01" "$[B]@0B3"
inject -n "$[A]04:01" "$[B]@144"
inject -n "$[A]EB:01" "$[B]@17D"
inject -n "$[A]70:01" "$[B]@0D3"
inject -n "$[A]17:01" "$[B]@0ED"
inject -n "$[A]EB:01" "$[B]@026"
inject -n "$[A]3C:01" "$[B]@056"
inject -n "$[A]42:01" "$[B]@1DA"
inject -n "$[A]F1:01" "$[B]@082"
inject -n "$[A]18:01" "$[B]@0D0"
set A ""
set B ""

if chk "$[FORCED_SECTOR0x96_MODE]" "activated"
	goto SKIP_SECTOR0x96_(BOOTROM)
end

@SKIP_SECTOR0x96_HASH_CHECK
set FORCED_SECTOR0x96_MODE ""


##########################################################
# Automatically update FIRM0 to boot9strap v1.3.         #
##########################################################

set MAGIC_CHECK ""
fget "S:/firm0.bin@00:04" MAGIC_CHECK

  if not chk "$[MAGIC_CHECK]" "4649524D" # 'FIRM'
	cp -o -s -n -w "S:/firm0.bin" "$[NAND_DIR]/firm0.bin"
elif sha "S:/firm0.bin@0000:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B" # v1.3
	goto SKIP_BOOT9STRAP_FIRM0
elif sha "S:/firm0.bin@000:10C00" "A765E44844BD5667CC1D7A9A89AD45EC674F8392367F4418CCB08152581D7B3A" # v1.2
elif sha "S:/firm0.bin@000:10C00" "D77BEE742E7E7D528BAA20E6ADA7AC822598DDCACDFC81B1F13E32C94F4EBC50" # v1.1
elif sha "S:/firm0.bin@000:20800" "43978C226D3164047051B1B534D6589608F1FA04E0B1766E1FDBEB3BC41707B6" # v1.0
else
	# Backup the FIRM0 partition. This script cannot account for different bootloaders such as fastboot3DS.
	cp -o -s -n -w "S:/firm0.bin" "$[NAND_DIR]/firm0.bin"
end

@FORCE_BOOT9STRAP_FIRM0

if sha "$[CURRDIR]/CTRTransfer (Type D9).gm9@83800:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B"
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@83800:7800" "S:/firm0.bin@000" # v1.3
end

if not sha "S:/firm0.bin@000:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B" # v1.3
	goto FORCE_BOOT9STRAP_FIRM0
end

@SKIP_BOOT9STRAP_FIRM0
set MAGIC_CHECK ""


##########################################################
# Automatically update FIRM1 to boot9strap v1.3.         #
##########################################################

set MAGIC_CHECK ""
fget "S:/firm1.bin@00:04" MAGIC_CHECK

  if not chk "$[MAGIC_CHECK]" "4649524D" # 'FIRM'
	cp -o -s -n -w "S:/firm1.bin" "$[NAND_DIR]/firm1.bin"
elif sha "S:/firm1.bin@0000:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B" # v1.3
	goto SKIP_BOOT9STRAP_FIRM1
elif sha "S:/firm1.bin@000:10C00" "A765E44844BD5667CC1D7A9A89AD45EC674F8392367F4418CCB08152581D7B3A" # v1.2
elif sha "S:/firm1.bin@000:10C00" "D77BEE742E7E7D528BAA20E6ADA7AC822598DDCACDFC81B1F13E32C94F4EBC50" # v1.1
elif sha "S:/firm1.bin@000:20800" "43978C226D3164047051B1B534D6589608F1FA04E0B1766E1FDBEB3BC41707B6" # v1.0
else
	# Backup the FIRM1 partition. This script cannot account for different bootloaders such as fastboot3DS.
	cp -o -s -n -w "S:/firm1.bin" "$[NAND_DIR]/firm1.bin"
end

@FORCE_BOOT9STRAP_FIRM1

if sha "$[CURRDIR]/CTRTransfer (Type D9).gm9@83800:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B"
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@83800:7800" "S:/firm1.bin@000" # v1.3
end

if not sha "S:/firm1.bin@000:7800" "79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B" # v1.3
	goto FORCE_BOOT9STRAP_FIRM1
end

@SKIP_BOOT9STRAP_FIRM1
set MAGIC_CHECK ""
goto CHOICE_Inject_HBL_to_Camera


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################

@CHOICE_DSiWare_CIAs_&_Saves
                                                          set PREVIEW_MODE "FULL"
	labelsel -o -s "DSiWare CIAs & Saves\nPress (B) to return to Menu Options." DSIWARE_*
goto MENU


##########################################################
# After reinstalling DSi homebrew apps and games, use    #
# this to copy and paste back their SAV files.           #
##########################################################


@DSIWARE_Restore_Saves
                                                          set PREVIEW_COLOR_COMMENT "4da6ff" # cornflower blue
set TWLN_DIR_SELECTION ""

if not dirsel "Select the 'dsiware' folder." "$[GM9OUT]" TWLN_DIR_SELECTION
	set PREVIEW_COLOR_COMMENT "606070"
	goto CHOICE_DSiWare_CIAs_&_Saves
end
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
if findnot "$[TWLN_DIR_SELECTION]/extracted saves" NULL
	echo "The 'extracted saves' subfolder \nwas not found.\n \nEither the wrong folder was selected \nor no backed up saves exist."
	goto DSIWARE_Restore_Saves
end

if not allow -a "2:/title" # Level 1 
	echo "[2:] SYSNAND TWLN/title\nAccess denied."
	goto DSIWARE_Restore_Saves
end

if find -f "$[TWLN_DIR_SELECTION]/*.cia" NULL
		goto DETECTED_CIA_FILES
	else
		goto RESTORE_SAVES
end

@DETECTED_CIA_FILES

if not ask "CIA files detected in this directory.\n \nSave restore only works after \nreinstalling DSiWare titles.\n \nContinue restoring saves anyway?"
	goto DSIWARE_Restore_Saves
end

@RESTORE_SAVES

set TID_HIGH ""
set TID_LOW ""

if find -f "$[TWLN_DIR_SELECTION]/extracted saves/title/*" TID_HIGH
	strsplit TID_HIGH "$[TID_HIGH]" "/"
else
	mv -o -s -n -w "$[TWLN_DIR_SELECTION]/extracted saves/title_temp" "$[TWLN_DIR_SELECTION]/extracted saves/title"
	set TID_LOW ""
	set TID_HIGH ""
	
	if fget "$[TWLN_DIR_SELECTION]/save_restore_error.txt@00:01" NULL
			echo "$[TWLN_DIR_SELECTION]/\nsave_restore_error.txt\n \nRestore error(s) encountered."
			textview "$[TWLN_DIR_SELECTION]/save_restore_error.txt"
		else
			rm -o -s "$[TWLN_DIR_SELECTION]/save_restore_error.txt"
	end
	
	echo "DSiWare saves restored."
	goto CHOICE_DSiWare_CIAs_&_Saves
end

# ~ # ~ # ~ # ~ #

if find -f "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]/*" TID_LOW
	strsplit TID_LOW "$[TID_LOW]" "/"
else
	mv -o -s -n -w "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]" "$[TWLN_DIR_SELECTION]/extracted saves/title_temp/$[TID_HIGH]"
	goto RESTORE_SAVES
end

# ~ # ~ # ~ # ~ #

if not find -f "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" NULL
	dumptxt -p "$[TWLN_DIR_SELECTION]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Backed up SAV is missing."
	mv -o -s -n -w "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]" "$[TWLN_DIR_SELECTION]/extracted saves/title_temp/$[TID_HIGH]/$[TID_LOW]"
	goto RESTORE_SAVES
end

# ~ # ~ # ~ # ~ #

if findnot "2:/title/$[TID_HIGH]/$[TID_LOW]" NULL
	dumptxt -p "$[TWLN_DIR_SELECTION]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Game not installed."
	mv -o -s -n -w "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]" "$[TWLN_DIR_SELECTION]/extracted saves/title_temp/$[TID_HIGH]/$[TID_LOW]"
	goto RESTORE_SAVES
end

# ~ # ~ # ~ # ~ #

if find -f "2:/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" NULL
		cp -o -s -n -w "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]/data" "2:/title/$[TID_HIGH]/$[TID_LOW]/data"
	else
		dumptxt -p "$[TWLN_DIR_SELECTION]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Installed game's SAV file is missing."
end

# ~ # ~ # ~ # ~ #

mv -o -s -n -w "$[TWLN_DIR_SELECTION]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]" "$[TWLN_DIR_SELECTION]/extracted saves/title_temp/$[TID_HIGH]/$[TID_LOW]"
goto RESTORE_SAVES


# ~ # ~ # ~ # ~ #

@DSIWARE_Backup_CIAs_&_Saves 

##########################################################
# This option is for those who are moving their DSiWare  #
# collection from one 3DS/2DS system to another such     #
# as in a 'System Transfer' or library cloning/sharing.  #
# A minimum free space of about 200 MB on the SD card is #
# required to copy the '2:/title', build the CIAs, and   #
# extract the individual save files. Use the DSiWare     #
# 'Restore Saves' after installing the CIAs with 'FBI'.  #
##########################################################
                                                          set PREVIEW_COLOR_COMMENT "4d4dff" # neon blue
                                                          echo "About backing up DSiWare."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
if not ask "Continue with backing up DSiWare?\nPress (B) to cancel attempt."
	goto CHOICE_DSiWare_CIAs_&_Saves
end

if findnot "$[GM9OUT]" NULL
	mkdir "$[GM9OUT]"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set LITMUS_FILE ""

if findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE
	strsplit LITMUS_FILE "$[LITMUS_FILE]" "/"
end

fdummy "$[GM9OUT]/$[LITMUS_FILE]" "C800000"

if fget "$[GM9OUT]/$[LITMUS_FILE]@C7FFFFF:01" NULL
	rm -o -s "$[GM9OUT]/$[LITMUS_FILE]"
	set LITMUS_FILE ""
else
	rm -o -s "$[GM9OUT]/$[LITMUS_FILE]"
	set LITMUS_FILE ""
	echo "Insufficient memory.\n200 MB of free space is required."
	goto CHOICE_DSiWare_CIAs_&_Saves
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set TWLN_DIR ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_dsiware_???" TWLN_DIR

@FIX_TWLN_DIR_STANDALONE

if not mkdir "$[TWLN_DIR]"
end

if find "$[TWLN_DIR]" NULL
		rm -o -s "$[TWLN_DIR]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_dsiware_???" TWLN_DIR
		goto FIX_TWLN_DIR_STANDALONE
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set GM9OUT_TEMP_DIR ""

findnot "0:/gm9/out_temp_???" GM9OUT_TEMP_DIR

@FIX_GM9OUT_TEMP_DIR_STANDALONE

if not mkdir "$[GM9OUT_TEMP_DIR]"
end

if find "$[GM9OUT_TEMP_DIR]" NULL
		rm -o -s "$[GM9OUT_TEMP_DIR]"
	else
		findnot "0:/gm9/out_temp_????" GM9OUT_TEMP_DIR
		goto FIX_GM9OUT_TEMP_DIR_STANDALONE
end

mv -o -s -n -w "$[GM9OUT]" "$[GM9OUT_TEMP_DIR]"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

cp -o -s -n -w "2:/title" "$[TWLN_DIR]/title"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@FIND_NEXT_DSIWARE_STANDALONE

set TID_HIGH ""
set TID_LOW ""
set TMD_FILE ""
set CIA_FILE ""
set SAVE_FILE ""

if find -f "$[TWLN_DIR]/title/*" TID_HIGH
	strsplit TID_HIGH "$[TID_HIGH]" "/"
end

if find -f "$[TWLN_DIR]/title/$[TID_HIGH]/*" TID_LOW
	strsplit TID_LOW "$[TID_LOW]" "/"
end

if find -f "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/content/*.tmd" TMD_FILE
	strsplit TMD_FILE "$[TMD_FILE]" "/"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_TRY_AGAIN_STANDALONE

if buildcia -o -s "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/content/$[TMD_FILE]"
		goto BUILDCIA_SUCCESS_STANDALONE
	else
		goto BUILDCIA_FAILED_STANDALONE
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_FAILED_STANDALONE

  if chk "$[TMD_FILE]" ""
	goto BUILDCIA_SUCCESS_STANDALONE
elif ask "Title ID: $[TID_HIGH]$[TID_LOW]\nFailed to build CIA.\n \nTry again?"
	goto BUILDCIA_TRY_AGAIN_STANDALONE
else
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" "$[TID_HIGH]$[TID_LOW]"
	dumptxt -p "$[TWLN_DIR]/dsiware_missing_titles.txt" ""
end 

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@BUILDCIA_SUCCESS_STANDALONE

  if find "$[GM9OUT]/0000000*.cia" CIA_FILE
  	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[GM9OUT]/$[TID_HIGH]$[TID_LOW].cia"
	set CIA_FILE "$[TID_HIGH]$[TID_LOW].cia"
elif find "$[GM9OUT]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[GM9OUT]/$[CIA_FILE]" NULL
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[TWLN_DIR]/$[CIA_FILE]"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" SAVE_FILE
	strsplit SAVE_FILE "$[SAVE_FILE]" "/"
	mv -o -s -n "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]/data/$[SAVE_FILE]" "$[TWLN_DIR]/extracted saves/title/$[TID_HIGH]/$[TID_LOW]/data/$[SAVE_FILE]"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

  if chk "$[TID_HIGH]" ""
	rm -o -s "$[TWLN_DIR]/title"
elif find "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]" NULL
	rm -o -s "$[TWLN_DIR]/title/$[TID_HIGH]/$[TID_LOW]"
	goto FIND_NEXT_DSIWARE_STANDALONE
elif chk "$[TID_LOW]" ""
	rm -o -s "$[TWLN_DIR]/title/$[TID_HIGH]"
	goto FIND_NEXT_DSIWARE_STANDALONE
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set FIX_TWL-B88A_CIA_DIR ""

if find "$[TWLN_DIR]/0003000542383841 NINTENDO DSi* (TWL-B88A) (DSi Exclusive) (W).cia" FIX_TWL-B88A_CIA_DIR
	mv -o -s -n -w "$[FIX_TWL-B88A_CIA_DIR]" "$[TWLN_DIR]/0003000542383841 NINTENDO DSi (TWL-B88A) (DSi Exclusive) (W).cia"
	set FIX_TWL-B88A_CIA_DIR ""
end

rm -o -s "$[TWLN_DIR]/0003000542383841 NINTENDO DSi (TWL-B88A) (DSi Exclusive) (W).cia"
rm -o -s "$[TWLN_DIR]/DS Download Play (NTR-HNDA).cia"
rm -o -s "$[TWLN_DIR]/0003000f484e4841.cia"
rm -o -s "$[TWLN_DIR]/0003000f484e4c41.cia"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

mv -o -s -n -w "$[GM9OUT_TEMP_DIR]" "$[GM9OUT]"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if find "$[TWLN_DIR]/dsiware_missing_titles.txt" NULL
	echo "$[TWLN_DIR]/\ndsiware_missing_titles.txt\n \nBuild error(s) encountered."
	textview "$[TWLN_DIR]/dsiware_missing_titles.txt"
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

  if find -f "$[TWLN_DIR]/*.cia" NULL
	echo "$[TWLN_DIR]\nDSiWare backup success."
elif find -f "$[TWLN_DIR]/extracted saves/*" NULL
	echo "$[TWLN_DIR]\nDSiWare backup success."
else
	echo "$[TWLN_DIR]\nDSiWare backup failed."
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

goto CHOICE_DSiWare_CIAs_&_Saves


# ~ # ~ # ~ # ~ #

@DSIWARE_Convert_CIAs_(legit_to_standard)
                                                          set PREVIEW_COLOR_COMMENT "4dffff" # light cyan
##########################################################
# This converts DSiWare games that were dumped as legit  #
# CIAs into standard CIAs. Use this if FBI can't install #
# them, or they're not available to redownload at eShop. #
##########################################################

if not dirsel "Select the 'dsiware' folder." "$[GM9OUT]" TWLN_DIR
	set PREVIEW_COLOR_COMMENT "606070"
	goto CHOICE_DSiWare_CIAs_&_Saves
end

set PREVIEW_COLOR_COMMENT "606070"

if not find "$[TWLN_DIR]/*.cia" NULL
	echo "$[TWLN_DIR]\nNo CIAs found."
	goto CHOICE_DSiWare_CIAs_&_Saves
end

findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE
fdummy "$[LITMUS_FILE]" "C800000"

if fget "$[LITMUS_FILE]@C7FFFFF:01" NULL
	rm -o -s "$[LITMUS_FILE]"
	set LITMUS_FILE ""
else
	rm -o -s "$[LITMUS_FILE]"
	set LITMUS_FILE ""
	echo "Insufficient memory.\n200 MB of free space is required."
	goto CHOICE_DSiWare_CIAs_&_Saves
end

# ~ # ~ # ~ # ~ #

if findnot "$[TWLN_DIR]/1. cias (system)" NULL
	mkdir "$[TWLN_DIR]/1. cias (system)"
end

if findnot "$[TWLN_DIR]/2. cias (standard)" NULL
	mkdir "$[TWLN_DIR]/2. cias (standard)"
end

if findnot "$[TWLN_DIR]/3. cias (converted)" NULL
	mkdir "$[TWLN_DIR]/3. cias (converted)"
end

if findnot "$[TWLN_DIR]/4. cias (legit)" NULL
	mkdir "$[TWLN_DIR]/4. cias (legit)"
end

if findnot "$[TWLN_DIR]/5. tickets (legit)" NULL
	mkdir "$[TWLN_DIR]/5. tickets (legit)"
end

# ~ # ~ # ~ # ~ #

mv -o -s -n -w "$[TWLN_DIR]/DS Download Play (NTR-HNDA).legit.cia" "$[TWLN_DIR]/1. cias (system)/DS Download Play (NTR-HNDA).legit.cia"

@REPEAT_SORT_0000000X
if find "$[TWLN_DIR]/0000000*.legit.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[TWLN_DIR]/$[CIA_FILE]" "$[TWLN_DIR]/1. cias (system)/$[CIA_FILE]"
	set CIA_FILE ""
	goto REPEAT_SORT_0000000X
end

@REPEAT_SORT_SYSTEM
set CIA_FILE ""

  if find "$[TWLN_DIR]/00040010*.cia" CIA_FILE # System Applications
elif find "$[TWLN_DIR]/0004001B*.cia" CIA_FILE # System Data Archives
elif find "$[TWLN_DIR]/00040030*.cia" CIA_FILE # System Applets
elif find "$[TWLN_DIR]/0004009B*.cia" CIA_FILE # Shared Data Archives
elif find "$[TWLN_DIR]/000400DB*.cia" CIA_FILE # System Data Archives
elif find "$[TWLN_DIR]/00040130*.cia" CIA_FILE # System Modules
elif find "$[TWLN_DIR]/00040138*.cia" CIA_FILE # System Firmware
elif find "$[TWLN_DIR]/00048005*.cia" CIA_FILE # TWL System Applications
elif find "$[TWLN_DIR]/0004800F*.cia" CIA_FILE # TWL System Data Archives
elif find "$[TWLN_DIR]/00030005*.cia" CIA_FILE # TWL System Applications (renamed '00048005*.cia')
elif find "$[TWLN_DIR]/0003000F*.cia" CIA_FILE # TWL System Data Archives (renamed '0004800F*.cia')
end

if not chk "$[CIA_FILE]" ""
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[TWLN_DIR]/$[CIA_FILE]" "$[TWLN_DIR]/1. cias (system)/$[CIA_FILE]"
	goto REPEAT_SORT_SYSTEM
end

# ~ # ~ # ~ # ~ #

@REPEAT_SORT_LEGIT
if find "$[TWLN_DIR]/*.legit.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[TWLN_DIR]/$[CIA_FILE]" "$[TWLN_DIR]/4. cias (legit)/$[CIA_FILE]"
	set CIA_FILE ""
	goto REPEAT_SORT_LEGIT
end

# ~ # ~ # ~ # ~ #

@REPEAT_SORT_STANDARD
if find "$[TWLN_DIR]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[TWLN_DIR]/$[CIA_FILE]" "$[TWLN_DIR]/2. cias (standard)/$[CIA_FILE]"
	set CIA_FILE ""
	goto REPEAT_SORT_STANDARD
end

# ~ # ~ # ~ # ~ #

cp -o -s -n -w "$[TWLN_DIR]/4. cias (legit)" "$[TWLN_DIR]"

@REPEAT_CONVERT_STANDARD
if find "$[TWLN_DIR]/*.legit.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	strsplit -b CIA_FILE "$[CIA_FILE]" "."
	strsplit -b CIA_FILE "$[CIA_FILE]" "."
	if imgmount "$[TWLN_DIR]/$[CIA_FILE].legit.cia"
		fget "G:/ticket.bin@1D8:04" DEVICE_ID
		fget "G:/ticket.bin@1DC:08" TITLE_ID
		cp -o -s -n -w "G:/ticket.bin" "$[TWLN_DIR]/5. tickets (legit)/$[TITLE_ID].$[DEVICE_ID].tik"
		set DEVICE_ID ""
		set TITLE_ID ""
		imgumount
	end	
	decrypt -o -s "$[TWLN_DIR]/$[CIA_FILE].legit.cia"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2A44:100" "FF"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2BC0:3C" "FF"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2C10:0C" "00"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2C26:01" "00"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2C31:01" "00"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2C5C:04" "00"
	fill -n "$[TWLN_DIR]/$[CIA_FILE].legit.cia@2D10:20" "FF"
	mv -o -s -n -w "$[TWLN_DIR]/$[CIA_FILE].legit.cia" "$[TWLN_DIR]/3. cias (converted)/$[CIA_FILE].cia"
	set CIA_FILE ""
	goto REPEAT_CONVERT_STANDARD
end

# ~ # ~ # ~ # ~ #

if not find "$[TWLN_DIR]/1. cias (system)/*" NULL
	rm -o -s "$[TWLN_DIR]/1. cias (system)"
end

if not find "$[TWLN_DIR]/2. cias (standard)/*" NULL
	rm -o -s "$[TWLN_DIR]/2. cias (standard)"
end

if not find "$[TWLN_DIR]/4. cias (legit)/*" NULL
	rm -o -s "$[TWLN_DIR]/4. cias (legit)"
end

if not find "$[TWLN_DIR]/5. tickets (legit)/*" NULL
	rm -o -s "$[TWLN_DIR]/5. tickets (legit)"
end

if not find "$[TWLN_DIR]/3. cias (converted)/*" NULL
	rm -o -s "$[TWLN_DIR]/3. cias (converted)"
	echo "$[TWLN_DIR]\nNo legit game CIAs found."
else
	echo "$[TWLN_DIR]\nCIAs conversion complete."
end

set LITMUS_FILE ""
set CIA_FILE ""
set TWLN_DIR ""
set DEVICE_ID ""
goto CHOICE_DSiWare_CIAs_&_Saves


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_Fix_movable.sed_KeyY

set PREVIEW_MODE "FULL"
set PREVIEW_COLOR_COMMENT "b3b300" # dark yellow

##########################################################
# If the entire CTRNAND was erased and then restored     #
# with CTRTransfer, there's a chance your library of     #
# games may no longer be recognizable by the 2DS/3DS.    #
# This is due to a mismatch in encryption between the    #
# 'KeyY' in the 'movable.sed' and the '<ID0>' subfolder  #
# found in the 'Nintendo 3DS' folder. It is possible to  #
# restore the original 'KeyY' tied to that '<ID0>'       #
# subfolder as long as the user profile with those games #
# did not come from a 'System Transfer'. This option can #
                                                          echo "About restoring missing games."
# only fix 'KeyY' changed from 'Format System Memory'.   #
# Titles not shown on 'HOME Menu' due to missing tickets #
# do not fall under this category. To check for this,    #
# look for greyed out X markings at: System Settings >   #
# Data Management > Nintendo 3DS > Software. To restore  #
# legit tickets of eShop purchases, use 'FBI' to install #
# them if they were previously backed up. For nonlegit   #
# titles, use 'faketik' to install spoofed tickets.      #
##########################################################
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
if not ask "Continue with finding the correct 'KeyY'?\nPress (B) button to cancel attempt."
	goto MENU
end

  if findnot "1:/private/movable.sed" NULL
	echo "1:/private/movable.sed\nFile is missing."
	goto MENU
elif findnot "0:/Nintendo 3DS" NULL
	echo "0:/Nintendo 3DS\nFolder is missing."
	goto MENU
end

if not find -f "0:/Nintendo 3DS/*" NULL
	echo "0:/Nintendo 3DS\nNo usable <ID0> folder entry."
	goto MENU
end

  if not allow "1:/private/movable.sed" # Level 2
	echo "[1:] SYSNAND CTRNAND/private/movable.sed\nAccess denied."
	goto CHOICE_Fix_movable.sed_KeyY
elif not allow -a "1:/"
	echo "[1:] SYSNAND CTRNAND\nAccess denied."
	goto CHOICE_Fix_movable.sed_KeyY
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set LITMUS_FILE ""

if findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE
	strsplit LITMUS_FILE "$[LITMUS_FILE]" "/"
end

fdummy "$[GM9OUT]/$[LITMUS_FILE]" "C800000"

if fget "$[GM9OUT]/$[LITMUS_FILE]@C7FFFFF:01" NULL
	rm -o -s "$[GM9OUT]/$[LITMUS_FILE]"
	set LITMUS_FILE ""
else
	rm -o -s "$[GM9OUT]/$[LITMUS_FILE]"
	set LITMUS_FILE ""
	echo "Insufficient memory.\n200 MB of free space is required."
	goto MENU
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set <ID0>_NAME ""

find -f "0:/Nintendo 3DS/*" <ID0>_NAME

strsplit <ID0>_NAME "$[<ID0>_NAME]" "/"

if not chk "$[<ID0>_NAME]" "Private"
	goto SKIP_PRIVATE_FOLDER_CHECK
end

set <ID0>_NAME ""

find "0:/Nintendo 3DS/*" <ID0>_NAME

strsplit <ID0>_NAME "$[<ID0>_NAME]" "/"

if chk "$[<ID0>_NAME]" "Private"
	echo "0:/Nintendo 3DS\nNo usable <ID0> folder entry."
	goto MENU
end

@SKIP_PRIVATE_FOLDER_CHECK

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set MAGIC_CHECK ""

if not fget "1:/private/movable.sed@00:04" MAGIC_CHECK
	echo "1:/private/movable.sed\nFailed to find magic 'SEED'."
	goto MENU
end

if not chk "$[MAGIC_CHECK]" "53454544" # 'SEED'
	echo 1:/private/movable.sed\nMagic does not match 'SEED'."
	goto MENU
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set MOVABLE_SIZE ""

  if fget "1:/private/movable.sed@140:01" NULL
	echo "1:/private/movable.sed\nFile is too big."
	goto MENU
elif fget "1:/private/movable.sed@13F:01" NULL
	set MOVABLE_SIZE "320 bytes"
elif fget "1:/private/movable.sed@120:01" NULL
	echo "1:/private/movable.sed\nFile is too big."
	goto MENU
elif fget "1:/private/movable.sed@11F:01" NULL
	set MOVABLE_SIZE "288 bytes"
else
	echo "1:/private/movable.sed\nFile size is too small."
	goto MENU
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@SELECT_<ID0>_DIR

set <ID0>_NAME ""

if not dirsel "Select the 32-char <ID0> folder.\nPress (B) to return to Menu Options." "0:/Nintendo 3DS" <ID0>_NAME
	goto MENU
end

strsplit <ID0>_NAME "$[<ID0>_NAME]" "/"

if chk "$[<ID0>_NAME]" "Private"
	goto SELECT_<ID0>_DIR
end

if not ask "<ID0>: $[<ID0>_NAME]\n \nIs this the correct folder?\nThis may take a while..."
	goto SELECT_<ID0>_DIR
end

                                                          set PREVIEW_COLOR_COMMENT "ffff00" # yellow
##########################################################
#                                                        #
#              ~ EXPECTED MAX TIME DURATION ~            #
#       Allow for 1.5 hours to complete the search.      #
#                                                        #
#                 ~ EARLY CANCELLATION ~                 #
#      Hold the (B) button to bring up quit option.      #
#                                                        #
##########################################################

echo "Allow for 1.5 hours to complete the search.\nHold the (B) button to bring up quit option."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set MOVABLE_FILE ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_???_movable.sed" MOVABLE_FILE

@FIX_MOVABLE_DIR

if not fdummy "$[MOVABLE_FILE]" "01"
end

if find "$[MOVABLE_FILE]" NULL
		rm -o -s "$[MOVABLE_FILE]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_???_movable.sed" MOVABLE_FILE
		goto FIX_MOVABLE_DIR
end

if find "1:/private/movable.sed" NULL
	cp -o -s -n -w "1:/private/movable.sed" "$[MOVABLE_FILE]"
	set MOVABLE_FILE_SHA "$[MOVABLE_FILE].sha"
else
	echo "1:/private/movable.sed\nFile could not be copied."
	goto MENU
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

  if chk "$[MOVABLE_SIZE]" "320 bytes"
	fget "$[MOVABLE_FILE]@118:01" HEXVALUE_0x118_BACKWARDS
	fget "$[MOVABLE_FILE]@120:01" HEXVALUE_0x120_BACKWARDS
	set HEXVALUE_0x118_FORWARDS "$[HEXVALUE_0x118_BACKWARDS]"
	set HEXVALUE_0x120_FORWARDS "$[HEXVALUE_0x120_BACKWARDS]"
elif chk "$[MOVABLE_SIZE]" "288 bytes"
	fget "$[MOVABLE_FILE]@118:01" HEXVALUE_0x118_BACKWARDS
	set HEXVALUE_0x118_FORWARDS "$[HEXVALUE_0x118_BACKWARDS]"
end

fget "$[MOVABLE_FILE]@110:10" INITIAL_KEY_Y
set INITIAL_0x118 "$[HEXVALUE_0x118_BACKWARDS]"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set INITIAL_<ID0>_CALCULATED ""

@SHAGET_INITIAL_MOVABLE

if not shaget "$[MOVABLE_FILE]@110:10" "$[MOVABLE_FILE_SHA]"
	goto SHAGET_INITIAL_MOVABLE
end

fget "$[MOVABLE_FILE_SHA]@00:04" U32_0
fget "$[MOVABLE_FILE_SHA]@04:04" U32_1
fget "$[MOVABLE_FILE_SHA]@08:04" U32_2
fget "$[MOVABLE_FILE_SHA]@0C:04" U32_3

fset -e "$[MOVABLE_FILE_SHA]@00" "$[U32_0]"
fset -e "$[MOVABLE_FILE_SHA]@04" "$[U32_1]"
fset -e "$[MOVABLE_FILE_SHA]@08" "$[U32_2]"
fset -e "$[MOVABLE_FILE_SHA]@0C" "$[U32_3]"

fget "$[MOVABLE_FILE_SHA]@00:10" INITIAL_<ID0>_CALCULATED


##########################################################
# Set the marker flag so that the script can continue    #
# past the first iteration when the 'backwards' and      #
# 'forwards' initial results are matching.               #
##########################################################

set GO_PAST_FIRST_MATCH "YES"
set LOOP_BREAK "NO_1"

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@SHAGET_MOVABLE_BACKWARDS

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	goto ASK_IF_WANT_TO_CANCEL_BACKWARDS
end

  if chk "$[MOVABLE_SIZE]" "320 bytes"
	fset "$[MOVABLE_FILE]@118" "$[HEXVALUE_0x118_BACKWARDS]"
	fset "$[MOVABLE_FILE]@120" "$[HEXVALUE_0x120_BACKWARDS]"
elif chk "$[MOVABLE_SIZE]" "288 bytes"
	fset "$[MOVABLE_FILE]@118" "$[HEXVALUE_0x118_BACKWARDS]"
end

if not shaget "$[MOVABLE_FILE]@110:10" "$[MOVABLE_FILE_SHA]"
	goto SHAGET_MOVABLE_BACKWARDS
else
	set LOOP_BREAK "NO_1"
	goto CONTINUE_FINDING_KEY_Y_BACKWARDS
end

# ~ # ~ # ~ # ~ #

@ASK_IF_WANT_TO_CANCEL_BACKWARDS

if ask "Would you like to end the search run?\n \nPress (A) to continue.\nPress (B) to cancel."
	set LOOP_BREAK "NO_1"
	goto SHAGET_MOVABLE_BACKWARDS
else
	rm -o -s "$[MOVABLE_FILE]"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	goto MENU
end

# ~ # ~ # ~ # ~ #

@CONTINUE_FINDING_KEY_Y_BACKWARDS

fget "$[MOVABLE_FILE_SHA]@00:04" U32_0
fget "$[MOVABLE_FILE_SHA]@04:04" U32_1
fget "$[MOVABLE_FILE_SHA]@08:04" U32_2
fget "$[MOVABLE_FILE_SHA]@0C:04" U32_3

fset -e "$[MOVABLE_FILE_SHA]@00" "$[U32_0]"
fset -e "$[MOVABLE_FILE_SHA]@04" "$[U32_1]"
fset -e "$[MOVABLE_FILE_SHA]@08" "$[U32_2]"
fset -e "$[MOVABLE_FILE_SHA]@0C" "$[U32_3]"

fget "$[MOVABLE_FILE_SHA]@00:10" <ID0>_CALCULATED_BACKWARDS

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if chk "$[<ID0>_CALCULATED_BACKWARDS]" "$[<ID0>_NAME]"
	fget "$[MOVABLE_FILE]@110:10" FINAL_KEY_Y
	goto KEY_Y-<ID0>_MATCH_FOUND
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set OFFSET_CHECK "0x118"

set HEXVALUE "$[HEXVALUE_0x118_BACKWARDS]"

goto INPUT_OLD_HEXVALUE_BACKWARDS

@OUTPUT_NEW_HEXVALUE_0x118_BACKWARDS

set HEXVALUE_0x118_BACKWARDS "$[HEXVALUE]"

# ~ # ~ # ~ # ~ #

  if chk "$[MOVABLE_SIZE]" "320 bytes"
	goto RUN_0x120_HEX_BACKWARDS
elif chk "$[MOVABLE_SIZE]" "288 bytes"
	goto SKIP_0x120_HEX_BACKWARDS
end

# ~ # ~ # ~ # ~ #

@RUN_0x120_HEX_BACKWARDS

set OFFSET_CHECK "0x120"

set HEXVALUE "$[HEXVALUE_0x120_BACKWARDS]"

goto INPUT_OLD_HEXVALUE_BACKWARDS

@OUTPUT_NEW_HEXVALUE_0x120_BACKWARDS

set HEXVALUE_0x120_BACKWARDS "$[HEXVALUE]"

@SKIP_0x120_HEX_BACKWARDS

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@SHAGET_MOVABLE_FORWARDS

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	goto ASK_IF_WANT_TO_CANCEL_FORWARDS
end

  if chk "$[MOVABLE_SIZE]" "320 bytes"
	fset "$[MOVABLE_FILE]@118" "$[HEXVALUE_0x118_FORWARDS]"
	fset "$[MOVABLE_FILE]@120" "$[HEXVALUE_0x120_FORWARDS]"
elif chk "$[MOVABLE_SIZE]" "288 bytes"
	fset "$[MOVABLE_FILE]@118" "$[HEXVALUE_0x118_FORWARDS]"
end

if not shaget "$[MOVABLE_FILE]@110:10" "$[MOVABLE_FILE_SHA]"
	goto SHAGET_MOVABLE_FORWARDS
else
	set LOOP_BREAK "NO_1"
	goto CONTINUE_FINDING_KEY_Y_FORWARDS
end

# ~ # ~ # ~ # ~ #

@ASK_IF_WANT_TO_CANCEL_FORWARDS

if ask "Would you like to end the search run?\n \nPress (A) to continue.\nPress (B) to cancel."
	set LOOP_BREAK "NO_1"
	goto SHAGET_MOVABLE_FORWARDS
else
	rm -o -s "$[MOVABLE_FILE]"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	goto MENU
end

# ~ # ~ # ~ # ~ #

@CONTINUE_FINDING_KEY_Y_FORWARDS

fget "$[MOVABLE_FILE_SHA]@00:04" U32_0
fget "$[MOVABLE_FILE_SHA]@04:04" U32_1
fget "$[MOVABLE_FILE_SHA]@08:04" U32_2
fget "$[MOVABLE_FILE_SHA]@0C:04" U32_3

fset -e "$[MOVABLE_FILE_SHA]@00" "$[U32_0]"
fset -e "$[MOVABLE_FILE_SHA]@04" "$[U32_1]"
fset -e "$[MOVABLE_FILE_SHA]@08" "$[U32_2]"
fset -e "$[MOVABLE_FILE_SHA]@0C" "$[U32_3]"

fget "$[MOVABLE_FILE_SHA]@00:10" <ID0>_CALCULATED_FORWARDS

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

if chk "$[<ID0>_CALCULATED_FORWARDS]" "$[<ID0>_NAME]"
	fget "$[MOVABLE_FILE]@110:10" FINAL_KEY_Y
	goto KEY_Y-<ID0>_MATCH_FOUND
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

set OFFSET_CHECK "0x118"

set HEXVALUE "$[HEXVALUE_0x118_FORWARDS]"

goto INPUT_OLD_HEXVALUE_FORWARDS

@OUTPUT_NEW_HEXVALUE_0x118_FORWARDS

set HEXVALUE_0x118_FORWARDS "$[HEXVALUE]"

# ~ # ~ # ~ # ~ #

  if chk "$[MOVABLE_SIZE]" "320 bytes"
	goto RUN_0x120_HEX_FORWARDS
elif chk "$[MOVABLE_SIZE]" "288 bytes"
	goto SKIP_0x120_HEX_FORWARDS
end

# ~ # ~ # ~ # ~ #

@RUN_0x120_HEX_FORWARDS

set OFFSET_CHECK "0x120"

set HEXVALUE "$[HEXVALUE_0x120_FORWARDS]"

goto INPUT_OLD_HEXVALUE_FORWARDS

@OUTPUT_NEW_HEXVALUE_0x120_FORWARDS

set HEXVALUE_0x120_FORWARDS "$[HEXVALUE]"

@SKIP_0x120_HEX_FORWARDS

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

 if chk "$[HEXVALUE_0x118_BACKWARDS]" "$[INITIAL_0x118]"
	rm -o -s "$[MOVABLE_FILE]"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	echo "Could not find KeyY matching <ID0>."
	goto MENU
elif chk "$[HEXVALUE_0x118_FORWARDS]" "$[INITIAL_0x118]"
	rm -o -s "$[MOVABLE_FILE]"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	echo "Could not find KeyY matching <ID0>."
	goto MENU
elif chk "$[GO_PAST_FIRST_MATCH]" "YES"
	set GO_PAST_FIRST_MATCH "NO"
	goto SHAGET_MOVABLE_BACKWARDS
elif chk "$[<ID0>_CALCULATED_BACKWARDS]" "$[<ID0>_CALCULATED_FORWARDS]"
	rm -o -s "$[MOVABLE_FILE]"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	echo "Could not find KeyY matching <ID0>."
	goto MENU
else
	goto SHAGET_MOVABLE_BACKWARDS
end

# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@KEY_Y-<ID0>_MATCH_FOUND

# ~ # ~ # ~ # ~ #

set NAND_DIR ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_sysnand ctrnand_???" NAND_DIR

@FIX_NAND_DIR_2

if not mkdir "$[NAND_DIR]"
end

if find "$[NAND_DIR]" NULL
		rm -o -s "$[NAND_DIR]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_sysnand ctrnand_???" NAND_DIR
		goto FIX_NAND_DIR_2
end

# ~ # ~ # ~ # ~ #

if chk "$[INITIAL_KEY_Y]" "$[FINAL_KEY_Y]"
	rm -o -s "$[MOVABLE_FILE]"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	echo "Old KeyY: $[INITIAL_KEY_Y]\n<ID0>: $[INITIAL_<ID0>_CALCULATED]\n \nNew KeyY: $[FINAL_KEY_Y]\n<ID0>: $[<ID0>_NAME]\n \nCurrent 'KeyY' matches <ID0> folder."
	goto MENU
end

# ~ # ~ # ~ # ~ #

if ask "Old KeyY: $[INITIAL_KEY_Y]\n<ID0>: $[INITIAL_<ID0>_CALCULATED]\n \nNew KeyY: $[FINAL_KEY_Y]\n<ID0>: $[<ID0>_NAME]\n \nFound match success.\n \nMake 'KeyY' corrections to 'movable.sed'?"
	rm -o -s "$[MOVABLE_FILE_SHA]"
	mv -o -s -n -w "$[MOVABLE_FILE]" "$[MOVABLE_FILE].bak"
	cp -o -s -n -w "1:/private/movable.sed" "$[MOVABLE_FILE]"
	mv -o -s -n -w "$[MOVABLE_FILE].bak" "1:/private/movable.sed"
	fixcmac -o -s "1:/private/movable.sed"
	strsplit MOVABLE_FILE "$[MOVABLE_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[MOVABLE_FILE]" "$[NAND_DIR]/$[INITIAL_<ID0>_CALCULATED]_movable.sed"
	cp -o -s -n -w "1:/data" "$[NAND_DIR]/data"
	
	echo "Original file and 'data' profile backed up at:\n$[NAND_DIR]"
	
	if find "1:/data/$[INITIAL_<ID0>_CALCULATED]" NULL
		if ask "Import the 'data' profile?\n \nFrom:\n1:/data/$[INITIAL_<ID0>_CALCULATED]\n \nTo:\n1:/data/$[<ID0>_NAME]"
			mv -o -s -n -w "1:/data/$[INITIAL_<ID0>_CALCULATED]" "1:/data/$[<ID0>_NAME]"
			rm -o -s "1:/data/$[<ID0>_NAME]/sysdata/00010011" # Delete the Secure Value to prevent anti-cheat save erase.
			fixcmac -o -s "1:/data"
		end
	end
	
	goto MENU
else
	rm -o -s "$[MOVABLE_FILE_SHA]"
	mv -o -s -n -w "$[MOVABLE_FILE]" "$[MOVABLE_FILE].bak"
	cp -o -s -n -w "1:/private/movable.sed" "$[MOVABLE_FILE]"
	mv -o -s -n -w "$[MOVABLE_FILE].bak" "1:/private/movable.sed"
	fixcmac -o -s "1:/private/movable.sed"
	mv -o -s -n -w "1:/private/movable.sed" "$[MOVABLE_FILE].bak"
	cp -o -s -n -w "$[MOVABLE_FILE]" "1:/private/movable.sed"
	mv -o -s -n -w "$[MOVABLE_FILE].bak" "$[MOVABLE_FILE]"
	strsplit MOVABLE_FILE "$[MOVABLE_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[MOVABLE_FILE]" "$[NAND_DIR]/$[<ID0>_NAME]_movable.sed"
	echo "1:/private/movable.sed\nOriginal file not replaced.\n \nCalculated file backed up at:\n$[NAND_DIR]"
	goto MENU
end


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@INPUT_OLD_HEXVALUE_BACKWARDS

set H "$[HEXVALUE]"

  if chk "$[H]" "00"
set H "FF"
elif chk "$[H]" "01"
set H "00"
elif chk "$[H]" "02"
set H "01"
elif chk "$[H]" "03"
set H "02"
elif chk "$[H]" "04"
set H "03"
elif chk "$[H]" "05"
set H "04"
elif chk "$[H]" "06"
set H "05"
elif chk "$[H]" "07"
set H "06"
elif chk "$[H]" "08"
set H "07"
elif chk "$[H]" "09"
set H "08"
elif chk "$[H]" "0A"
set H "09"
elif chk "$[H]" "0B"
set H "0A"
elif chk "$[H]" "0C"
set H "0B"
elif chk "$[H]" "0D"
set H "0C"
elif chk "$[H]" "0E"
set H "0D"
elif chk "$[H]" "0F"
set H "0E"
elif chk "$[H]" "10"
set H "0F"
elif chk "$[H]" "11"
set H "10"
elif chk "$[H]" "12"
set H "11"
elif chk "$[H]" "13"
set H "12"
elif chk "$[H]" "14"
set H "13"
elif chk "$[H]" "15"
set H "14"
elif chk "$[H]" "16"
set H "15"
elif chk "$[H]" "17"
set H "16"
elif chk "$[H]" "18"
set H "17"
elif chk "$[H]" "19"
set H "18"
elif chk "$[H]" "1A"
set H "19"
elif chk "$[H]" "1B"
set H "1A"
elif chk "$[H]" "1C"
set H "1B"
elif chk "$[H]" "1D"
set H "1C"
elif chk "$[H]" "1E"
set H "1D"
elif chk "$[H]" "1F"
set H "1E"
elif chk "$[H]" "20"
set H "1F"
elif chk "$[H]" "21"
set H "20"
elif chk "$[H]" "22"
set H "21"
elif chk "$[H]" "23"
set H "22"
elif chk "$[H]" "24"
set H "23"
elif chk "$[H]" "25"
set H "24"
elif chk "$[H]" "26"
set H "25"
elif chk "$[H]" "27"
set H "26"
elif chk "$[H]" "28"
set H "27"
elif chk "$[H]" "29"
set H "28"
elif chk "$[H]" "2A"
set H "29"
elif chk "$[H]" "2B"
set H "2A"
elif chk "$[H]" "2C"
set H "2B"
elif chk "$[H]" "2D"
set H "2C"
elif chk "$[H]" "2E"
set H "2D"
elif chk "$[H]" "2F"
set H "2E"
elif chk "$[H]" "30"
set H "2F"
elif chk "$[H]" "31"
set H "30"
elif chk "$[H]" "32"
set H "31"
elif chk "$[H]" "33"
set H "32"
elif chk "$[H]" "34"
set H "33"
elif chk "$[H]" "35"
set H "34"
elif chk "$[H]" "36"
set H "35"
elif chk "$[H]" "37"
set H "36"
elif chk "$[H]" "38"
set H "37"
elif chk "$[H]" "39"
set H "38"
elif chk "$[H]" "3A"
set H "39"
elif chk "$[H]" "3B"
set H "3A"
elif chk "$[H]" "3C"
set H "3B"
elif chk "$[H]" "3D"
set H "3C"
elif chk "$[H]" "3E"
set H "3D"
elif chk "$[H]" "3F"
set H "3E"
elif chk "$[H]" "40"
set H "3F"
elif chk "$[H]" "41"
set H "40"
elif chk "$[H]" "42"
set H "41"
elif chk "$[H]" "43"
set H "42"
elif chk "$[H]" "44"
set H "43"
elif chk "$[H]" "45"
set H "44"
elif chk "$[H]" "46"
set H "45"
elif chk "$[H]" "47"
set H "46"
elif chk "$[H]" "48"
set H "47"
elif chk "$[H]" "49"
set H "48"
elif chk "$[H]" "4A"
set H "49"
elif chk "$[H]" "4B"
set H "4A"
elif chk "$[H]" "4C"
set H "4B"
elif chk "$[H]" "4D"
set H "4C"
elif chk "$[H]" "4E"
set H "4D"
elif chk "$[H]" "4F"
set H "4E"
elif chk "$[H]" "50"
set H "4F"
elif chk "$[H]" "51"
set H "50"
elif chk "$[H]" "52"
set H "51"
elif chk "$[H]" "53"
set H "52"
elif chk "$[H]" "54"
set H "53"
elif chk "$[H]" "55"
set H "54"
elif chk "$[H]" "56"
set H "55"
elif chk "$[H]" "57"
set H "56"
elif chk "$[H]" "58"
set H "57"
elif chk "$[H]" "59"
set H "58"
elif chk "$[H]" "5A"
set H "59"
elif chk "$[H]" "5B"
set H "5A"
elif chk "$[H]" "5C"
set H "5B"
elif chk "$[H]" "5D"
set H "5C"
elif chk "$[H]" "5E"
set H "5D"
elif chk "$[H]" "5F"
set H "5E"
elif chk "$[H]" "60"
set H "5F"
elif chk "$[H]" "61"
set H "60"
elif chk "$[H]" "62"
set H "61"
elif chk "$[H]" "63"
set H "62"
elif chk "$[H]" "64"
set H "63"
elif chk "$[H]" "65"
set H "64"
elif chk "$[H]" "66"
set H "65"
elif chk "$[H]" "67"
set H "66"
elif chk "$[H]" "68"
set H "67"
elif chk "$[H]" "69"
set H "68"
elif chk "$[H]" "6A"
set H "69"
elif chk "$[H]" "6B"
set H "6A"
elif chk "$[H]" "6C"
set H "6B"
elif chk "$[H]" "6D"
set H "6C"
elif chk "$[H]" "6E"
set H "6D"
elif chk "$[H]" "6F"
set H "6E"
elif chk "$[H]" "70"
set H "6F"
elif chk "$[H]" "71"
set H "70"
elif chk "$[H]" "72"
set H "71"
elif chk "$[H]" "73"
set H "72"
elif chk "$[H]" "74"
set H "73"
elif chk "$[H]" "75"
set H "74"
elif chk "$[H]" "76"
set H "75"
elif chk "$[H]" "77"
set H "76"
elif chk "$[H]" "78"
set H "77"
elif chk "$[H]" "79"
set H "78"
elif chk "$[H]" "7A"
set H "79"
elif chk "$[H]" "7B"
set H "7A"
elif chk "$[H]" "7C"
set H "7B"
elif chk "$[H]" "7D"
set H "7C"
elif chk "$[H]" "7E"
set H "7D"
elif chk "$[H]" "7F"
set H "7E"
elif chk "$[H]" "80"
set H "7F"
elif chk "$[H]" "81"
set H "80"
elif chk "$[H]" "82"
set H "81"
elif chk "$[H]" "83"
set H "82"
elif chk "$[H]" "84"
set H "83"
elif chk "$[H]" "85"
set H "84"
elif chk "$[H]" "86"
set H "85"
elif chk "$[H]" "87"
set H "86"
elif chk "$[H]" "88"
set H "87"
elif chk "$[H]" "89"
set H "88"
elif chk "$[H]" "8A"
set H "89"
elif chk "$[H]" "8B"
set H "8A"
elif chk "$[H]" "8C"
set H "8B"
elif chk "$[H]" "8D"
set H "8C"
elif chk "$[H]" "8E"
set H "8D"
elif chk "$[H]" "8F"
set H "8E"
elif chk "$[H]" "90"
set H "8F"
elif chk "$[H]" "91"
set H "90"
elif chk "$[H]" "92"
set H "91"
elif chk "$[H]" "93"
set H "92"
elif chk "$[H]" "94"
set H "93"
elif chk "$[H]" "95"
set H "94"
elif chk "$[H]" "96"
set H "95"
elif chk "$[H]" "97"
set H "96"
elif chk "$[H]" "98"
set H "97"
elif chk "$[H]" "99"
set H "98"
elif chk "$[H]" "9A"
set H "99"
elif chk "$[H]" "9B"
set H "9A"
elif chk "$[H]" "9C"
set H "9B"
elif chk "$[H]" "9D"
set H "9C"
elif chk "$[H]" "9E"
set H "9D"
elif chk "$[H]" "9F"
set H "9E"
elif chk "$[H]" "A0"
set H "9F"
elif chk "$[H]" "A1"
set H "A0"
elif chk "$[H]" "A2"
set H "A1"
elif chk "$[H]" "A3"
set H "A2"
elif chk "$[H]" "A4"
set H "A3"
elif chk "$[H]" "A5"
set H "A4"
elif chk "$[H]" "A6"
set H "A5"
elif chk "$[H]" "A7"
set H "A6"
elif chk "$[H]" "A8"
set H "A7"
elif chk "$[H]" "A9"
set H "A8"
elif chk "$[H]" "AA"
set H "A9"
elif chk "$[H]" "AB"
set H "AA"
elif chk "$[H]" "AC"
set H "AB"
elif chk "$[H]" "AD"
set H "AC"
elif chk "$[H]" "AE"
set H "AD"
elif chk "$[H]" "AF"
set H "AE"
elif chk "$[H]" "B0"
set H "AF"
elif chk "$[H]" "B1"
set H "B0"
elif chk "$[H]" "B2"
set H "B1"
elif chk "$[H]" "B3"
set H "B2"
elif chk "$[H]" "B4"
set H "B3"
elif chk "$[H]" "B5"
set H "B4"
elif chk "$[H]" "B6"
set H "B5"
elif chk "$[H]" "B7"
set H "B6"
elif chk "$[H]" "B8"
set H "B7"
elif chk "$[H]" "B9"
set H "B8"
elif chk "$[H]" "BA"
set H "B9"
elif chk "$[H]" "BB"
set H "BA"
elif chk "$[H]" "BC"
set H "BB"
elif chk "$[H]" "BD"
set H "BC"
elif chk "$[H]" "BE"
set H "BD"
elif chk "$[H]" "BF"
set H "BE"
elif chk "$[H]" "C0"
set H "BF"
elif chk "$[H]" "C1"
set H "C0"
elif chk "$[H]" "C2"
set H "C1"
elif chk "$[H]" "C3"
set H "C2"
elif chk "$[H]" "C4"
set H "C3"
elif chk "$[H]" "C5"
set H "C4"
elif chk "$[H]" "C6"
set H "C5"
elif chk "$[H]" "C7"
set H "C6"
elif chk "$[H]" "C8"
set H "C7"
elif chk "$[H]" "C9"
set H "C8"
elif chk "$[H]" "CA"
set H "C9"
elif chk "$[H]" "CB"
set H "CA"
elif chk "$[H]" "CC"
set H "CB"
elif chk "$[H]" "CD"
set H "CC"
elif chk "$[H]" "CE"
set H "CD"
elif chk "$[H]" "CF"
set H "CE"
elif chk "$[H]" "D0"
set H "CF"
elif chk "$[H]" "D1"
set H "D0"
elif chk "$[H]" "D2"
set H "D1"
elif chk "$[H]" "D3"
set H "D2"
elif chk "$[H]" "D4"
set H "D3"
elif chk "$[H]" "D5"
set H "D4"
elif chk "$[H]" "D6"
set H "D5"
elif chk "$[H]" "D7"
set H "D6"
elif chk "$[H]" "D8"
set H "D7"
elif chk "$[H]" "D9"
set H "D8"
elif chk "$[H]" "DA"
set H "D9"
elif chk "$[H]" "DB"
set H "DA"
elif chk "$[H]" "DC"
set H "DB"
elif chk "$[H]" "DD"
set H "DC"
elif chk "$[H]" "DE"
set H "DD"
elif chk "$[H]" "DF"
set H "DE"
elif chk "$[H]" "E0"
set H "DF"
elif chk "$[H]" "E1"
set H "E0"
elif chk "$[H]" "E2"
set H "E1"
elif chk "$[H]" "E3"
set H "E2"
elif chk "$[H]" "E4"
set H "E3"
elif chk "$[H]" "E5"
set H "E4"
elif chk "$[H]" "E6"
set H "E5"
elif chk "$[H]" "E7"
set H "E6"
elif chk "$[H]" "E8"
set H "E7"
elif chk "$[H]" "E9"
set H "E8"
elif chk "$[H]" "EA"
set H "E9"
elif chk "$[H]" "EB"
set H "EA"
elif chk "$[H]" "EC"
set H "EB"
elif chk "$[H]" "ED"
set H "EC"
elif chk "$[H]" "EE"
set H "ED"
elif chk "$[H]" "EF"
set H "EE"
elif chk "$[H]" "F0"
set H "EF"
elif chk "$[H]" "F1"
set H "F0"
elif chk "$[H]" "F2"
set H "F1"
elif chk "$[H]" "F3"
set H "F2"
elif chk "$[H]" "F4"
set H "F3"
elif chk "$[H]" "F5"
set H "F4"
elif chk "$[H]" "F6"
set H "F5"
elif chk "$[H]" "F7"
set H "F6"
elif chk "$[H]" "F8"
set H "F7"
elif chk "$[H]" "F9"
set H "F8"
elif chk "$[H]" "FA"
set H "F9"
elif chk "$[H]" "FB"
set H "FA"
elif chk "$[H]" "FC"
set H "FB"
elif chk "$[H]" "FD"
set H "FC"
elif chk "$[H]" "FE"
set H "FD"
elif chk "$[H]" "FF"
set H "FE"
end

set HEXVALUE "$[H]"
set H ""

  if chk "$[OFFSET_CHECK]" "0x118"
	goto OUTPUT_NEW_HEXVALUE_0x118_BACKWARDS
elif chk "$[OFFSET_CHECK]" "0x120"
	goto OUTPUT_NEW_HEXVALUE_0x120_BACKWARDS
end


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@INPUT_OLD_HEXVALUE_FORWARDS

set H "$[HEXVALUE]"

  if chk "$[H]" "00"
set H "01"
elif chk "$[H]" "01"
set H "02"
elif chk "$[H]" "02"
set H "03"
elif chk "$[H]" "03"
set H "04"
elif chk "$[H]" "04"
set H "05"
elif chk "$[H]" "05"
set H "06"
elif chk "$[H]" "06"
set H "07"
elif chk "$[H]" "07"
set H "08"
elif chk "$[H]" "08"
set H "09"
elif chk "$[H]" "09"
set H "0A"
elif chk "$[H]" "0A"
set H "0B"
elif chk "$[H]" "0B"
set H "0C"
elif chk "$[H]" "0C"
set H "0D"
elif chk "$[H]" "0D"
set H "0E"
elif chk "$[H]" "0E"
set H "0F"
elif chk "$[H]" "0F"
set H "10"
elif chk "$[H]" "10"
set H "11"
elif chk "$[H]" "11"
set H "12"
elif chk "$[H]" "12"
set H "13"
elif chk "$[H]" "13"
set H "14"
elif chk "$[H]" "14"
set H "15"
elif chk "$[H]" "15"
set H "16"
elif chk "$[H]" "16"
set H "17"
elif chk "$[H]" "17"
set H "18"
elif chk "$[H]" "18"
set H "19"
elif chk "$[H]" "19"
set H "1A"
elif chk "$[H]" "1A"
set H "1B"
elif chk "$[H]" "1B"
set H "1C"
elif chk "$[H]" "1C"
set H "1D"
elif chk "$[H]" "1D"
set H "1E"
elif chk "$[H]" "1E"
set H "1F"
elif chk "$[H]" "1F"
set H "20"
elif chk "$[H]" "20"
set H "21"
elif chk "$[H]" "21"
set H "22"
elif chk "$[H]" "22"
set H "23"
elif chk "$[H]" "23"
set H "24"
elif chk "$[H]" "24"
set H "25"
elif chk "$[H]" "25"
set H "26"
elif chk "$[H]" "26"
set H "27"
elif chk "$[H]" "27"
set H "28"
elif chk "$[H]" "28"
set H "29"
elif chk "$[H]" "29"
set H "2A"
elif chk "$[H]" "2A"
set H "2B"
elif chk "$[H]" "2B"
set H "2C"
elif chk "$[H]" "2C"
set H "2D"
elif chk "$[H]" "2D"
set H "2E"
elif chk "$[H]" "2E"
set H "2F"
elif chk "$[H]" "2F"
set H "30"
elif chk "$[H]" "30"
set H "31"
elif chk "$[H]" "31"
set H "32"
elif chk "$[H]" "32"
set H "33"
elif chk "$[H]" "33"
set H "34"
elif chk "$[H]" "34"
set H "35"
elif chk "$[H]" "35"
set H "36"
elif chk "$[H]" "36"
set H "37"
elif chk "$[H]" "37"
set H "38"
elif chk "$[H]" "38"
set H "39"
elif chk "$[H]" "39"
set H "3A"
elif chk "$[H]" "3A"
set H "3B"
elif chk "$[H]" "3B"
set H "3C"
elif chk "$[H]" "3C"
set H "3D"
elif chk "$[H]" "3D"
set H "3E"
elif chk "$[H]" "3E"
set H "3F"
elif chk "$[H]" "3F"
set H "40"
elif chk "$[H]" "40"
set H "41"
elif chk "$[H]" "41"
set H "42"
elif chk "$[H]" "42"
set H "43"
elif chk "$[H]" "43"
set H "44"
elif chk "$[H]" "44"
set H "45"
elif chk "$[H]" "45"
set H "46"
elif chk "$[H]" "46"
set H "47"
elif chk "$[H]" "47"
set H "48"
elif chk "$[H]" "48"
set H "49"
elif chk "$[H]" "49"
set H "4A"
elif chk "$[H]" "4A"
set H "4B"
elif chk "$[H]" "4B"
set H "4C"
elif chk "$[H]" "4C"
set H "4D"
elif chk "$[H]" "4D"
set H "4E"
elif chk "$[H]" "4E"
set H "4F"
elif chk "$[H]" "4F"
set H "50"
elif chk "$[H]" "50"
set H "51"
elif chk "$[H]" "51"
set H "52"
elif chk "$[H]" "52"
set H "53"
elif chk "$[H]" "53"
set H "54"
elif chk "$[H]" "54"
set H "55"
elif chk "$[H]" "55"
set H "56"
elif chk "$[H]" "56"
set H "57"
elif chk "$[H]" "57"
set H "58"
elif chk "$[H]" "58"
set H "59"
elif chk "$[H]" "59"
set H "5A"
elif chk "$[H]" "5A"
set H "5B"
elif chk "$[H]" "5B"
set H "5C"
elif chk "$[H]" "5C"
set H "5D"
elif chk "$[H]" "5D"
set H "5E"
elif chk "$[H]" "5E"
set H "5F"
elif chk "$[H]" "5F"
set H "60"
elif chk "$[H]" "60"
set H "61"
elif chk "$[H]" "61"
set H "62"
elif chk "$[H]" "62"
set H "63"
elif chk "$[H]" "63"
set H "64"
elif chk "$[H]" "64"
set H "65"
elif chk "$[H]" "65"
set H "66"
elif chk "$[H]" "66"
set H "67"
elif chk "$[H]" "67"
set H "68"
elif chk "$[H]" "68"
set H "69"
elif chk "$[H]" "69"
set H "6A"
elif chk "$[H]" "6A"
set H "6B"
elif chk "$[H]" "6B"
set H "6C"
elif chk "$[H]" "6C"
set H "6D"
elif chk "$[H]" "6D"
set H "6E"
elif chk "$[H]" "6E"
set H "6F"
elif chk "$[H]" "6F"
set H "70"
elif chk "$[H]" "70"
set H "71"
elif chk "$[H]" "71"
set H "72"
elif chk "$[H]" "72"
set H "73"
elif chk "$[H]" "73"
set H "74"
elif chk "$[H]" "74"
set H "75"
elif chk "$[H]" "75"
set H "76"
elif chk "$[H]" "76"
set H "77"
elif chk "$[H]" "77"
set H "78"
elif chk "$[H]" "78"
set H "79"
elif chk "$[H]" "79"
set H "7A"
elif chk "$[H]" "7A"
set H "7B"
elif chk "$[H]" "7B"
set H "7C"
elif chk "$[H]" "7C"
set H "7D"
elif chk "$[H]" "7D"
set H "7E"
elif chk "$[H]" "7E"
set H "7F"
elif chk "$[H]" "7F"
set H "80"
elif chk "$[H]" "80"
set H "81"
elif chk "$[H]" "81"
set H "82"
elif chk "$[H]" "82"
set H "83"
elif chk "$[H]" "83"
set H "84"
elif chk "$[H]" "84"
set H "85"
elif chk "$[H]" "85"
set H "86"
elif chk "$[H]" "86"
set H "87"
elif chk "$[H]" "87"
set H "88"
elif chk "$[H]" "88"
set H "89"
elif chk "$[H]" "89"
set H "8A"
elif chk "$[H]" "8A"
set H "8B"
elif chk "$[H]" "8B"
set H "8C"
elif chk "$[H]" "8C"
set H "8D"
elif chk "$[H]" "8D"
set H "8E"
elif chk "$[H]" "8E"
set H "8F"
elif chk "$[H]" "8F"
set H "90"
elif chk "$[H]" "90"
set H "91"
elif chk "$[H]" "91"
set H "92"
elif chk "$[H]" "92"
set H "93"
elif chk "$[H]" "93"
set H "94"
elif chk "$[H]" "94"
set H "95"
elif chk "$[H]" "95"
set H "96"
elif chk "$[H]" "96"
set H "97"
elif chk "$[H]" "97"
set H "98"
elif chk "$[H]" "98"
set H "99"
elif chk "$[H]" "99"
set H "9A"
elif chk "$[H]" "9A"
set H "9B"
elif chk "$[H]" "9B"
set H "9C"
elif chk "$[H]" "9C"
set H "9D"
elif chk "$[H]" "9D"
set H "9E"
elif chk "$[H]" "9E"
set H "9F"
elif chk "$[H]" "9F"
set H "A0"
elif chk "$[H]" "A0"
set H "A1"
elif chk "$[H]" "A1"
set H "A2"
elif chk "$[H]" "A2"
set H "A3"
elif chk "$[H]" "A3"
set H "A4"
elif chk "$[H]" "A4"
set H "A5"
elif chk "$[H]" "A5"
set H "A6"
elif chk "$[H]" "A6"
set H "A7"
elif chk "$[H]" "A7"
set H "A8"
elif chk "$[H]" "A8"
set H "A9"
elif chk "$[H]" "A9"
set H "AA"
elif chk "$[H]" "AA"
set H "AB"
elif chk "$[H]" "AB"
set H "AC"
elif chk "$[H]" "AC"
set H "AD"
elif chk "$[H]" "AD"
set H "AE"
elif chk "$[H]" "AE"
set H "AF"
elif chk "$[H]" "AF"
set H "B0"
elif chk "$[H]" "B0"
set H "B1"
elif chk "$[H]" "B1"
set H "B2"
elif chk "$[H]" "B2"
set H "B3"
elif chk "$[H]" "B3"
set H "B4"
elif chk "$[H]" "B4"
set H "B5"
elif chk "$[H]" "B5"
set H "B6"
elif chk "$[H]" "B6"
set H "B7"
elif chk "$[H]" "B7"
set H "B8"
elif chk "$[H]" "B8"
set H "B9"
elif chk "$[H]" "B9"
set H "BA"
elif chk "$[H]" "BA"
set H "BB"
elif chk "$[H]" "BB"
set H "BC"
elif chk "$[H]" "BC"
set H "BD"
elif chk "$[H]" "BD"
set H "BE"
elif chk "$[H]" "BE"
set H "BF"
elif chk "$[H]" "BF"
set H "C0"
elif chk "$[H]" "C0"
set H "C1"
elif chk "$[H]" "C1"
set H "C2"
elif chk "$[H]" "C2"
set H "C3"
elif chk "$[H]" "C3"
set H "C4"
elif chk "$[H]" "C4"
set H "C5"
elif chk "$[H]" "C5"
set H "C6"
elif chk "$[H]" "C6"
set H "C7"
elif chk "$[H]" "C7"
set H "C8"
elif chk "$[H]" "C8"
set H "C9"
elif chk "$[H]" "C9"
set H "CA"
elif chk "$[H]" "CA"
set H "CB"
elif chk "$[H]" "CB"
set H "CC"
elif chk "$[H]" "CC"
set H "CD"
elif chk "$[H]" "CD"
set H "CE"
elif chk "$[H]" "CE"
set H "CF"
elif chk "$[H]" "CF"
set H "D0"
elif chk "$[H]" "D0"
set H "D1"
elif chk "$[H]" "D1"
set H "D2"
elif chk "$[H]" "D2"
set H "D3"
elif chk "$[H]" "D3"
set H "D4"
elif chk "$[H]" "D4"
set H "D5"
elif chk "$[H]" "D5"
set H "D6"
elif chk "$[H]" "D6"
set H "D7"
elif chk "$[H]" "D7"
set H "D8"
elif chk "$[H]" "D8"
set H "D9"
elif chk "$[H]" "D9"
set H "DA"
elif chk "$[H]" "DA"
set H "DB"
elif chk "$[H]" "DB"
set H "DC"
elif chk "$[H]" "DC"
set H "DD"
elif chk "$[H]" "DD"
set H "DE"
elif chk "$[H]" "DE"
set H "DF"
elif chk "$[H]" "DF"
set H "E0"
elif chk "$[H]" "E0"
set H "E1"
elif chk "$[H]" "E1"
set H "E2"
elif chk "$[H]" "E2"
set H "E3"
elif chk "$[H]" "E3"
set H "E4"
elif chk "$[H]" "E4"
set H "E5"
elif chk "$[H]" "E5"
set H "E6"
elif chk "$[H]" "E6"
set H "E7"
elif chk "$[H]" "E7"
set H "E8"
elif chk "$[H]" "E8"
set H "E9"
elif chk "$[H]" "E9"
set H "EA"
elif chk "$[H]" "EA"
set H "EB"
elif chk "$[H]" "EB"
set H "EC"
elif chk "$[H]" "EC"
set H "ED"
elif chk "$[H]" "ED"
set H "EE"
elif chk "$[H]" "EE"
set H "EF"
elif chk "$[H]" "EF"
set H "F0"
elif chk "$[H]" "F0"
set H "F1"
elif chk "$[H]" "F1"
set H "F2"
elif chk "$[H]" "F2"
set H "F3"
elif chk "$[H]" "F3"
set H "F4"
elif chk "$[H]" "F4"
set H "F5"
elif chk "$[H]" "F5"
set H "F6"
elif chk "$[H]" "F6"
set H "F7"
elif chk "$[H]" "F7"
set H "F8"
elif chk "$[H]" "F8"
set H "F9"
elif chk "$[H]" "F9"
set H "FA"
elif chk "$[H]" "FA"
set H "FB"
elif chk "$[H]" "FB"
set H "FC"
elif chk "$[H]" "FC"
set H "FD"
elif chk "$[H]" "FD"
set H "FE"
elif chk "$[H]" "FE"
set H "FF"
elif chk "$[H]" "FF"
set H "00"
end

set HEXVALUE "$[H]"
set H ""

  if chk "$[OFFSET_CHECK]" "0x118"
	goto OUTPUT_NEW_HEXVALUE_0x118_FORWARDS
elif chk "$[OFFSET_CHECK]" "0x120"
	goto OUTPUT_NEW_HEXVALUE_0x120_FORWARDS
end


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_Rebuild_3DS_Database
                                                          set PREVIEW_MODE "FULL"
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
labelsel -o -s "Rebuild 3DS Database Options\nPress (B) to return to Menu Options." DATABASE_OPTIONS_*
goto MENU


# ~ # ~ # ~ # ~ #


@DATABASE_OPTIONS_(A)_Quick
                                                          set PREVIEW_COLOR_COMMENT "ff0000" # red
if not allow -a "0:/Nintendo 3DS"
	echo "[0:] SDCARD ()/Nintendo 3DS\nAccess denied."
	goto CHOICE_Rebuild_3DS_Database
end

##########################################################
#       Option (A): Rebuild 3DS Database (Quick)         #
# This fixes the SD card's 'title.db' and 'import.db' by #
# generating stripped down CIAs. The 'title' folder is   #
# moved to 'title_<ID0>', and the 'ticket.db' in CTRNAND #
# is backed up. After installing the dummy CIAs, the     #
# 'ticket.db' is restored to maintain legit tickets for  #
# Nintendo eShop purchases and updates. The folder       #
# 'cias (dummy)_<ID0>' is deleted to prevent accidental  #
# reinstallations. Titles in 'title_<ID0>' are moved     #
                                                          labelsel -o -s "Rebuild 3DS Database (Quick)\nPress (B) to return to Database Options." DATABASE_QUICK_*
                                                          goto CHOICE_Rebuild_3DS_Database
# back to 'title' with their .cmd CMACs corrected. This  #
# method is the fastest of the three, but the sizes and  #
# blocks in 'FBI' & 'System Settings > Data Management'  #
# will show up wrong (very small). Using this method is  #
# reversibly by restoring the files in 'dbs_cmd_<ID0>';  #
# delete the .db and .cmd's in 'title' before replacing. #
# NOTE: Fake DLCs are the slowest to create and install. #
##########################################################
 
# ~ # ~ # ~ # ~ #

@DATABASE_OPTIONS_(B)_Full
                                                          set PREVIEW_COLOR_COMMENT "00ffff" # teal
if not allow -a "0:/Nintendo 3DS"
	echo "[0:] SDCARD ()/Nintendo 3DS\nAccess denied."
	goto CHOICE_Rebuild_3DS_Database
end

##########################################################
#       Option (B): Rebuild 3DS Database (Full)          #
# This fixes the SD card's 'title.db' and 'import.db' by #
# backing up the 'ticket.db' from CTRNAND, CIAs for all  #
# the 3DS titles, and their decrypted saves. Titles that #
# are successfully made into CIAs are then deleted from  #
# the 'title' folder. This is to maintain card storage   #
# without running out of free space. External files and  #
# titles not made into CIAs are moved to 'title_<ID0>'.  #
# After installing the CIAs from 'cias (proper)_<ID0>',  #
                                                          labelsel -o -s "Rebuild 3DS Database (Full)\nPress (B) to return to Database Options." DATABASE_FULL_*
                                                          goto CHOICE_Rebuild_3DS_Database
# the 'ticket.db' is restored to maintain legit tickets  #
# for Nintendo eShop purchases and updates. Saves are    #
# individually restored by verifying their presences for #
# each installed title (ie, not "mass dumped"). 4 GB of  #
# free space is required. NOTE: To prevent unintentional #
# misuse, the user is tasked in removing 'import.db' &   #
# 'title.db' from '0:/Nintendo 3DS/<ID0>/<ID1>/dbs'.     #
##########################################################
 
# ~ # ~ # ~ # ~ #

@DATABASE_OPTIONS_(C)_Manual
                                                          set PREVIEW_COLOR_COMMENT "8000ff" # purple
if not allow -a "0:/Nintendo 3DS"
	echo "[0:] SDCARD ()/Nintendo 3DS\nAccess denied."
	goto CHOICE_Rebuild_3DS_Database
end

##########################################################
#       Option (C): Rebuild 3DS Database (Manual)        #
# This fixes the SD card's 'title.db' and 'import.db' by #
# backing up the 'ticket.db' from CTRNAND, extracting    #
# the decrypted saves for game titles, and recording the #
# TitleIDs for everything in the 'title' folder. Titles  #
# are sorted by storing them in 'title_<ID0>' and then   #
# moving them back to 'title'. This method is suited for #
# those who already have their collection previously     #
# backed up as CIAs or don't have the free space to use  #
                                                          labelsel -o -s "Rebuild 3DS Database (Manual)\nPress (B) to return to Database Options." DATABASE_MANUAL_*
                                                          goto CHOICE_Rebuild_3DS_Database
# Option (B). The user's responsibility is to manually   #
# provide or produce CIAs for all titles found in '0:/   #
# Nintendo 3DS/<ID0>/<ID1>/title'. After installing the  #
# CIAs, the 'ticket.db' is restored to maintain legit    #
# tickets for Nintendo eShop purchases & updates. Saves  #
# are individually restored by verifying their presences #
# for each installed title (ie, not "mass dump").        #
##########################################################


#####################################################################################################################


@DATABASE_QUICK_(1a)_Generate_Dummy_CIAs

##########################################################
#    ~ INSTRUCTIONS ~ Rebuild 3DS Database (Quick) ~     #
# 1. Plug in the AC charger to keep the system charged.  #
# 2. Set the volume slider to lowest screen brightness.  #
# 3. Wait for 'Storage test success.' and press (A).     #
# 4. Fold it closed if system has a clam shell design.   #
# 5. DO NOT PRESS (B) AT ANY MOMENT! This interrupts the #
#    CIA building process. The system will shut off when #
#    done. If an error occurs, see 'missing_titles.txt'. #
# 6. FBI > 'cias (dummy)_<ID0>' > 'Install all CIAs'.    #
                                                          if not ask "Continue with generating dummy CIAs?\nPress (B) to cancel attempt."
	                                                            goto DATABASE_OPTIONS_(A)_Quick
                                                             end
# 7. Do not remove the 'cias (dummy)_<ID0>' folder.      #
# 8. Run the '(2a) Restore Setup' option to complete.    #
# 9. faketik - Restore tickets for nonlegit titles.      #
# 10. Cthulhu - Unwrap all HOME Menu gift icons.         #
# 11. Checkpoint/JKSM - Backup all saves + extdata. This #
# bypasses anti-cheat save protection for certain games. #
##########################################################


##########################################################
# Determine if '0:/Nintendo 3DS/<ID0>' exists.           #
##########################################################

if not allow -a "A:/"
	echo "[A:] SYSNAND SD\nAccess denied."
	goto DATABASE_OPTIONS_(A)_Quick
end

 if findnot "0:/Nintendo 3DS" NULL
	echo "0:/Nintendo 3DS\n \nDirectory not found."
	goto DATABASE_OPTIONS_(A)_Quick
elif findnot "0:/Nintendo 3DS/$[SYSID0]" NULL
	echo "0:/Nintendo 3DS/\n$[SYSID0]\n \nDirectory not found."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Find the <ID1> subfolder or exit back to submenu.      #
##########################################################

set SYSID1_FORWARD ""

if find -f "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_FORWARD
		strsplit SYSID1_FORWARD "$[SYSID1_FORWARD]" "/"
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nNo entry within directory."
		goto DATABASE_OPTIONS_(A)_Quick
end

set SYSID1_BACKWARD ""

if find "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_BACKWARD
	strsplit SYSID1_BACKWARD "$[SYSID1_BACKWARD]" "/"
end

set SYSID1 ""

if chk "$[SYSID1_FORWARD]" "$[SYSID1_BACKWARD]"
		set SYSID1 "$[SYSID1_FORWARD]"
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nMore than one <ID1> folder found.\n \n$[SYSID1_FORWARD]\n \n$[SYSID1_BACKWARD]"
		set SYSID1 ""
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
		goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Put a dummy file at '0:/Nintendo 3DS/<ID0>/<ID1>'.     #
##########################################################

set LITMUS_FILE ""

if findnot "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/dummy_???.bin" LITMUS_FILE
	strsplit LITMUS_FILE "$[LITMUS_FILE]" "/"
end

# ~ # ~ # ~ # ~ #

if not fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "00"
end


##########################################################
# Try to find the same dummy file in 'A:/'. Remove the   #
# dummy file. Try to find it missing in another search.  #
# Sync the '0:/Nintendo 3DS/<ID0>/<ID1>' ~ 'A:/' drives. #
##########################################################

if find "A:/$[LITMUS_FILE]" NULL
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	else
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
		set SYSID1 ""
		set LITMUS_FILE ""
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
		goto DATABASE_OPTIONS_(A)_Quick
end

# ~ # ~ # ~ # ~ #

if find "A:/$[LITMUS_FILE]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Look for certain folders. Depending what's missing or  #
# present, either continue or stop the build run.        #
##########################################################

  if find "A:/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with '(2a) Restore Setup' option."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/cias (dummy)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (dummy)_$[SYSID0]\n \nDetected 'cias (dummy)_<ID0>' folder.\nConflict with '(2a) Restore Setup' option."
	goto DATABASE_OPTIONS_(A)_Quick	

elif find "$[GM9OUT]/dbs_cmd_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ndbs_cmd_$[SYSID0]\n \nDetected 'dbs_cmd_<ID0>' folder.\nResolve previous run with '(1a) Generate Dummy CIAs'."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/cias (proper)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (proper)_$[SYSID0]\n \nDetected 'cias (proper)_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/saves_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\nsaves_$[SYSID0]\n \nDetected 'saves_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'\nor 'Rebuild 3DS Database (Manual)'."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(A)_Quick

elif findnot "A:/title" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle\n \nThe 'title' folder is missing."
	goto DATABASE_OPTIONS_(A)_Quick

elif not find -f "A:/title/*" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/<TID_HIGH>\n \nNo usable '<TID_HIGH>' entry."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Create a test file to ensure there is sufficient       #
# free space on the SD card. Delete the file once the    #
# availability status is known. This is to avoid the     #
# incident of having the script unexpectedly fail in     #
# creating the dummy CIAs due to free space shortage.    #
# 256 megabytes = 268,435,456 bytes (0x10000000)         #
##########################################################

echo "Testing the SD card for enough memory."

fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "10000000"

if fget "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]@FFFFFFF:01" NULL
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	echo "Storage test success."
else
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "Insufficient memory.\n256 MB of free space is required."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Move the '0:/gm9/out' folder to a temporary folder.    #
# '0:/gm9/out' needs to be cleared to build dummy CIAs.  #
##########################################################

set GM9OUT_TEMP_DIR ""

findnot "0:/gm9/out_temp_???" GM9OUT_TEMP_DIR

@FIX_GM9OUT_TEMP_DIR_QUICK

if not mkdir "$[GM9OUT_TEMP_DIR]"
end

if find "$[GM9OUT_TEMP_DIR]" NULL
		rm -o -s "$[GM9OUT_TEMP_DIR]"
	else
		findnot "0:/gm9/out_temp_????" GM9OUT_TEMP_DIR
		goto FIX_GM9OUT_TEMP_DIR_QUICK
end

mv -o -s -n -w "$[GM9OUT]" "$[GM9OUT_TEMP_DIR]"


##########################################################
# Make 'cias (dummy)_<ID0>' and 'dbs_cmd_<ID0>' folders. #
# These are needed to move titles and generate CIAs.     #
##########################################################

mkdir "$[GM9OUT]"
mkdir "$[GM9OUT]/cias (dummy)_$[SYSID0]"
mkdir "$[GM9OUT]/dbs_cmd_$[SYSID0]"
fdummy "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt" "00"


##########################################################
# Copy the CTRNAND 'ticket.db' to 'title_<ID0>' folder.  #
# Copy another 'ticket.db' to 'dbs_cmd_<ID0>' folder.    #
# Backup the Nintendo 3DS 'import.db' & 'title.db'.      #
##########################################################

cp -o -s -n "1:/dbs/ticket.db" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[SERIAL]_ticket.db"
cp -o -s -n "1:/dbs/ticket.db" "$[GM9OUT]/dbs_cmd_$[SYSID0]/$[SERIAL]_ticket.db"
cp -o -s -n "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/dbs" "$[GM9OUT]/dbs_cmd_$[SYSID0]/[0] SDCARD (encrypted)/dbs"
cp -o -s -n "A:/dbs" "$[GM9OUT]/dbs_cmd_$[SYSID0]/[A] SYSNAND SD (decrypted)/dbs"


##########################################################
# Find <TID_HIGH>, <TID_LOW>, and TMD file. Move the     #
# folders to 'title_<ID0>' if the TMD isn't found.       #
#  00040000 - Game | 0004000e - Update | 0004008c - DLC  #
##########################################################

@FIND_NEXT_3DS_TITLE_QUICK

set TID_HIGH ""
set TID_LOW ""
set TMD_FILE ""
set TMD_DIR ""
set TMDCHUNKS_SHA ""
set CMD_FILE ""
set APP_FILE ""
set APP_FILE_SHA ""
set APP_DIR ""
set TMD_BLOCK_0x204-B03_SHA ""
set SAVE_SIZE ""
set CIA_FILE ""


##########################################################
# Find <TID_HIGH> to move onto next the search field or  #
# move the entire 'title' folder to 'title_<ID0'>        #
# before ending the dummy CIA building script run.       #
##########################################################

if find -f "A:/title/*" TID_HIGH
		strsplit TID_HIGH "$[TID_HIGH]" "/"
	else
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]"
		mkdir "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title"
		mv -o -s -n -w "$[GM9OUT_TEMP_DIR]" "$[GM9OUT]"
		
		set SYSID1 ""
		set LITMUS_FILE ""
		set GM9OUT_TEMP_DIR ""
		set TID_HIGH ""
		set TID_LOW ""
		set TMD_FILE ""
		set TMD_DIR ""
		set TMDCHUNKS_SHA ""
		set CMD_FILE ""
		set APP_FILE ""
		set APP_FILE_SHA ""
		set APP_DIR ""
		set TMD_BLOCK_0x204-B03_SHA ""
		set SAVE_SIZE ""
		set CIA_FILE ""
		
		if fget "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt@00:01" NULL
				echo "$[GM9OUT]/\ncias (dummy)_$[SYSID0]/\nmissing_titles.txt\n \nBuild error(s) encountered."
				textview "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt"
			else
				rm -o -s "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt"
				poweroff
		end
		
		echo "Generated dummy CIAs success."
		goto DATABASE_OPTIONS_(A)_Quick
		
end


##########################################################
# Find <TID_LOW> to move onto the next search field or   #
# move the entire <TID_HIGH> folder into 'title_<ID0>'.  #
##########################################################

if find -f "A:/title/$[TID_HIGH]/*" TID_LOW
		strsplit TID_LOW "$[TID_LOW]" "/"
	else
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]"
		goto FIND_NEXT_3DS_TITLE_QUICK
end


##########################################################
# Backup the CMD file to the 'dbs_cmd_<ID0>' folder.     #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/*.cmd" CMD_FILE
		strsplit CMD_FILE "$[CMD_FILE]" "/"
		cp -o -s -n "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]" "$[GM9OUT]/dbs_cmd_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]"
		cp -o -s -n "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]" "$[GM9OUT]/dbs_cmd_$[SYSID0]/[0] SDCARD (encrypted)/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]"
end


##########################################################
# Find the TMD file to begin the CIA building process.   #
# If no TMD file is found, record an error dump, move    #
# the '<TID_LOW>' folder into 'title_<ID0>', and         #
# continue  with the next entry.                         #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/content/*.tmd" TMD_FILE
		strsplit TMD_FILE "$[TMD_FILE]" "/"
	else
		# ERROR 01: MISSING TMD FILE
		dumptxt -p "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - TMD is missing."
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_TITLE_QUICK
end


##########################################################
# Copy the TMD file to '0:/gm9/out', extract the content #
# info or 'tmdchunks', and create a separate/updated     #
# tmdchunks for queuing APP file(s). Make '00000000'     #
# folder to put the edited APP files(s) into.            #
##########################################################

cp -o -s -n "A:/title/$[TID_HIGH]/$[TID_LOW]/content/$[TMD_FILE]" "$[GM9OUT]/$[TMD_FILE]"
inject -n "$[GM9OUT]/$[TMD_FILE]@B04" "$[GM9OUT]/tmdchunks.bin"
fdummy "$[GM9OUT]/tmdchunks_updated.bin" "00"
mkdir "$[GM9OUT]/00000000"


##########################################################
# Search for APP files based on Content Info Records in  #
# the tmdchunks. Adjust the search location by TID_HIGH. #
# End this iteration if the 'TID_HIGH' is not known.     #
##########################################################

@FIND_NEXT_APP_FILE

set APP_DIR ""
set APP_FILE ""
fget "$[GM9OUT]/tmdchunks.bin@00:04" APP_FILE
set APP_FILE "$[APP_FILE].app"

  if chk "$[TID_HIGH]" "00040000" # Games
	set APP_DIR "A:/title/$[TID_HIGH]/$[TID_LOW]/content/$[APP_FILE]"
elif chk "$[TID_HIGH]" "0004000e" # Updates
	set APP_DIR "A:/title/$[TID_HIGH]/$[TID_LOW]/content/$[APP_FILE]"
elif chk "$[TID_HIGH]" "0004008c" # DLCs
	set APP_DIR "A:/title/$[TID_HIGH]/$[TID_LOW]/content/00000000/$[APP_FILE]"
else
	# ERROR 02: UNKNOWN TID HIGH
	dumptxt -p "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - Unknown <TID_HIGH> ($[TID_HIGH])."
	goto FINALIZE_3DS_TITLE_QUICK
end


##########################################################
# Branch action depending if the APP is missing.         #
##########################################################

if findnot "$[APP_DIR]" NULL
	goto MISSING_APP_FILE_QUICK
else
	goto EXTRACT_APP_FILE_QUICK
end


##########################################################
# End this iteration if a non-DLC APP is missing.        #
##########################################################

@MISSING_APP_FILE_QUICK

if chk "$[TID_HIGH]" "0004008c" # DLCs
	goto SKIP_APP_FILE
else
	# ERROR 03: MISSING APP FILE
	dumptxt -p "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - APP is missing. ($[APP_FILE])"
	goto FINALIZE_3DS_TITLE_QUICK
end


##########################################################
# Make a stripped down version of the APP file.          #
##########################################################

@EXTRACT_APP_FILE_QUICK

if not inject -n "$[APP_DIR]@000:A00" "$[GM9OUT]/00000000/$[APP_FILE]"
	# ERROR 04: APP COPY FAILURE
	dumptxt -p "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - Failed to copy APP. ($[APP_FILE])"
	goto FINALIZE_3DS_TITLE_QUICK
end


##########################################################
# Adjust the NCCH header such as reduced APP size and    #
# removal of logo.bin, exefs.bin, and romfs.bin.         #
##########################################################

fset "$[GM9OUT]/00000000/$[APP_FILE]@104" "05000000"
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@120:30" "00"
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@190:70" "00"


##########################################################
# Edit the content entry with matching hashes and size.  #
# Add the fixed entry to an updated tmdchunks. Reduce    #
# the original tmdchunks by one entry field. Search for  #
# the new APP if available.                              #
##########################################################

@SHAGET_APP_FILE
set APP_FILE_SHA ""
if not shaget "$[GM9OUT]/00000000/$[APP_FILE]" APP_FILE_SHA
	goto SHAGET_APP_FILE
end

fset "$[GM9OUT]/tmdchunks.bin@10" "$[APP_FILE_SHA]"

@SKIP_APP_FILE

fset "$[GM9OUT]/tmdchunks.bin@08" "0000000000000A00"

inject -n "$[GM9OUT]/tmdchunks.bin@00:30" "$[GM9OUT]/contentinfo.bin"
cp -o -s -n -p "$[GM9OUT]/contentinfo.bin" "$[GM9OUT]/tmdchunks_updated.bin"
rm -o -s "$[GM9OUT]/contentinfo.bin"

if fget "$[GM9OUT]/tmdchunks.bin@30:01" NULL
	inject -n "$[GM9OUT]/tmdchunks.bin@30" "$[GM9OUT]/tmdchunks_temp.bin"
	mv -o -s -n -w "$[GM9OUT]/tmdchunks_temp.bin" "$[GM9OUT]/tmdchunks.bin"
	goto FIND_NEXT_APP_FILE
end


##########################################################
# Edit the TMD with the updated tmdchunks and hashes.    #
##########################################################

@SHAGET_TMDCHUNKS
set TMDCHUNKS_SHA ""
if not shaget "$[GM9OUT]/tmdchunks_updated.bin" TMDCHUNKS_SHA
	goto SHAGET_TMDCHUNKS
end

fset "$[GM9OUT]/$[TMD_FILE]@208" "$[TMDCHUNKS_SHA]"
inject -n "$[GM9OUT]/tmdchunks_updated.bin" "$[GM9OUT]/$[TMD_FILE]@B04"

@SHAGET_BLOCK_0x204-B03
set TMD_BLOCK_0x204-B03_SHA ""
if not shaget "$[GM9OUT]/$[TMD_FILE]@204:900" TMD_BLOCK_0x204-B03_SHA
	goto SHAGET_BLOCK_0x204-B03
end

fset "$[GM9OUT]/$[TMD_FILE]@1E4" "$[TMD_BLOCK_0x204-B03_SHA]"


##########################################################
# Change the dummy SAV file to 128 KB for space saving.  #
##########################################################

if chk "$[TID_HIGH]" "00040000" # Game
	set SAVE_SIZE ""
	fget "$[GM9OUT]/$[TMD_FILE]@19A:04" SAVE_SIZE
	if not chk "$[SAVE_SIZE]" "00000000"
		fset "$[GM9OUT]/$[TMD_FILE]@19A" "00000200"
	end
end


##########################################################
# Depending on title type, relocate the TMD for cia      #
# building adjustments. Record the file's final address. #
##########################################################

if chk "$[TID_HIGH]" "0004008c" # DLC
		set TMD_DIR "$[GM9OUT]/$[TMD_FILE]"
	else
		mv -o -s -n -w "$[GM9OUT]/$[TMD_FILE]" "$[GM9OUT]/00000000/$[TMD_FILE]"
		set TMD_DIR "$[GM9OUT]/00000000/$[TMD_FILE]"
end


##########################################################
# Branch action depending on whether a CIA is dumped.    #
# Move to the next title if building the cia fails.      #
##########################################################

if buildcia -o -s "$[TMD_DIR]"
		rm -o -s "$[TMD_DIR]"
	else
		rm -o -s "$[TMD_DIR]"
		# ERROR 05: CIA BUILD FAILED
		dumptxt -p "$[GM9OUT]/cias (dummy)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - Failed to build CIA."
end


##########################################################
# Move the CIA to 'cias (dummy)_<ID0>'. Delete leftover  #
# files to clean up the workspace. Go to the next title. #
##########################################################

@FINALIZE_3DS_TITLE_QUICK

set CIA_FILE ""

if find -f "$[GM9OUT]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[GM9OUT]/cias (dummy)_$[SYSID0]/$[TID_HIGH]$[TID_LOW].cia"
end

mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]/$[TID_LOW]"
rm -o -s "$[GM9OUT]/$[TMD_FILE]"
rm -o -s "$[GM9OUT]/tmdchunks.bin"
rm -o -s "$[GM9OUT]/tmdchunks_temp.bin"
rm -o -s "$[GM9OUT]/tmdchunks_updated.bin"
rm -o -s "$[GM9OUT]/contentinfo.bin"
rm -o -s "$[GM9OUT]/00000000"

goto FIND_NEXT_3DS_TITLE_QUICK


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################

@DATABASE_QUICK_(2a)_Restore_Setup

if not ask "Continue with finalizing restoration?\nPress (B) to cancel attempt."
	goto DATABASE_OPTIONS_(A)_Quick
end

if not allow "1:/dbs/ticket.db"
	echo "[1:] SYSNAND CTRNAND/dbs/ticket.db\nAccess denied."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Determine if '0:/Nintendo 3DS/<ID0>' exists.           #
##########################################################

 if findnot "0:/Nintendo 3DS" NULL
	echo "0:/Nintendo 3DS\n \nDirectory not found."
	goto DATABASE_OPTIONS_(A)_Quick
elif findnot "0:/Nintendo 3DS/$[SYSID0]" NULL
	echo "0:/Nintendo 3DS/\n$[SYSID0]\n \nDirectory not found."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Find the <ID1> subfolder or exit back to submenu.      #
##########################################################

set SYSID1_FORWARD ""

if find -f "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_FORWARD
		strsplit SYSID1_FORWARD "$[SYSID1_FORWARD]" "/"
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nNo entry within directory."
		goto DATABASE_OPTIONS_(A)_Quick
end

set SYSID1_BACKWARD ""

if find "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_BACKWARD
	strsplit SYSID1_BACKWARD "$[SYSID1_BACKWARD]" "/"
end

set SYSID1 ""

if chk "$[SYSID1_FORWARD]" "$[SYSID1_BACKWARD]"
		set SYSID1 "$[SYSID1_FORWARD]"
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nMore than one <ID1> folder found.\n \n$[SYSID1_FORWARD]\n \n$[SYSID1_BACKWARD]"
		set SYSID1 ""
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
		goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Put a dummy file at '0:/Nintendo 3DS/<ID0>/<ID1>'.     #
##########################################################

set LITMUS_FILE ""

if findnot "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/dummy_???.bin" LITMUS_FILE
	strsplit LITMUS_FILE "$[LITMUS_FILE]" "/"
end

# ~ # ~ # ~ # ~ #

if not fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "00"
end


##########################################################
# Try to find the same dummy file in 'A:/'. Remove the   #
# dummy file. Try to find it missing in another search.  #
# Sync the '0:/Nintendo 3DS/<ID0>/<ID1>' ~ 'A:/' drives. #
##########################################################

if find "A:/$[LITMUS_FILE]" NULL
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	else
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
		set SYSID1 ""
		set LITMUS_FILE ""
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
		goto DATABASE_OPTIONS_(A)_Quick
end

# ~ # ~ # ~ # ~ #

if find "A:/$[LITMUS_FILE]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Look for certain folders. Depending what's missing or  #
# present, either continue or stop the build run.        #
##########################################################

  if findnot "A:/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle_$[SYSID0]\n \nThe 'title_<ID0>' folder is missing."
	goto DATABASE_OPTIONS_(A)_Quick

elif findnot "$[GM9OUT]/cias (dummy)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (dummy)_$[SYSID0]\n \nThe 'cias (dummy)_<ID0>' folder is missing."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/cias (proper)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (proper)_$[SYSID0]\n \nDetected 'cias (proper)_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/saves_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\nsaves_$[SYSID0]\n \nDetected 'saves_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'\nor 'Rebuild 3DS Database (Manual)'."
	goto DATABASE_OPTIONS_(A)_Quick

elif find "$[GM9OUT]/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# If the 'title' folder is missing or empty, go straight #
# to restoring the 'ticket.db' and 'title_<ID0>' folder. #
# This is done with the assumption the user mistakenly   #
# ran the 'Generate Dummy CIAs' option and wishes to     #
# restore their original SD setup.                       #
##########################################################

if not find -f "A:/title/*" NULL
	mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[SERIAL]_ticket.db" "1:/dbs/ticket.db"
	fixcmac -o -s "1:/dbs/ticket.db"
	mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title"
	rm -o -s "$[GM9OUT]/cias (dummy)_$[SYSID0]"
	fixcmac -o -s "A:"
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "Finalized restore success."
	goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Delete the 'cias (dummy)_<ID0>' folder to prevent      #
# accidental reinstallations. Restore the original       #
# 'ticket.db' to maintain any user legit eShop tickets.  #
##########################################################

rm -o -s "$[GM9OUT]/cias (dummy)_$[SYSID0]"
mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[SERIAL]_ticket.db" "1:/dbs/ticket.db"
fixcmac -o -s "1:/dbs/ticket.db"


##########################################################
# Delete the sysdata that controls "Secure Value". This  #
# prevents certain games with anti-cheat protection from #
# automatically erasing their saves.                     #
##########################################################

rm -o -s "1:/data/$[SYSID0]/sysdata/00010011"


##########################################################
# Move the '0:/gm9/out' folder to a temporary folder.    #
# '0:/gm9/out' needs to be cleared to work on the CMD.   #
##########################################################

set GM9OUT_TEMP_DIR ""

findnot "0:/gm9/out_temp_???" GM9OUT_TEMP_DIR

@FIX_GM9OUT_TEMP_DIR_3DS_TITLE_REVERSE

if not mkdir "$[GM9OUT_TEMP_DIR]"
end

if find "$[GM9OUT_TEMP_DIR]" NULL
		rm -o -s "$[GM9OUT_TEMP_DIR]"
	else
		findnot "0:/gm9/out_temp_????" GM9OUT_TEMP_DIR
		goto FIX_GM9OUT_TEMP_DIR_3DS_TITLE_REVERSE
end

mv -o -s -n -w "$[GM9OUT]" "$[GM9OUT_TEMP_DIR]"
mkdir "$[GM9OUT]"


##########################################################
# Find <TID_HIGH>, <TID_LOW>, and TMD & CMD files. Move  #
# folders to 'title' for each individual '<TID_LOW>'.    #
#  00040000 - Game | 0004000e - Update | 0004008c - DLC  #
##########################################################

@FIND_NEXT_3DS_TITLE_REVERSE

set TID_HIGH ""
set TID_LOW ""
set TMD_DIR ""
set CMD_FILE ""
set CMD_DIR ""
set CMD_CMAC_BLOCK_0x00-1F ""


##########################################################
# Find <TID_HIGH> to move onto next the search field or  #
# move the entire 'title' folder to 'title_<ID0'>        #
# before ending the dummy CIA building script run.       #
# Fix all the CMACs in the 'A:/' drive.                  #
##########################################################

if find -f "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/*" TID_HIGH
		strsplit TID_HIGH "$[TID_HIGH]" "/"
	else
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title"
		mv -o -s -n -w "$[GM9OUT_TEMP_DIR]" "$[GM9OUT]"
		fixcmac -o -s "A:"
		set SYSID1 ""
		set LITMUS_FILE ""
		set GM9OUT_TEMP_DIR ""
		set TID_HIGH ""
		set TID_LOW ""
		set TMD_DIR ""
		set CMD_FILE ""
		set CMD_DIR ""
		set CMD_CMAC_BLOCK_0x00-1F ""
		echo "Finalized restore success."
		goto DATABASE_OPTIONS_(A)_Quick
end


##########################################################
# Find <TID_LOW> to move onto the next search field or   #
# move the entire <TID_HIGH> folder into 'title_<ID0>'.  #
##########################################################

if find -f "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]/*" TID_LOW
		strsplit TID_LOW "$[TID_LOW]" "/"
	else
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]"
		goto FIND_NEXT_3DS_TITLE_REVERSE
end


##########################################################
# Find the TMD file to begin the restoring process.      #
# Remove the dummy TMD to prevent interference with the  #
# real TMD in the 'title_<ID0>/<TID_HIGH>/<TID_LOW>'.    #
##########################################################

if find -f "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]/content/*.tmd" TMD_DIR
	rm -o -s "$[TMD_DIR]"
end


##########################################################
# Find the dummy CMD file, copy its ID, copy the CMAC    #
# header info, and then delete the dummy CMD file.       #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/*.cmd" CMD_FILE
	strsplit CMD_FILE "$[CMD_FILE]" "/"
	fget "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]@00:20" CMD_CMAC_BLOCK_0x00-1F
	rm -o -s "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]"
end


##########################################################
# Move the '<TID_LOW>' from 'title_<ID0>' to 'title'.    #
##########################################################

mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]/$[TID_LOW]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]"


##########################################################
# If the dummy CMD was previously found, rename the real #
# CMD to that of the dummy version. Correct the CMAC     #
# header info. This is done to match the *.db records.   #
##########################################################

if not chk "$[CMD_FILE]" ""
	if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/*.cmd" CMD_DIR
		cp -o -s -n "$[CMD_DIR]" "$[GM9OUT]/$[CMD_FILE]"
		rm -o -s "$[CMD_DIR]"
		cp -o -s -n "$[GM9OUT]/$[CMD_FILE]" "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]"
		rm -o -s "$[GM9OUT]/$[CMD_FILE]"
		fset "A:/title/$[TID_HIGH]/$[TID_LOW]/content/cmd/$[CMD_FILE]@00" "$[CMD_CMAC_BLOCK_0x00-1F]"
	end
end


##########################################################
# Reiterate the loop run. Find next title to work on.    #
##########################################################

goto FIND_NEXT_3DS_TITLE_REVERSE


#####################################################################################################################


@DATABASE_FULL_(1b)_Backup_CIAs_&_Saves

##########################################################
#    ~ INSTRUCTIONS ~ Rebuild 3DS Database (Full) ~      #
# 1. Plug in the AC charger to keep the system charged.  #
# 2. Set the volume slider to lowest screen brightness.  #
# 3. Wait for 'Storage test success.' and press (A).     #
# 4. Fold it closed if system has a clam shell design.   #
# 5. DO NOT PRESS (B) AT ANY MOMENT! This interrupts the #
#    CIA & SAV processes. The system will shut off when  #
#    done. If an error occurs, see 'missing_titles.txt'. #
# 6. FBI > 'cias (proper)_<ID0>' > 'Install all CIAs' or #
                                                          if not ask "Continue with backing up CIAs and saves?\nPress (B) to cancel attempt."
	                                                            goto DATABASE_OPTIONS_(B)_Full
                                                             end
#    'Install and delete all CIAs' for limited SD space. #
# 7. Run the '(2b) Restore Saves' option to complete.    #
# 8. faketik - Restore tickets for nonlegit titles.      #
# 9. Cthulhu - Unwrap all HOME Menu software gift icons. #
# 10. Checkpoint/JKSM - Backup all saves + extdata. This #
# bypasses anti-cheat save protection for certain games. #
##########################################################

if not allow -a "A:/"
	echo "[A:] SYSNAND SD\nAccess denied."
	goto DATABASE_OPTIONS_(B)_Full
end

##########################################################
# Safety check for a certain deliberate input. The user  #
# has to understand what they're doing before this runs. #
##########################################################

                                                            if find "A:/dbs/import.db" NULL
	echo "Backup run cancelled.\nPlease read the option description."
	goto DATABASE_OPTIONS_(B)_Full
                                                          elif find "A:/dbs/title.db" NULL
	echo "Backup run cancelled.\nPlease read the option description."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Determine if '0:/Nintendo 3DS/<ID0>' exists.           #
##########################################################

 if findnot "0:/Nintendo 3DS" NULL
	echo "0:/Nintendo 3DS\n \nDirectory not found."
	goto DATABASE_OPTIONS_(B)_Full
elif findnot "0:/Nintendo 3DS/$[SYSID0]" NULL
	echo "0:/Nintendo 3DS/\n$[SYSID0]\n \nDirectory not found."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Find the <ID1> subfolder or exit back to submenu.      #
##########################################################

set SYSID1_FORWARD ""

if find -f "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_FORWARD
		strsplit SYSID1_FORWARD "$[SYSID1_FORWARD]" "/"
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nNo entry within directory."
		goto DATABASE_OPTIONS_(B)_Full
end

set SYSID1_BACKWARD ""

if find "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_BACKWARD
	strsplit SYSID1_BACKWARD "$[SYSID1_BACKWARD]" "/"
end

set SYSID1 ""

if chk "$[SYSID1_FORWARD]" "$[SYSID1_BACKWARD]"
		set SYSID1 "$[SYSID1_FORWARD]"
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nMore than one <ID1> folder found.\n \n$[SYSID1_FORWARD]\n \n$[SYSID1_BACKWARD]"
		set SYSID1 ""
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
		goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Put a dummy file at '0:/Nintendo 3DS/<ID0>/<ID1>'.     #
##########################################################

set LITMUS_FILE ""

if findnot "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/dummy_???.bin" LITMUS_FILE
	strsplit LITMUS_FILE "$[LITMUS_FILE]" "/"
end

# ~ # ~ # ~ # ~ #

if not fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "00"
end


##########################################################
# Try to find the same dummy file in 'A:/'. Remove the   #
# dummy file. Try to find it missing in another search.  #
# Sync the '0:/Nintendo 3DS/<ID0>/<ID1>' ~ 'A:/' drives. #
##########################################################

if find "A:/$[LITMUS_FILE]" NULL
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	else
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
		set SYSID1 ""
		set LITMUS_FILE ""
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
		goto DATABASE_OPTIONS_(B)_Full
end

# ~ # ~ # ~ # ~ #

if find "A:/$[LITMUS_FILE]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Look for certain folders. Depending what's missing or  #
# present, either continue or stop the build run.        #
##########################################################

  if find "A:/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Datebase (Quick)'."
	goto DATABASE_OPTIONS_(B)_Full

elif find "$[GM9OUT]/cias (dummy)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (dummy)_$[SYSID0]\n \nDetected 'cias (dummy)_<ID0>' folder.\nConflict with 'Rebuild 3DS Datebase (Quick)'."
	goto DATABASE_OPTIONS_(B)_Full

elif find "$[GM9OUT]/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nResolve previous run with '(1b) Backup CIAs & Saves'."
	goto DATABASE_OPTIONS_(B)_Full

elif find "$[GM9OUT]/cias (proper)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (proper)_$[SYSID0]\n \nDetected 'cias (proper)_<ID0>' folder.\nConflict with '(2b) Restore Saves' option."
	goto DATABASE_OPTIONS_(B)_Full

elif find "$[GM9OUT]/saves_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\nsaves_$[SYSID0]\n \nDetected 'saves_<ID0>' folder.\nConflict with '(2b) Restore Saves' option\nor 'Rebuild 3DS Database (Manual)'."
	goto DATABASE_OPTIONS_(B)_Full

elif findnot "A:/title" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle\n \nThe 'title' folder is missing."
	goto DATABASE_OPTIONS_(B)_Full

elif not find -f "A:/title/*" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/<TID_HIGH>\n \nNo usable '<TID_HIGH>' entry."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Create a test file to ensure there is sufficient       #
# free space on the SD card. Delete the file once the    #
# availability status is known. This is to avoid the     #
# incident of having the script unexpectedly fail in     #
# creating the CIAs due to free space shortage.          #
# 3.99 GB = 4,294,967,295 bytes (0xFFFFFFFF)             #
##########################################################


echo "Testing the SD card for enough memory."

fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "FFFFFFFF"

if fget "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]@FFFFFFFE:01" NULL
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	echo "Storage test success."
else
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "Insufficient memory.\n4 GB of free space is required."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Move the '0:/gm9/out' folder to a temporary folder.    #
# '0:/gm9/out' needs to be cleared to build the CIAs.    #
##########################################################

set GM9OUT_TEMP_DIR ""

findnot "0:/gm9/out_temp_???" GM9OUT_TEMP_DIR

@FIX_GM9OUT_TEMP_DIR_FULL

if not mkdir "$[GM9OUT_TEMP_DIR]"
end

if find "$[GM9OUT_TEMP_DIR]" NULL
		rm -o -s "$[GM9OUT_TEMP_DIR]"
	else
		findnot "0:/gm9/out_temp_????" GM9OUT_TEMP_DIR
		goto FIX_GM9OUT_TEMP_DIR_FULL
end

mv -o -s -n -w "$[GM9OUT]" "$[GM9OUT_TEMP_DIR]"


##########################################################
# Make 'title_<ID0>', 'cias (proper)_<ID0>',             #
# and 'saves_<ID0>' folders. These are needed to move    #
# CIAs, saves, and titles that fail to get dumped.       #
# Copy the 'ticket.db' to 'saves_<ID0>' folder.          #
##########################################################

mkdir "$[GM9OUT]"
mkdir "$[GM9OUT]/cias (proper)_$[SYSID0]"
fdummy "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt" "00"
mkdir "$[GM9OUT]/title_$[SYSID0]"
mkdir "$[GM9OUT]/saves_$[SYSID0]"
cp -o -s -n -w "1:/dbs/ticket.db" "$[GM9OUT]/saves_$[SYSID0]/$[SERIAL]_ticket.db"


##########################################################
# Find <TID_HIGH>, <TID_LOW>, and TMD file. Move the     #
# folders to 'title_<ID0>' if the TMD is not found.      #
#  00040000 - Game | 0004000e - Update | 0004008c - DLC  #
##########################################################

@FIND_NEXT_3DS_TITLE_FULL

set TID_HIGH ""
set TID_LOW ""
set TMD_FILE ""
set CIA_FILE ""


##########################################################
# Find <TID_HIGH> to move onto the next search field.    #
# If no entry is found, end the script run. When ending  #
# script run, (1) clear the variables and (2) delete     #
# 'title_<ID0>' and/or 'missing_titles.txt' if empty.    #
##########################################################

if find -f "A:/title/*" TID_HIGH
		strsplit TID_HIGH "$[TID_HIGH]" "/"
	else
		mv -o -s -n -w "$[GM9OUT_TEMP_DIR]" "$[GM9OUT]"
		
		set SYSID1 ""
		set LITMUS_FILE ""
		set GM9OUT_TEMP_DIR ""
		set TID_HIGH ""
		set TID_LOW ""
		set TMD_FILE ""
		set CIA_FILE ""
		
		if not find -f "$[GM9OUT]/title_$[SYSID0]/*" NULL
			rm -o -s "$[GM9OUT]/title_$[SYSID0]"
		end
		
		if fget "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt@00:01" NULL
				echo "$[GM9OUT]/\ncias (proper)_$[SYSID0]/\nmissing_titles.txt\n \nBuild error(s) encountered."
				textview "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt"
			else
				rm -o -s "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt"
				poweroff
		end
		
		echo "Backed up CIAs & saves success."
		goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Check for known '<TID_HIGH>' or relocate the item.     #
##########################################################

  if chk "$[TID_HIGH]" "00040000" # Game
elif chk "$[TID_HIGH]" "0004000e" # Update
elif chk "$[TID_HIGH]" "0004008c" # DLC
else
	# ERROR 02: UNKNOWN TID HIGH
	dumptxt -p "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - Unknown <TID_HIGH> ($[TID_HIGH])."
	mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]" "$[GM9OUT]/title_$[SYSID0]/[0] SDCARD (encrypted)/title/$[TID_HIGH]"
	goto FIND_NEXT_3DS_TITLE_FULL
end


##########################################################
# Find <TID_LOW> to move onto next the search field or   #
# delete the entire <TID_HIGH> folder if no entry found. #
##########################################################

if find -f "A:/title/$[TID_HIGH]/*" TID_LOW
		strsplit TID_LOW "$[TID_LOW]" "/"
	else
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]"
		goto FIND_NEXT_3DS_TITLE_FULL
end


##########################################################
# Find the TMD file to begin the CIA building process.   #
# If TMD file is not found, record an error dump,        #
# relocate SAV, move the '<TID_LOW>' subfolder into      #
# 'title_<ID0>', and continue with the next entry.       #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/content/*.tmd" TMD_FILE
		strsplit TMD_FILE "$[TMD_FILE]" "/"
	else
		# ERROR 01: MISSING TMD FILE
		dumptxt -p "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - TMD is missing."
		
		if find "A:/title/$[TID_HIGH]/$[TID_LOW]/data" NULL
			cp -o -s -n -w "A:/title/$[TID_HIGH]/$[TID_LOW]/data" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data"
			rm -o -s "A:/title/$[TID_HIGH]/$[TID_LOW]/data"
		end
		
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/title_$[SYSID0]/[0] SDCARD (encrypted)/title/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_TITLE_FULL
end


##########################################################
# Build the CIA. If interruption or failure occurs, copy #
# the decrypted '<TID_LOW>' to 'title_<ID0>'. Delete the #
# CMD, backup the SAV, and continue with the next entry. #
##########################################################

if not buildcia -o -s "A:/title/$[TID_HIGH]/$[TID_LOW]/content/$[TMD_FILE]"
	# ERROR 05: CIA BUILD FAILED
	dumptxt -p "$[GM9OUT]/cias (proper)_$[SYSID0]/missing_titles.txt" "$[TID_HIGH]$[TID_LOW] - Failed to build CIA."
	
	if find "A:/title/$[TID_HIGH]/$[TID_LOW]/data" NULL
		cp -o -s -n -w "A:/title/$[TID_HIGH]/$[TID_LOW]/data" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data"
		rm -o -s "A:/title/$[TID_HIGH]/$[TID_LOW]/data"
	end
	
	cp -o -s -n -w "A:/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/title_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]"
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]"
	goto FIND_NEXT_3DS_TITLE_FULL
end


##########################################################
# Move the CIA to 'cias (proper)_<ID0>'. Extract the     #
# save. Delete the '<TID_LOW>'. Go to the next title.    #
##########################################################

set CIA_FILE ""

if find -f "$[GM9OUT]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	mv -o -s -n -w "$[GM9OUT]/$[CIA_FILE]" "$[GM9OUT]/cias (proper)_$[SYSID0]/$[CIA_FILE]"
end

if find "A:/title/$[TID_HIGH]/$[TID_LOW]/data" NULL
	cp -o -s -n "A:/title/$[TID_HIGH]/$[TID_LOW]/data" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data"
end

rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]"

goto FIND_NEXT_3DS_TITLE_FULL


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################

@DATABASE_FULL_(2b)_Restore_Saves

if not ask "Continue with restoring saves?\nPress (B) to cancel attempt."
	goto DATABASE_OPTIONS_(B)_Full
end

if not allow "1:/dbs/ticket.db"
	echo "[1:] SYSNAND CTRNAND/dbs/ticket.db\nAccess denied."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Look for the 'saves_<ID0>' and 'cias (proper)_<ID0>'   #
# folders. Stop the restore run if folders from the      #
# other 'Rebuild 3DS Database' options are found.        #
##########################################################

  if findnot "$[GM9OUT]/saves_$[SYSID0]" NULL
	echo "0:/gm9/out/\nsaves_$[SYSID0]\n \nThe 'saves_<ID0>' folder is missing."
	goto DATABASE_OPTIONS_(B)_Full

elif findnot "$[GM9OUT]/cias (proper)_$[SYSID0]" NULL
	echo "0:/gm9/out/\ncias (proper)_$[SYSID0]\n \nThe 'cias (proper)_<ID0>' folder is missing.\nConflict with 'Rebuild 3DS Database (Manual)'."
	goto DATABASE_OPTIONS_(B)_Full

elif find "$[GM9OUT]/cias (dummy)_$[SYSID0]" NULL
	echo "0:/gm9/out/\ncias (dummy)_$[SYSID0]\n \nDetected 'cias (dummy)_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Quick)'."
	goto DATABASE_OPTIONS_(B)_Full

elif find "A:/title_$[SYSID0]" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Quick)'."
	goto DATABASE_OPTIONS_(B)_Full

elif findnot "A:/title" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle\n \nThe 'title' folder is missing."
	goto DATABASE_OPTIONS_(B)_Full

elif findnot "A:/title/00040000" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/00040000\n \nThe '<TID_HIGH>' folder (00040000) is missing."
	goto DATABASE_OPTIONS_(B)_Full

elif not find -f "A:/title/00040000/*" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/00040000/<TID_LOW>\n \nNo usable '<TID_LOW>' entry."
	goto DATABASE_OPTIONS_(B)_Full
end


##########################################################
# Restore the original 'ticket.db'. This is to preserve  #
# legit tickets for Nintendo eShop purchases & updates.  #
##########################################################

cp -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/$[SERIAL]_ticket.db" "1:/dbs/ticket.db"
fixcmac -o -s "1:/dbs/ticket.db"


##########################################################
# Delete the sysdata that controls "Secure Value". This  #
# prevents certain games with anti-cheat protection from #
# automatically erasing their saves.                     #
##########################################################

rm -o -s "1:/data/$[SYSID0]/sysdata/00010011"


##########################################################
# Move aside any previous error report in case of rerun. #
##########################################################

if find "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" NULL
	findnot "$[GM9OUT]/saves_$[SYSID0]/save_restore_error_???.txt" TEMP_FILE
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TEMP_FILE]"
	set TEMP_FILE ""
end


##########################################################
# Look for a '<TID_LOW>' entry or end the restore run.   #
##########################################################

@FIND_NEXT_3DS_SAVE_FULL

set TID_HIGH ""
set TID_LOW ""

if find -f "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/*" TID_HIGH
	strsplit TID_HIGH "$[TID_HIGH]" "/"
else
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title" 
	set TID_HIGH ""
	set TID_LOW ""
	fixcmac -o -s "A:"
	
	if fget "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt@00:01" NULL
			dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "DATE [YYMMDD]: $[DATESTAMP]"
			dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "TIME [HHMMSS]: $[TIMESTAMP]"
			echo "$[GM9OUT]/\nsaves_$[SYSID0]/\nsave_restore_error.txt\n \nRestore error(s) encountered."
			textview "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt"
		else
			rm -o -s "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt"
	end
	
	echo "Restore saves success."
	goto DATABASE_OPTIONS_(B)_Full
end

# ~ # ~ # ~ # ~ #

if find -f "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/*" TID_LOW
	strsplit TID_LOW "$[TID_LOW]" "/"
else
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]"
	goto FIND_NEXT_3DS_SAVE_FULL
end


##########################################################
# Find the backed up SAV file for that entry.            #
##########################################################

if find -f "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" NULL
	else
		dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Backed up SAV file is missing."
		mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_SAVE_FULL
end


##########################################################
# Check if the '<TID_LOW>' game is installed.            #
##########################################################

if findnot "A:/title/$[TID_HIGH]/$[TID_LOW]" NULL
	dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Game not installed."
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
	goto FIND_NEXT_3DS_SAVE_FULL
end


##########################################################
# If that installed '<TID_LOW>' game has a SAV file,     #
# replace it with the backed up one. Relocate the        #
# '<TID_LOW>' to 'title_temp' to begin a new search.     #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" NULL
		cp -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data" "A:/title/$[TID_HIGH]/$[TID_LOW]/data"
		mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_SAVE_FULL
	else
		dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Installed game's SAV file is missing."
		mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_SAVE_FULL
end


#####################################################################################################################


@DATABASE_MANUAL_(1c)_Backup_Saves

##########################################################
#    ~ INSTRUCTIONS ~ Rebuild 3DS Database (Manual) ~    #
# 1. Plug in the AC charger to keep the system charged.  #
# 2. Set the volume slider to lowest screen brightness.  #
# 3. Wait for 'Storage test success.' and press (A).     #
# 4. After the saves are extracted, look for the log     #
#    dump file called 'installed_titles_list.txt'.       #
# 5. Dump/supply/collect all the CIAs as per titleIDs.   #
#    DO NOT REMOVE OR ADD ADDITIONAL TITLES! The CIAs    #
#    must match 1-to-1 with those in the 'Nintendo 3DS'. #
                                                          if not ask "Continue with backing up saves?\nPress (B) to cancel attempt."
	                                                            goto DATABASE_OPTIONS_(C)_Manual
                                                             end
# 6. FBI - Install the CIAs (no more, no less).          #
# 7. Run the '(2c) Restore Saves' option to complete.    #
# 8. faketik - Restore tickets for nonlegit titles.      #
# 9. Cthulhu - Unwrap all HOME Menu software gift icons. #
# 10. Checkpoint/JKSM - Backup all saves + extdata. This #
# bypasses anti-cheat save protection for certain games. #
##########################################################


##########################################################
# Determine if '0:/Nintendo 3DS/<ID0>' exists.           #
##########################################################

if not allow -a "A:/"
	echo "[A:] SYSNAND SD\nAccess denied."
	goto DATABASE_OPTIONS_(C)_Manual
end

 if findnot "0:/Nintendo 3DS" NULL
	echo "0:/Nintendo 3DS\n \nDirectory not found."
	goto DATABASE_OPTIONS_(C)_Manual
elif findnot "0:/Nintendo 3DS/$[SYSID0]" NULL
	echo "0:/Nintendo 3DS/\n$[SYSID0]\n \nDirectory not found."
	goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Find the <ID1> subfolder or exit back to submenu.      #
##########################################################

set SYSID1_FORWARD ""

if find -f "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_FORWARD
		strsplit SYSID1_FORWARD "$[SYSID1_FORWARD]" "/"
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nNo entry within directory."
		goto DATABASE_OPTIONS_(C)_Manual
end

set SYSID1_BACKWARD ""

if find "0:/Nintendo 3DS/$[SYSID0]/*" SYSID1_BACKWARD
	strsplit SYSID1_BACKWARD "$[SYSID1_BACKWARD]" "/"
end

set SYSID1 ""

if chk "$[SYSID1_FORWARD]" "$[SYSID1_BACKWARD]"
		set SYSID1 "$[SYSID1_FORWARD]"
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
	else
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n \nMore than one <ID1> folder found.\n \n$[SYSID1_FORWARD]\n \n$[SYSID1_BACKWARD]"
		set SYSID1 ""
		set SYSID1_FORWARD ""
		set SYSID1_BACKWARD ""
		goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Put a dummy file at '0:/Nintendo 3DS/<ID0>/<ID1>'.     #
##########################################################

set LITMUS_FILE ""

if findnot "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/dummy_???.bin" LITMUS_FILE
	strsplit LITMUS_FILE "$[LITMUS_FILE]" "/"
end

# ~ # ~ # ~ # ~ #

if not fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "00"
end


##########################################################
# Try to find the same dummy file in 'A:/'. Remove the   #
# dummy file. Try to find it missing in another search.  #
# Sync the '0:/Nintendo 3DS/<ID0>/<ID1>' ~ 'A:/' drives. #
##########################################################

if find "A:/$[LITMUS_FILE]" NULL
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	else
		rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
		set SYSID1 ""
		set LITMUS_FILE ""
		echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
		goto DATABASE_OPTIONS_(C)_Manual
end

# ~ # ~ # ~ # ~ #

if find "A:/$[LITMUS_FILE]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/\n$[SYSID0]/\n<ID1>\n \nCould not determine '<ID1>' folder."
	goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Look for certain folders. Depending what's missing or  #
# present, either continue or stop the build run.        #
##########################################################

  if find "A:/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Datebase (Quick)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif find "$[GM9OUT]/cias (dummy)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (dummy)_$[SYSID0]\n \nDetected 'cias (dummy)_<ID0>' folder.\nConflict with 'Rebuild 3DS Datebase (Quick)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif find "$[GM9OUT]/title_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif find "$[GM9OUT]/cias (proper)_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\ncias (proper)_$[SYSID0]\n \nDetected 'cias (proper)_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif find "$[GM9OUT]/saves_$[SYSID0]" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/gm9/out/\nsaves_$[SYSID0]\n \nDetected 'saves_<ID0>' folder.\nConflict with '(2c) Restore Saves' option\nor 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif findnot "A:/title" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle\n \nThe 'title' folder is missing."
	goto DATABASE_OPTIONS_(C)_Manual

elif not find -f "A:/title/*" NULL
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/<TID_HIGH>\n \nNo usable '<TID_HIGH>' entry."
	goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Create a test file to ensure there is sufficient       #
# free space on the SD card. Delete the file once the    #
# availability status is known. This is to avoid the     #
# incident of having the script unexpectedly fail in     #
# backing up the SAV files due to free space shortage.   #
# 512 MB = 536,870,912 bytes (0x20000000)                #
##########################################################


echo "Testing the SD card for enough memory."

fdummy "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]" "20000000"

if fget "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]@1FFFFFFF:01" NULL
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	echo "Storage test success."
else
	rm -o -s "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/$[LITMUS_FILE]"
	set SYSID1 ""
	set LITMUS_FILE ""
	echo "Insufficient memory.\n512 MB of free space is required."
	goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Move the '0:/gm9/out' folder to a temporary folder.    #
# '0:/gm9/out' needs to be cleared to build dummy CIAs.  #
##########################################################

set GM9OUT_TEMP_DIR ""

findnot "0:/gm9/out_temp_???" GM9OUT_TEMP_DIR

@FIX_GM9OUT_TEMP_DIR_MANUAL

if not mkdir "$[GM9OUT_TEMP_DIR]"
end

if find "$[GM9OUT_TEMP_DIR]" NULL
		rm -o -s "$[GM9OUT_TEMP_DIR]"
	else
		findnot "0:/gm9/out_temp_????" GM9OUT_TEMP_DIR
		goto FIX_GM9OUT_TEMP_DIR_MANUAL
end

mv -o -s -n -w "$[GM9OUT]" "$[GM9OUT_TEMP_DIR]"


##########################################################
# Make 'title_<ID0>' and 'saves_<ID0>' folders. These    #
# are needed to extract the saves and sort the titles.   #
# Copy the 'ticket.db' to 'saves_<ID0>' folder.          #
##########################################################

mkdir "$[GM9OUT]/saves_$[SYSID0]"
fdummy "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt" "00"
cp -o -s -n -w "1:/dbs/ticket.db" "$[GM9OUT]/saves_$[SYSID0]/$[SERIAL]_ticket.db"


##########################################################
# Find <TID_HIGH> and <TID_LOW>. Move the folders to     #
# 'title_<ID0>' when saves are extracted and sorted.     #
#  00040000 - Game | 0004000e - Update | 0004008c - DLC  #
##########################################################

@FIND_NEXT_3DS_TITLE_MANUAL

set TID_HIGH ""
set TID_LOW ""
set APP_FILE ""
set TMD_FILE ""
set TMD_DIR ""
set TMD_BLOCK_0xB04-B33_SHA ""
set TMD_BLOCK_0x204-B03_SHA ""
set ICON_FILE_SHA ""
set LOOP_BREAK ""
set CIA_FILE ""


##########################################################
# Find <TID_HIGH> to move onto the next search field.    #
# If no entry is found, end the script run. When ending  #
# the script, (1) clear the variables and (2) move back  #
# 'title_<ID0>' to 'title'. Preview the text log dump.   #
##########################################################

if find -f "A:/title/*" TID_HIGH
		strsplit TID_HIGH "$[TID_HIGH]" "/"
	else
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title"
		mv -o -s -n -w "$[GM9OUT_TEMP_DIR]" "$[GM9OUT]"
		
		set SYSID1 ""
		set LITMUS_FILE ""
		set GM9OUT_TEMP_DIR ""
		set TID_HIGH ""
		set TID_LOW ""
		set APP_FILE ""
		set TMD_FILE ""
		set TMD_DIR ""
		set TMD_BLOCK_0xB04-B33_SHA ""
		set TMD_BLOCK_0x204-B03_SHA ""
		set ICON_FILE_SHA ""
		set LOOP_BREAK ""
		set CIA_FILE ""
		
		if fget "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt@00:01" NULL
				echo "$[GM9OUT]/\nsaves_$[SYSID0]/\ninstalled_titles_list.txt\n \nList of title(s) found."
				textview "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt"
			else
				rm -o -s "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt"
		end
		
		echo "Backed up saves success."
		goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Check for known '<TID_HIGH>' or relocate the item.     #
##########################################################

  if chk "$[TID_HIGH]" "00040000" # Game
elif chk "$[TID_HIGH]" "0004000e" # Update
elif chk "$[TID_HIGH]" "0004008c" # DLC
else
	mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]"
	goto FIND_NEXT_3DS_TITLE_MANUAL
end


##########################################################
# Find <TID_LOW> to move onto next the search field or   #
# move the entire <TID_HIGH> folder if no entry found.   #
##########################################################

if find -f "A:/title/$[TID_HIGH]/*" TID_LOW
		strsplit TID_LOW "$[TID_LOW]" "/"
	else
		mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]"
		goto FIND_NEXT_3DS_TITLE_MANUAL
end


##########################################################
# If the 'data' subfolder exists, extract the save.      #
# Relocate the '<TID_LOW>' to 'title_<ID0>'. Reiterate.  #
##########################################################

if find "A:/title/$[TID_HIGH]/$[TID_LOW]/data" NULL
	cp -o -s -n "A:/title/$[TID_HIGH]/$[TID_LOW]/data" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data"
end

##########################################################
# Find the TMD to begin generating the dummy CIA.        #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/content/*.tmd" TMD_FILE
		strsplit TMD_FILE "$[TMD_FILE]" "/"
	else
		goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# Extract a trimmed down copy of TMD to '0:/gm9/out'.    #
##########################################################

if not inject -n "A:/title/$[TID_HIGH]/$[TID_LOW]/content/$[TMD_FILE]@000:B34" "$[GM9OUT]/$[TMD_FILE]"
	goto SKIP_FINDING_TITLE_INFO_MANUAL 
end

##########################################################
# Get the name of the first APP file.                    #
##########################################################

if fget "$[GM9OUT]/$[TMD_FILE]@B04:04" APP_FILE
		set APP_FILE "$[APP_FILE].app"
	else
		goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# Adjust APP location depending on title type.           #
##########################################################

  if chk "$[TID_HIGH]" "0004008c" # DLC
	set APP_DIR "A:/title/$[TID_HIGH]/$[TID_LOW]/content/00000000/$[APP_FILE]"
else
	set APP_DIR "A:/title/$[TID_HIGH]/$[TID_LOW]/content/$[APP_FILE]"
end

##########################################################
# If initial APP is missing, skip to the end.            #
##########################################################

if findnot "$[APP_DIR]" NULL
	goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# If the APP doesn't mount, skip to the end.             #
##########################################################

if not imgmount "$[APP_DIR]"
	imgumount
	goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# If the NCCH header is missing, skip to the end.        #
##########################################################

if findnot "G:/ncch.bin" NULL
	imgumount
	goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# If the NCCH header can't be copied, skip to the end.   #
##########################################################

if not cp -o -s -n -p "G:/ncch.bin" "$[GM9OUT]/00000000/$[APP_FILE]"
	imgumount
	goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# Fill 512 bytes of "00" to build the ExeFS header.      #
##########################################################

fill -n "$[GM9OUT]/00000000/$[APP_FILE]@200:200" "00"


##########################################################
# If the icon is missing, skip to the end.               #
##########################################################

if findnot "G:/exefs/icon" NULL
	imgumount
	goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# If the icon can't be copied, skip to the end.          #
##########################################################

if cp -o -s -n -p "G:/exefs/icon" "$[GM9OUT]/00000000/$[APP_FILE]"
		imgumount
	else
		imgumount
		goto SKIP_FINDING_TITLE_INFO_MANUAL
end

##########################################################
# Pad 320 bytes of "00" to APP for size correction.      #
##########################################################

fill -n "$[GM9OUT]/00000000/$[APP_FILE]@3AC0:140" "00"

# APP size: 0x1E * 0x200 = 0x3C00 (15360) bytes
fset "$[GM9OUT]/00000000/$[APP_FILE]@104" "1E000000"

# Erase the logo.bin info: hash
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@130:20" "00"

# Erase the exheader.bin info: size & offset
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@180:08" "00"

# Erase the plain.bin & logo.bin info: size & offset
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@190:10" "00"

# Edit the ExeFS.bin info: size & offset
fset "$[GM9OUT]/00000000/$[APP_FILE]@1A0" "010000001D000000"

# Erase the RomFS.bin info: size, offset, hash region
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@1B0:10" "00"

# Erase the RomFS header info: hash
fill -n "$[GM9OUT]/00000000/$[APP_FILE]@1E0:20" "00"

# Add back the 'icon' entry in ExeFS header
fset "$[GM9OUT]/00000000/$[APP_FILE]@220" "69636F6E0000000000000000C0360000"

##########################################################
# Calculate 'icon' hash. Fix the hash in ExeFS header.   #
##########################################################

@SHAGET_ICON_MANUAL
if shaget "$[GM9OUT]/00000000/$[APP_FILE]@400:36C0" ICON_FILE_SHA
		fset "$[GM9OUT]/00000000/$[APP_FILE]@3A0" "$[ICON_FILE_SHA]"
	else
		goto SHAGET_ICON_MANUAL
end

##########################################################
# Calculate the APP hash. Fix the APP hash in the TMD.   #
##########################################################

@SHAGET_APP_MANUAL
if shaget "$[GM9OUT]/00000000/$[APP_FILE]" APP_FILE_SHA
		fset "$[GM9OUT]/$[TMD_FILE]@B14" "$[APP_FILE_SHA]"
	else
		goto SHAGET_APP_MANUAL
end

# Fix the APP size in the TMD.
fset "$[GM9OUT]/$[TMD_FILE]@B0C" "0000000000003C00"

# Fix the content count (single).
fset "$[GM9OUT]/$[TMD_FILE]@1DF" "01"

# Fix the content count (single).
fset "$[GM9OUT]/$[TMD_FILE]@204" "00000001"

##########################################################
# Calculate & fix 'Content Info Record' hash in the TMD. #
##########################################################

@SHAGET_BLOCK_0xB04-B33_MANUAL
if shaget "$[GM9OUT]/$[TMD_FILE]@B04:30" TMD_BLOCK_0xB04-B33_SHA
		fset "$[GM9OUT]/$[TMD_FILE]@208" "$[TMD_BLOCK_0xB04-B33_SHA]"
	else
		goto SHAGET_BLOCK_0xB04-B33_MANUAL
end

##########################################################
# Calculate & fix this block region's hash in the TMD.   #
##########################################################

@SHAGET_BLOCK_0x204-B03_MANUAL
if shaget "$[GM9OUT]/$[TMD_FILE]@204:900" TMD_BLOCK_0x204-B03_SHA
		fset "$[GM9OUT]/$[TMD_FILE]@1E4" "$[TMD_BLOCK_0x204-B03_SHA]"
	else
		goto SHAGET_BLOCK_0x204-B03_MANUAL
end

##########################################################
# Depending on title type, relocate the TMD for cia      #
# building adjustments. Record the file's final address. #
##########################################################

if chk "$[TID_HIGH]" "0004008c" # DLC
		set TMD_DIR "$[GM9OUT]/$[TMD_FILE]"
	else
		mv -o -s -n -w "$[GM9OUT]/$[TMD_FILE]" "$[GM9OUT]/00000000/$[TMD_FILE]"
		set TMD_DIR "$[GM9OUT]/00000000/$[TMD_FILE]"
end

##########################################################
# Branch action depending on whether a CIA is dumped.    #
# Move to the next title if building the cia fails.      #
##########################################################

set LOOP_BREAK "NO_1"

@BUILDCIA_TRY_AGAIN_MANUAL

  if chk "$[LOOP_BREAK]" "NO_1"
	set LOOP_BREAK "NO_2"
elif chk "$[LOOP_BREAK]" "NO_2"
	set "LOOP_BREAK "YES"
elif chk "$[LOOP_BREAK]" "YES"
	goto SKIP_FINDING_TITLE_INFO_MANUAL
end

if not buildcia -o -s "$[TMD_DIR]"
	goto BUILDCIA_TRY_AGAIN_MANUAL
end

##########################################################
# Record the name of the CIA the text log.               #
##########################################################

@SKIP_FINDING_TITLE_INFO_MANUAL

if find -f "$[GM9OUT]/*.cia" CIA_FILE
	strsplit CIA_FILE "$[CIA_FILE]" "/"
	strsplit -b CIA_FILE "$[CIA_FILE]" "."
	dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt" "$[CIA_FILE]"
	fset "$[GM9OUT]/saves_$[SYSID0]/temp.bin@00" "0D0A"
	cp -o -s -n -p "$[GM9OUT]/saves_$[SYSID0]/temp.bin" "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt"
	rm -o -s "$[GM9OUT]/saves_$[SYSID0]/temp.bin"
else
	dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt" "$[TID_HIGH]$[TID_LOW]"
	fset "$[GM9OUT]/saves_$[SYSID0]/temp.bin@00" "0D0A"
	cp -o -s -n -p "$[GM9OUT]/saves_$[SYSID0]/temp.bin" "$[GM9OUT]/saves_$[SYSID0]/installed_titles_list.txt"
	rm -o -s "$[GM9OUT]/saves_$[SYSID0]/temp.bin"
end

rm -o -s "$[GM9OUT]/$[TMD_FILE]"
rm -o -s "$[GM9OUT]/$[CIA_FILE].cia"
rm -o -s "$[TMD_DIR]"
rm -o -s "$[GM9OUT]/00000000"

mv -o -s -n -w "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title/$[TID_HIGH]/$[TID_LOW]" "0:/Nintendo 3DS/$[SYSID0]/$[SYSID1]/title_$[SYSID0]/$[TID_HIGH]/$[TID_LOW]" 

goto FIND_NEXT_3DS_TITLE_MANUAL


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################

@DATABASE_MANUAL_(2c)_Restore_Saves

if not ask "Continue with restoring saves?\nPress (B) to cancel attempt."
	goto DATABASE_OPTIONS_(C)_Manual
end

if not allow "1:/dbs/ticket.db"
	echo "[1:] SYSNAND CTRNAND/dbs/ticket.db\nAccess denied."
	goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Look for the 'saves_<ID0>' folder. Stop the restore    #
# run if folders from the other 'Rebuild 3DS Database'   #
# options are found.                                     #
##########################################################

  if findnot "$[GM9OUT]/saves_$[SYSID0]" NULL
	echo "0:/gm9/out/\nsaves_$[SYSID0]\n \nThe 'saves_<ID0>' folder is missing."
	goto DATABASE_OPTIONS_(C)_Manual

elif find "$[GM9OUT]/cias (proper)_$[SYSID0]" NULL
	echo "0:/gm9/out/\ncias (proper)_$[SYSID0]\n \nDetected 'cias (proper)_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Full)'."
	goto DATABASE_OPTIONS_(C)_Manual	

elif find "$[GM9OUT]/cias (dummy)_$[SYSID0]" NULL
	echo "0:/gm9/out/\ncias (dummy)_$[SYSID0]\n \nDetected 'cias (dummy)_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Quick)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif find "A:/title_$[SYSID0]" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle_$[SYSID0]\n \nDetected 'title_<ID0>' folder.\nConflict with 'Rebuild 3DS Database (Quick)'."
	goto DATABASE_OPTIONS_(C)_Manual

elif findnot "A:/title" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle\n \nThe 'title' folder is missing."
	goto DATABASE_OPTIONS_(C)_Manual

elif findnot "A:/title/00040000" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/00040000\n \nThe '<TID_HIGH>' folder (00040000) is missing."
	goto DATABASE_OPTIONS_(C)_Manual

elif not find -f "A:/title/00040000/*" NULL
	echo "0:/Nintendo 3DS/<ID0>/<ID1>/\ntitle/00040000/<TID_LOW>\n \nNo usable '<TID_LOW>' entry."
	goto DATABASE_OPTIONS_(C)_Manual
end


##########################################################
# Restore the original 'ticket.db'. This is to preserve  #
# legit tickets for Nintendo eShop purchases & updates.  #
##########################################################

cp -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/$[SERIAL]_ticket.db" "1:/dbs/ticket.db"
fixcmac -o -s "1:/dbs/ticket.db"


##########################################################
# Delete the sysdata that controls "Secure Value". This  #
# prevents certain games with anti-cheat protection from #
# automatically erasing their saves.                     #
##########################################################

rm -o -s "1:/data/$[SYSID0]/sysdata/00010011"


##########################################################
# Move aside any previous error report in case of rerun. #
##########################################################

if find "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" NULL
	findnot "$[GM9OUT]/saves_$[SYSID0]/save_restore_error_???.txt" TEMP_FILE
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TEMP_FILE]"
	set TEMP_FILE ""
end


##########################################################
# Look for a '<TID_LOW>' entry or end the restore run.   #
##########################################################

@FIND_NEXT_3DS_SAVE_MANUAL

set TID_HIGH ""
set TID_LOW ""

if find -f "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/*" TID_HIGH
	strsplit TID_HIGH "$[TID_HIGH]" "/"
else
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title" 
	set TID_HIGH ""
	set TID_LOW ""
	fixcmac -o -s "A:"
	
	if fget "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt@00:01" NULL
			dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "DATE [YYMMDD]: $[DATESTAMP]"
			dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "TIME [HHMMSS]: $[TIMESTAMP]"
			echo "$[GM9OUT]/\nsaves_$[SYSID0]/\nsave_restore_error.txt\n \nRestore error(s) encountered."
			textview "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt"
		else
			rm -o -s "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt"
	end
	
	echo "Restore saves success."
	goto DATABASE_OPTIONS_(C)_Manual
end

# ~ # ~ # ~ # ~ #

if find -f "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/*" TID_LOW
	strsplit TID_LOW "$[TID_LOW]" "/"
else
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]"
	goto FIND_NEXT_3DS_SAVE_MANUAL
end


##########################################################
# Find the backed up SAV file for that entry.            #
##########################################################

if find -f "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" NULL
	else
		dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Backed up SAV file is missing."
		mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_SAVE_MANUAL
end


##########################################################
# Check if the '<TID_LOW>' game is installed.            #
##########################################################

if findnot "A:/title/$[TID_HIGH]/$[TID_LOW]" NULL
	dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Game not installed."
	mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
	goto FIND_NEXT_3DS_SAVE_MANUAL
end


##########################################################
# If that installed '<TID_LOW>' game has a SAV file,     #
# replace it with the backed up one. Relocate the        #
# '<TID_LOW>' to 'title_temp' to begin a new search.     #
##########################################################

if find -f "A:/title/$[TID_HIGH]/$[TID_LOW]/data/*.sav" NULL
		cp -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]/data" "A:/title/$[TID_HIGH]/$[TID_LOW]/data"
		mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_SAVE_MANUAL
	else
		dumptxt -p "$[GM9OUT]/saves_$[SYSID0]/save_restore_error.txt" "$[TID_HIGH]$[TID_LOW] - Installed game's SAV file is missing."
		mv -o -s -n -w "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title/$[TID_HIGH]/$[TID_LOW]" "$[GM9OUT]/saves_$[SYSID0]/[A] SYSNAND SD (decrypted)/title_temp/$[TID_HIGH]/$[TID_LOW]"
		goto FIND_NEXT_3DS_SAVE_MANUAL
end


#####################################################################################################################


@CHOICE_Inject_HBL_to_Camera

set PREVIEW_MODE "FULL"
set PREVIEW_COLOR_COMMENT "ff8000" # orange

##########################################################
# If region changing or tickets for system titles were   #
# already missing before the CTRTransfer, replacement    #
# TIK files borrowed from the donor CTRNAND image will   #
# require manually (re-)installing with FBI.             #
#                                                        #
# When region changing, the disappearance of system      #
# titles occurs because the user's original 'ticket.db'  #
#########################  was retained. Out-of-region   #
                        #  titles have different Title   #
echo "About tickets."   #  IDs, including system titles. #
                        #                                #
#########################  Keeping the original          #
# 'ticket.db' maintains dumpability of the user's        #
# unique legit tickets such as purchased eShop titles.   #
#                                                        #
# In order to access FBI to install the system tickets,  #
# 'Homebrew Launcher' can be opened from 'Nintendo 3DS   #
# Camera' even if it is missing in HOME Menu.            #
##########################################################

set PREVIEW_COLOR_COMMENT "0080ff" # sky blue

##########################################################
#                    ~ HOME MENU ~                       #
# 1. Press (L)+(R) buttons to access the camera applet.  #
# 2. Click on the bottom screen's 'Nintendo 3DS Camera'. #
# 3. If injected, this should open 'Homebrew Launcher'.  #
# 4. FBI - Install all DSiWare CIAs & system tickets.    #
# 5. faketik - Restore tickets for nonlegit titles.      #
# 6. Cthulhu - Unwrap all HOME Menu software.            #
# 7. TWLFix-CFW - Delete all TWL system titles.          #
##########################################################
                                                          if not ask "Rosalina inject 'Homebrew Launcher' \nto 'Nintendo 3DS Camera'?\n \nSee above for additonal instructions."
                                                          goto CANCEL_HBL_INJECTION
                                                             end
##########################################################
#                      ~ GODMODE9 ~                      #
# 8. Restore the DSiWare saves with this script.         #
#                                                        #
#          ~ RECOVERY MODE or SYSTEM SETTINGS ~          #
# 9. Update to the latest 3DS firmware to fix DS mode.   #
##########################################################

if findnot "0:/luma/config.bin" NULL
	echo "0:/luma/config.bin\nis missing."
	goto CANCEL_HBL_INJECTION
end

# ~ # ~ # ~ # ~ #

set MAGIC_CHECK ""
fget "0:/luma/config.bin@00:04" MAGIC_CHECK

  if not chk "$[MAGIC_CHECK]" "434F4E46" # 'CONF'
	echo "0:/luma/config.bin\n'CONF' header not found."
	goto CANCEL_HBL_INJECTION
# elif fget "0:/luma/config.bin@20:01" NULL
#	echo "0:/luma/config.bin\nFile is bigger than 32 bytes."
#	goto CANCEL_HBL_INJECTION
elif fget "0:/luma/config.bin@1F:01" NULL
else
	echo "0:/luma/config.bin\nFile is smaller than 32 bytes.\n \nIf this is Luma3DS v7.1, please update."
	goto CANCEL_HBL_INJECTION
end

# ~ # ~ # ~ # ~ #

if find "C:/*.3ds" TITLE_ID
	strsplit TITLE_ID "$[TITLE_ID]" "/"
	strsplit -o -s -b -f TITLE_ID "$[TITLE_ID]" "."
	strsplit -o -s -b -f TITLE_ID "$[TITLE_ID]" "_"
else
	goto CONTINUE_TO_CAMERA
end

##########################################################
# Alternative to 'Nintendo 3DS Camera'. If the shoulder  #
# buttons or cameras are broken, and all system titles   #
# are missing on 'HOME Menu' due to region changing the  #
# 3DS firmware, one can still access 'Homebrew Launcher' #
# by Rosalina injecting 'boot.3dsx' to a 3DS game cart.  #
##########################################################

                                                          @REPEAT_CART_QUESTION
label -o -s -k "Rosalina inject 'Homebrew Launcher' \nto Cart TitleID: $[TITLE_ID] ?" CART_*
                                                          goto REPEAT_CART_QUESTION
@CART_A_Inject_to_camera.
goto CONTINUE_TO_CAMERA

@CART_START_Inject_to_cart.
fset -e "0:/luma/config.bin@14" "$[TITLE_ID]"
echo "Cart TitleID: $[TITLE_ID]\nRosalina injection success."
goto CANCEL_HBL_INJECTION

# ~ # ~ # ~ # ~ #

@CONTINUE_TO_CAMERA

set SECINFO_REGION ""
set SECINFO_X ""

  if find "1:/rw/sys/SecureInfo_C" NULL
	set SECINFO_X "SecureInfo_C"
elif find "1:/rw/sys/SecureInfo_B" NULL
	set SECINFO_X "SecureInfo_B"
elif find "1:/rw/sys/SecureInfo_A" NULL
	set SECINFO_X "SecureInfo_A"
else
	echo "SecureInfo_A|B|C is missing.\nRegion is unknown."
	goto CANCEL_HBL_INJECTION
end

if not fget "1:/rw/sys/$[SECINFO_X]@100:01" SECINFO_REGION
	set SECINFO_REGION "FF"
end

# ~ # ~ # ~ # ~ #

set SYSTEM_REGION ""

  if chk "$[SECINFO_REGION]" "00"
	set SYSTEM_REGION "JPN"
	fset -e "0:/luma/config.bin@14" "0004001000020400"
elif chk "$[SECINFO_REGION]" "01"
	set SYSTEM_REGION "USA"
	fset -e "0:/luma/config.bin@14" "0004001000021400"
elif chk "$[SECINFO_REGION]" "02"
	set SYSTEM_REGION "EUR"
	fset -e "0:/luma/config.bin@14" "0004001000022400"
elif chk "$[SECINFO_REGION]" "03"
	set SYSTEM_REGION "AUS"
	fset -e "0:/luma/config.bin@14" "0004001000022400"
elif chk "$[SECINFO_REGION]" "04"
	set SYSTEM_REGION "CHN"
	fset -e "0:/luma/config.bin@14" "0004001000026400"
elif chk "$[SECINFO_REGION]" "05"
	set SYSTEM_REGION "KOR"
	fset -e "0:/luma/config.bin@14" "0004001000027400"
elif chk "$[SECINFO_REGION]" "06"
	set SYSTEM_REGION "TWN"
	fset -e "0:/luma/config.bin@14" "0004001000028400"
else
	echo "$[SECINFO_X] region is indeterminate."
	goto CANCEL_HBL_INJECTION
end

echo "Nintendo 3DS Camera ($[SYSTEM_REGION])\nRosalina injection success."

@CANCEL_HBL_INJECTION
set PREVIEW_COLOR_COMMENT "606070"
set MAGIC_CHECK ""
set TITLE_ID ""
set SECINFO_REGION ""
set SECINFO_X ""
goto MENU


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################

@CHOICE_Remap_Rosolina_combo

set PREVIEW_MODE "FULL"

if findnot "0:/luma/config.bin" NULL
	echo "0:/luma/config.bin\nis missing."
	goto MENU
end

# ~ # ~ # ~ # ~ #

set MAGIC_CHECK ""
fget "0:/luma/config.bin@00:04" MAGIC_CHECK

  if not chk "$[MAGIC_CHECK]" "434F4E46" # 'CONF'
	echo "0:/luma/config.bin\n'CONF' header not found."
	goto MENU
# elif fget "0:/luma/config.bin@20:01" NULL
#	echo "0:/luma/config.bin\nFile is bigger than 32 bytes."
#	goto MENU
elif fget "0:/luma/config.bin@1F:01" NULL
else
	echo "0:/luma/config.bin\nFile is smaller than 32 bytes.\n \nIf this is Luma3DS v7.1, please update."
	goto MENU
end

# ~ # ~ # ~ # ~ #

set PREVIEW_COLOR_COMMENT "ff00ff" # pink

##########################################################
# Reassign the button for 'Rosalina menu' if the default #
# combo can't be used due to broken buttons.             #
#                                                        #
#    Default: (L)-shoulder + (DOWN) d-pad + (SELECT)     #
#                                                        #
# 'Miscellaneous options...' > 'Change the menu combo' > #
#     input combo preference > 'Save settings'           #
##########################################################

labelsel -k -o -s "Remap Rosalina combo\nPress (B) to return to Menu Options." BUTTON_*
goto CANCEL_REMAP_BUTTON

@BUTTON_L
fset "0:/luma/config.bin@1C" "0002"
echo "Rosalina combo set to (L)."
goto CANCEL_REMAP_BUTTON

@BUTTON_R
fset "0:/luma/config.bin@1C" "0001"
echo "Rosalina combo set to (R)."
goto CANCEL_REMAP_BUTTON

@BUTTON_START
fset "0:/luma/config.bin@1C" "0800"
echo "Rosalina combo set to (START)."
goto CANCEL_REMAP_BUTTON

@BUTTON_SELECT
fset "0:/luma/config.bin@1C" "0400"
echo "Rosalina combo set to (SELECT)."
goto CANCEL_REMAP_BUTTON

@BUTTON_Y
fset "0:/luma/config.bin@1C" "0008"
echo "Rosalina combo set to (Y)."
goto CANCEL_REMAP_BUTTON

@BUTTON_X
fset "0:/luma/config.bin@1C" "0004"
echo "Rosalina combo set to (X)."
goto CANCEL_REMAP_BUTTON

@BUTTON_UP
fset "0:/luma/config.bin@1C" "4000"
echo "Rosalina combo set to (UP)."
goto CANCEL_REMAP_BUTTON

@BUTTON_DOWN
fset "0:/luma/config.bin@1C" "8000"
echo "Rosalina combo set to (DOWN)."
goto CANCEL_REMAP_BUTTON

@CANCEL_REMAP_BUTTON
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
goto MENU


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_Bypass_Profile_Setup
                                                          set PREVIEW_MODE "FULL"
                                                          set PREVIEW_COLOR_COMMENT "ff4d4d" # sunset orange
##########################################################
# After doing 'Format System Memory', 3DS systems will   #
# get stuck at '3D Screen Check' if the depth slider is  #
# broken. This option skips the introductory procedure.  #
# ~ FILLING OUT PERSONAL INFORMATION IS STILL REQUIRED ~ #
# System Settings [ Other Settings | Internet Settings ] #
#     Profile: User Name, Birthday, Region Settings      #
#  Date & Time, Language, Connection Settings, SpotPass  #
##########################################################

if not ask "Bypass Profile Setup\nPress (B) to return to Menu Options."
	set PREVIEW_COLOR_COMMENT "606070"
	goto MENU
end

##########################################################
# NOTE: This also works for 2DS systems that are stuck   #
# at the '3D Screen Check' after downgrading the 3DS     #
# firmware with 2.1.0 CTRTransfer (outdated A9LH guide). #
##########################################################

set PREVIEW_COLOR_COMMENT "606070" # tinted white

##########################################################
# Verify if the config savegame exists and is intact.    #
##########################################################

imgumount # '00000000' can't be read if currently mounted.

  if findnot "1:/data/$[SYSID0]/sysdata/00010017/00000000" NULL
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nFile is missing."
	goto CHOICE_Bypass_Profile_Setup
elif fget "1:/data/$[SYSID0]/sysdata/00010017/00000000@40000:01" NULL
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nFile is too big."
	goto CHOICE_Bypass_Profile_Setup
elif not fget "1:/data/$[SYSID0]/sysdata/00010017/00000000@3FFFF:01" NULL
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nFile is too small."
	goto CHOICE_Bypass_Profile_Setup
end

# ~ # ~ # ~ # ~ #

set MAGIC_CHECK ""

if fget "1:/data/$[SYSID0]/sysdata/00010017/00000000@100:04" MAGIC_CHECK
end

if not chk "$[MAGIC_CHECK]" "44495341" # 'DISA'
		set MAGIC_CHECK ""
		echo "1:/data/<ID0>/sysdata/00010017/00000000\nFailed to find magic 'DISA'."
		goto CHOICE_Bypass_Profile_Setup
	else
		set MAGIC_CHECK ""
end

# ~ # ~ # ~ # ~ #

imgumount

if not imgmount "1:/data/$[SYSID0]/sysdata/00010017/00000000"
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nNot mountable."
	goto CHOICE_Bypass_Profile_Setup
end

if findnot "D:/partitionA.bin" NULL
	imgumount
	echo "D:/partitionA.bin\nFile is missing."
	goto CHOICE_Bypass_Profile_Setup
end


##########################################################
# Initial check for 2.1.0 CTRTransfer downgrade. This is #
# the exact o3DS NATIVE_FIRM ContentID found in publicly #
# available: 2.1.0-4X_ctrtransfer_o3ds.bin | X = E/J/U   #
##########################################################

if not find "1:/title/00040138/00000002/content/*.app" O3DS_NATIVE_FIRM
	set OFFSET "3278"
	goto STANDARD_STUCK_SCENARIO
end


##########################################################
# Final confirmation that the o3DS NATIVE_FIRM is from   #
# firmware 2.1.0 downgrade. If not, proceed to the below #
# standard route of editing the config savegame.         #
##########################################################

@SHAGET_O3DS_NATIVE_FIRM_SHA
set O3DS_NATIVE_FIRM_SHA ""
if not shaget "$[O3DS_NATIVE_FIRM]" O3DS_NATIVE_FIRM_SHA
	goto SHAGET_O3DS_NATIVE_FIRM_SHA
end

  if chk "$[O3DS_NATIVE_FIRM_SHA]" "6B20DCF8BA8D4CD522EF6DA1D3F28C0199090B1FCBE5B707439612035574B3B4" # Ver. 2.1.0-3  |  v3553 (3.30.1)
	set OFFSET "320C"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "6CA05CDBA41976F516D2D8DC54EC18B8163F480DD4ED5D45E458BDEE7A369419" # Ver. 3.0.0-5  |  v5647 (5.32.15)
	set OFFSET "320C"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "2A1346E9D7BE09538146F1E0F80D9F08DF98F8A68E58D2A4938BE720DFEEA965" # Ver. 4.0.0-7  |  v6677 (6.33.5)
	set OFFSET "3230"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "C22AAF690AF58112522BB45C6D7CD0F24FC78C6F877D2FC491D2FFF864EA3961" # Ver. 4.2.0-9  |  v7712 (7.34.0)
	set OFFSET "3230"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "204D968961214D985C73B8D6311A315BECD6BD44A6EBD01F94A6F6602DA82045" # Ver. 5.0.0-11 |  v8758 (8.35.6)
	set OFFSET "323C"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "FBEA45B5C27425FB673102BB5191021B742D3C17213277764A43B8F333F77129" # Ver. 5.1.0-11 |  v9792 (9.36.0)
	set OFFSET "323C"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "8526E2D5EF4C94020AD8CCC7322C7213C7A29903B690C9183C84F4B804D9270A" # Ver. 6.0.0-11 | v10833 (10.37.1)
	set OFFSET "323C"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "B8F437305BF021E32E80BC32B4CE92DA52DFB4B5069880567615FE5291DBDE7A" # Ver. 6.3.0-12 | v11872 (11.38.0)
	set OFFSET "323C"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "EAB12F31A46E556F215AF54A6F2D477457A7E58BC6A2EE0671C6A52B5B233CB1" # Ver. 7.0.0-13 | v12916 (12.39.4)
	set OFFSET "3248"
elif chk "$[O3DS_NATIVE_FIRM_SHA]" "BDC5B608FC580011D905C9D270BBCEC350EACDB36EDABA89DB9D10B4D9F1523E" # Ver. 7.2.0-17 | v13956 (13.40.4)
	set OFFSET "3248"
else
	set OFFSET "3278"
end

# ~ # ~ # ~ # ~ #

@STANDARD_STUCK_SCENARIO

set O3DS_NATIVE_FIRM ""
set O3DS_NATIVE_FIRM_SHA ""
set HEXVALUE ""

if fget "D:/partitionA.bin@$[OFFSET]:01" HEXVALUE
end

  if chk "$[HEXVALUE]" "00"
elif chk "$[HEXVALUE]" "01"
	set HEXVALUE ""
	set OFFSET ""
	imgumount
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nProfile already set."
	goto MENU
else
	imgumount
	echo "1:/data/<ID0>/sysdata/00010017/00000000\n \nConfiguration savegame.\nUnexpected value at offset 0x$[OFFSET].\nD:/partitionA.bin\n \nExpected: 00 -or- 01\nActual: $[HEXVALUE]"
	set HEXVALUE ""
	set OFFSET ""
	goto CHOICE_Bypass_Profile_Setup
end

# ~ # ~ # ~ # ~ #

if not allow "D:/partitionA.bin"
	set HEXVALUE ""
	set OFFSET ""
	imgumount
	echo "1:/data/<ID0>/sysdata/00010017/00000000\n \nD:/partitionA.bin\nAccess denied."
	goto CHOICE_Bypass_Profile_Setup
else
	fset "D:/partitionA.bin@$[OFFSET]" "01"
	set HEXVALUE ""
	imgumount
	fixcmac -o -s "1:/data/$[SYSID0]/sysdata/00010017/00000000"
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nBypass profile setup success."
end

if not chk "$[OFFSET]" "320C" # 2.1.0 specific.
	set OFFSET ""
	goto MENU
end

# ~ # ~ # ~ # ~ #

set OFFSET ""
if findnot "1:/boot.firm" NULL # CTRNAND Luma3DS required for 2.1.0.
	inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@4DE00:35A00" "1:/boot.firm@000" # v10.1.3
end

@2.1.0_UPDATE_INSTRUCTIONS
set PREVIEW_COLOR_COMMENT "ffa64d" # light orange
##########################################################
#                    ~ INSTRUCTIONS ~                    #
# 1. Boot the 2DS/3DS to HOME Menu without the SD card.  #
# 2. Fill out all user information in 'System Settings'. #
#    - Profile, Date & Time, Language                    #
#    - Connection Settings, Spotpass, Other Information  #
# 3. Update to the latest firmware with 'System Update'  #
# or 'Recovery Mode'. Hold (L)+(R)+(UP)+(A) at startup.  #
##########################################################

label -k -o -s "Read the above instructions." 2.1.0-CONFIRM_*
goto 2.1.0_UPDATE_INSTRUCTIONS

@2.1.0-CONFIRM_START_Return_to_Menu_Options
set PREVIEW_COLOR_COMMENT "606070"
goto MENU




##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_Lookup_Parental_PIN

set PREVIEW_MODE "FULL"

##########################################################
# Verify if the config savegame exists and is intact.    #
##########################################################

  if findnot "1:/data/$[SYSID0]/sysdata/00010017/00000000" NULL
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nFile is missing."
	goto MENU
elif fget "1:/data/$[SYSID0]/sysdata/00010017/00000000@40000:01" NULL
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nFile is too big."
	goto MENU
elif not fget "1:/data/$[SYSID0]/sysdata/00010017/00000000@3FFFF:01" NULL
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nFile is too small."
	goto MENU
end

# ~ # ~ # ~ # ~ #

set MAGIC_CHECK ""

if fget "1:/data/$[SYSID0]/sysdata/00010017/00000000@100:04" MAGIC_CHECK
end

if not chk "$[MAGIC_CHECK]" "44495341" # 'DISA'
		set MAGIC_CHECK ""
		echo "1:/data/<ID0>/sysdata/00010017/00000000\nFailed to find magic 'DISA'."
		goto MENU
	else
		set MAGIC_CHECK ""
end

# ~ # ~ # ~ # ~ #

imgumount

if not imgmount "1:/data/$[SYSID0]/sysdata/00010017/00000000"
	echo "1:/data/<ID0>/sysdata/00010017/00000000\nNot mountable."
	goto MENU
end

if findnot "D:/partitionA.bin" NULL
	imgumount
	echo "D:/partitionA.bin\nFile is missing."
	goto MENU
end


##########################################################
# If the PIN doesn't exist, go back to Menu Options.     #
##########################################################

fget "D:/partitionA.bin@7241:04" PIN_NUMBER # Firmware 8.1 or newer.

if chk "$[PIN_NUMBER]" "00000000"
	set PIN_NUMBER ""
else
	set OFFSET "7241"
	goto FOUND_PIN_COMBO
end

fget "D:/partitionA.bin@7581:04" PIN_NUMBER # Firmware 7.2 or older.

if chk "$[PIN_NUMBER]" "00000000"
	imgumount
	set PIN_NUMBER ""
	echo "Parental Controls\nPIN is not set."
	goto MENU
else
	set OFFSET "7581"
	goto FOUND_PIN_COMBO
end


##########################################################
# Decode the four-digit PIN from hex to decimal numbers. #
##########################################################

@FOUND_PIN_COMBO

set PIN_NUMBER ""
set HEXVALUE ""
set PIN_DIGIT "01"
fget "D:/partitionA.bin@$[OFFSET]:01" HEXVALUE

@HEX_TO_DEC_NUMBERS

  if chk "$[HEXVALUE]" "30"
	set PIN_NUMBER "$[PIN_NUMBER]0"
elif chk "$[HEXVALUE]" "31"
	set PIN_NUMBER "$[PIN_NUMBER]1"
elif chk "$[HEXVALUE]" "32"
	set PIN_NUMBER "$[PIN_NUMBER]2"
elif chk "$[HEXVALUE]" "33"
	set PIN_NUMBER "$[PIN_NUMBER]3"
elif chk "$[HEXVALUE]" "34"
	set PIN_NUMBER "$[PIN_NUMBER]4"
elif chk "$[HEXVALUE]" "35"
	set PIN_NUMBER "$[PIN_NUMBER]5"
elif chk "$[HEXVALUE]" "36"
	set PIN_NUMBER "$[PIN_NUMBER]6"
elif chk "$[HEXVALUE]" "37"
	set PIN_NUMBER "$[PIN_NUMBER]7"
elif chk "$[HEXVALUE]" "38"
	set PIN_NUMBER "$[PIN_NUMBER]8"
elif chk "$[HEXVALUE]" "39"
	set PIN_NUMBER "$[PIN_NUMBER]9"
else
	set PIN_NUMBER "$[PIN_NUMBER]X"
	echo "Unknown Error\nDigit: $[PIN_DIGIT]\nHex: 0x$[HEXVALUE]\nPIN: $[PIN_NUMBER]"
	imgumount
	set OFFSET ""
	set HEXVALUE ""
	set PIN_DIGIT ""
	set PIN_NUMBER ""
	goto MENU
end

# ~ # ~ # ~ # ~ #

  if chk "$[PIN_DIGIT]" "01"
	set HEXVALUE ""
	set PIN_DIGIT "02"
	  if chk "$[OFFSET]" "7241"
		fget "D:/partitionA.bin@7242:01" HEXVALUE
	elif chk "$[OFFSET]" "7581"
		fget "D:/partitionA.bin@7582:01" HEXVALUE
	end
	goto HEX_TO_DEC_NUMBERS

elif chk "$[PIN_DIGIT]" "02"
	set HEXVALUE ""
	set PIN_DIGIT "03"
	  if chk "$[OFFSET]" "7241"
		fget "D:/partitionA.bin@7243:01" HEXVALUE
	elif chk "$[OFFSET]" "7581"
		fget "D:/partitionA.bin@7583:01" HEXVALUE
	end
	goto HEX_TO_DEC_NUMBERS

elif chk "$[PIN_DIGIT]" "03"
	set HEXVALUE ""
	set PIN_DIGIT "04"
	  if chk "$[OFFSET]" "7241"
		fget "D:/partitionA.bin@7244:01" HEXVALUE
	elif chk "$[OFFSET]" "7581"
		fget "D:/partitionA.bin@7584:01" HEXVALUE
	end
	goto HEX_TO_DEC_NUMBERS

elif chk "$[PIN_DIGIT]" "04"
	imgumount
	set OFFSET ""
	set HEXVALUE ""
	set PIN_DIGIT ""
	echo "Parental Controls\nPIN: $[PIN_NUMBER]"
	set PIN_NUMBER ""
	goto MENU

else
	echo "Unknown Error\nDigit: $[PIN_DIGIT]\nHex: 0x$[HEXVALUE]\nPIN: $[PIN_NUMBER]"
	imgumount
	set OFFSET ""
	set HEXVALUE ""
	set PIN_DIGIT ""
	set PIN_NUMBER ""
	goto MENU
end


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_eMMC_Status_Checker

set PREVIEW_MODE "FULL"
imgumount # Prevents modifying '[9:] IMGNAND TWLP'.

@REPEAT_REMOVAL_RAMDRIVE
set LITMUS_FILE ""
if find -f "9:/*" LITMUS_FILE
	rm -o -s "$[LITMUS_FILE]"
	goto REPEAT_REMOVAL_RAMDRIVE
end

inject -o -s -n "$[CURRDIR]/CTRTransfer (Type D9).gm9@FE190:109E" "9:/brick_warning.png@000"
set PREVIEW_MODE "9:/brick_warning.png"
labelsel -k -o -s "See the above warning." EMMC01_*
@EMMC01_B_Return_to_Menu_Options
set PREVIEW_MODE "FULL"
rm -o -s "9:/brick_warning.png"
goto MENU
@EMMC01_START_Continue
set PREVIEW_MODE "FULL"
rm -o -s "9:/brick_warning.png"
set PREVIEW_COLOR_COMMENT "00ff00" # green

##########################################################
#                    ~ INSTRUCTIONS ~                    #
# 1. DO NOT use this if the 2DS/3DS is perfectly fine.   #
# 2. DO NOT use this while the battery life is low.      #
# 3. Plug in the AC charger for extra safety precaution. #
# 4. Leave undisturbed. Allow ~30 minutes to complete.   #
# 5. In the event of an emergency situation such as the  #
#    battery is about to die, press the (B) button to    #
#    abort and cancel the test early.                    #
                                                          label -k -o -s  "See the above instructions." EMMC02_*
# 6. If the 3DS softbricks due to an unexpected crash,   #
#    restore the firmware with the 'nand_minsize.bin'.   #
#    This image can be found backed up at '0:/gm9/out'.  #
# 7. For 'bootrom 8046' (Blue Screens of Death), launch  #
#    GodMode9 with a ntrboot compatible DS flashcart.    #
#           https://3ds.hacks.guide/ntrboot              #
##########################################################


@EMMC02_B_Return_to_Menu_Options
set PREVIEW_COLOR_COMMENT "606070"
goto MENU
@EMMC02_START_Continue
set PREVIEW_COLOR_COMMENT "ff0080" # deep pink




##########################################################
#  Lvl3 write permission required for:                   #
#--------------------------------------------------------#
# [S:] SYSNAND VIRTUAL/nand.bin                          #
##########################################################

if not allow -a "S:/nand.bin"            # Level 3
	set PREVIEW_COLOR_COMMENT "606070"
	echo "[S:] SYSNAND VIRTUAL/nand.bin\nAccess denied."
	goto MENU
end





@KONAMI_CODE_01
set PREVIEW_MODE "UP UP DOWN DOWN LEFT RIGHT LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT01_*

goto CANCEL_EMMC_TEST
@INPUT01_UP_
goto KONAMI_CODE_02
@INPUT01_DOWN_
@INPUT01_LEFT_
@INPUT01_RIGHT_
@INPUT01_B_
@INPUT01_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_02
set PREVIEW_MODE "<UP> UP DOWN DOWN LEFT RIGHT LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT02_*

goto CANCEL_EMMC_TEST
@INPUT02_UP_
goto KONAMI_CODE_03
@INPUT02_DOWN_
@INPUT02_LEFT_
@INPUT02_RIGHT_
@INPUT02_B_
@INPUT02_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_03
set PREVIEW_MODE "<UP><UP> DOWN DOWN LEFT RIGHT LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT03_*

@INPUT03_UP_
goto CANCEL_EMMC_TEST
@INPUT03_DOWN_
goto KONAMI_CODE_04
@INPUT03_LEFT_
@INPUT03_RIGHT_
@INPUT03_B_
@INPUT03_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_04
set PREVIEW_MODE "<UP><UP><DOWN> DOWN LEFT RIGHT LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT04_*

@INPUT04_UP_
goto CANCEL_EMMC_TEST
@INPUT04_DOWN_
goto KONAMI_CODE_05
@INPUT04_LEFT_
@INPUT04_RIGHT_
@INPUT04_B_
@INPUT04_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_05
set PREVIEW_MODE "<UP><UP><DOWN><DOWN> LEFT RIGHT LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT05_*

@INPUT05_UP_
@INPUT05_DOWN_
goto CANCEL_EMMC_TEST
@INPUT05_LEFT_
goto KONAMI_CODE_06
@INPUT05_RIGHT_
@INPUT05_B_
@INPUT05_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_06
set PREVIEW_MODE "<UP><UP><DOWN><DOWN><LEFT> RIGHT LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT06_*

@INPUT06_UP_
@INPUT06_DOWN_
@INPUT06_LEFT_
goto CANCEL_EMMC_TEST
@INPUT06_RIGHT_
goto KONAMI_CODE_07
@INPUT06_B_
@INPUT06_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_07
set PREVIEW_MODE "<UP><UP><DOWN><DOWN><LEFT><RIGHT> LEFT RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT07_*

@INPUT07_UP_
@INPUT07_DOWN_
goto CANCEL_EMMC_TEST
@INPUT07_LEFT_
goto KONAMI_CODE_08
@INPUT07_RIGHT_
@INPUT07_B_
@INPUT07_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_08
set PREVIEW_MODE "<UP><UP><DOWN><DOWN><LEFT><RIGHT><LEFT> RIGHT B A"
labelsel -k -o -s "Enter the Konami Code." INPUT08_*

@INPUT08_UP_
@INPUT08_DOWN_
@INPUT08_LEFT_
goto CANCEL_EMMC_TEST
@INPUT08_RIGHT_
goto KONAMI_CODE_09
@INPUT08_B_
@INPUT08_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_09
set PREVIEW_MODE "<UP><UP><DOWN><DOWN><LEFT><RIGHT><LEFT><RIGHT> B A"
labelsel -k -o -s "Enter the Konami Code." INPUT09_*
goto INPUT09_B_

@INPUT09_UP_
@INPUT09_DOWN_
@INPUT09_LEFT_
@INPUT09_RIGHT_
goto CANCEL_EMMC_TEST
@INPUT09_B_
goto KONAMI_CODE_10
@INPUT09_A_
goto CANCEL_EMMC_TEST

# ~ # ~ # ~ # ~ #

@KONAMI_CODE_10
set PREVIEW_MODE "<UP><UP><DOWN><DOWN><LEFT><RIGHT><LEFT><RIGHT><B> A"
labelsel -k -o -s "Enter the Konami Code." INPUT10_*

@INPUT10_UP_
@INPUT10_DOWN_
@INPUT10_LEFT_
@INPUT10_RIGHT_
@INPUT10_B_
goto CANCEL_EMMC_TEST
@INPUT10_A_

# ~ # ~ # ~ # ~ #

set PREVIEW_MODE "<UP><UP><DOWN><DOWN><LEFT><RIGHT><LEFT><RIGHT><B><A>"
labelsel -k -o -s "Final confirmation." INPUT11_*

@INPUT11_B_Cancel
goto CANCEL_EMMC_TEST
@INPUT11_START_Begin
set PREVIEW_MODE "FULL"
goto BEGIN_EMMC_TEST

# ~ # ~ # ~ # ~ #

@CANCEL_EMMC_TEST
set PREVIEW_MODE "Test run cancelled."
echo "Test run cancelled."
set PREVIEW_MODE "FULL"
set PREVIEW_COLOR_COMMENT "606070"
goto MENU


##########################################################
# Initialize testing for the eMMC. Declare variables.    #
##########################################################

@BEGIN_EMMC_TEST

set NAND_EMMC_SHA ""
set NAND_SDMC_SHA ""
set LITMUS_FILE ""
set TEMP_FILE ""


##########################################################
# Adjust testing parameters based on [OLD|NEW] series.   #
##########################################################

  if chk "$[ONTYPE]" "O3DS"
	set GB_SIZE "1"
	set LITMUS_SIZE "40000000"
	set LITMUS_OFFSET "3FFFFFFF"
	set NAND_MINSIZE "3AF00000"
	set NAND_OFFSET "3AEFFFFF"
	set NAND_00_SHA "E614FDDA995EF907927BC6F86496421059A8C00F6EB7D34FEF06D883360AA5E8"
	set NAND_FF_SHA "60807B02874FED8B6C1703F93F29AF66B6871826AE410838BA3F2A3FDE5C7DC8"
elif chk "$[ONTYPE]" "N3DS"
	set GB_SIZE "1.25"
	set LITMUS_SIZE "50000000"
	set LITMUS_OFFSET "4FFFFFFF"
	set NAND_MINSIZE "4D800000"
	set NAND_OFFSET "4D7FFFFF"
	set NAND_00_SHA "9E4433D2AAFA19A5E9491349092FA81C2F59CB76CF9E14FD26DBBC723A3E9C4C"
	set NAND_FF_SHA "1A1448A15E350F702A023FB5F7F5D3D8ADFB8715725F1480B8CB6C40BCF53D0C"
end


##########################################################
# Begin recording the test run with date and time.       #
##########################################################

set E "9:/eMMC_test_report.txt"
dumptxt -p "$[E]" "TEST STARTS"
dumptxt -p "$[E]" "DATE [YYMMDD]: $[DATESTAMP]"
dumptxt -p "$[E]" "TIME [HHMMSS]: $[TIMESTAMP]"
dumptxt -p "$[E]" ""


##########################################################
# Ensure these file names are available at '0:/gm9/out'. #
##########################################################

if find "$[GM9OUT]/eMMC_test_report.txt" NULL
	findnot "$[GM9OUT]/eMMC_test_report_???.txt" LITMUS_FILE
	mv -o -s -n "$[GM9OUT]/eMMC_test_report.txt" "$[LITMUS_FILE]"
end

if find "$[GM9OUT]/nand_minsize.bin" NULL
	findnot "$[GM9OUT]/nand_minsize_???.bin" TEMP_FILE
	mv -o -s -n "$[GM9OUT]/nand_minsize.bin" "$[TEMP_FILE]"
end

  if find "$[GM9OUT]/eMMC_test_report.txt" NULL
	dumptxt -p "$[E]" "SD card error. Could not make this file name available."
	dumptxt -p "$[E]" "$[GM9OUT]/eMMC_test_report.txt"
	dumptxt -p "$[E]" ""
	goto SKIP_NAND_RESTORE
elif find "$[GM9OUT]/nand_minsize.bin" NULL
	dumptxt -p "$[E]" "SD card error. Could not make this file name available."
	dumptxt -p "$[E]" "$[GM9OUT]/nand_minsize.bin"
	dumptxt -p "$[E]" ""
	goto SKIP_NAND_RESTORE
end


##########################################################
# Check for abnormal 'S:/nand.bin' conditions.           #
##########################################################

if findnot "S:/nand.bin" NULL
	dumptxt -p "$[E]" "[S:] SYSNAND VIRTUAL/nand.bin"
	dumptxt -p "$[E]" "NAND partition is missing."
	dumptxt -p "$[E]" ""
	goto SKIP_NAND_RESTORE
end

if not fget "S:/nand.bin@$[NAND_OFFSET]:01" NULL
	dumptxt -p "$[E]" "[S:] SYSNAND VIRTUAL/nand.bin"
	dumptxt -p "$[E]" "Nonstandard partition. The size is too small."
	dumptxt -p "$[E]" ""
	goto SKIP_NAND_RESTORE
end


##########################################################
# Free space check to backup the 'nand_minsize.bin'.     #
# 1.00 gigabyte = 1,073,741,824 bytes (0x40000000)       #
# 1.25 gigabyte = 1,342,177,280 bytes (0x50000000)       #
##########################################################

if findnot "$[GM9OUT]" NULL
	mkdir "$[GM9OUT]"
end

findnot "$[GM9OUT]/dummy_???.bin" LITMUS_FILE
fdummy "$[LITMUS_FILE]" "$[LITMUS_SIZE]"

if fget "$[LITMUS_FILE]@$[LITMUS_OFFSET]:01" NULL
	rm -o -s "$[LITMUS_FILE]"
else
	rm -o -s "$[LITMUS_FILE]"
	dumptxt -p "$[E]" "Insufficient memory. $[GB_SIZE] GB of free space is required."
	dumptxt -p "$[E]" ""
	goto SKIP_NAND_RESTORE
end


##########################################################
# Backup essential nand files in case of an early abort. #
##########################################################

cp -o -s -n "S:/nand_hdr.bin" "9:/nand_hdr.bin"
cp -o -s -n "S:/twlmbr.bin" "9:/twlmbr.bin"
cp -o -s -n "S:/sector0x96.bin" "9:/sector0x96.bin"
cp -o -s -n "S:/firm0.bin" "9:/firm0.bin"
cp -o -s -n "S:/firm1.bin" "9:/firm1.bin"


##########################################################
# Record the SHA-256 hash for 'S:/nand.bin' (minsize).   #
##########################################################

if shaget "S:/nand.bin@000:$[NAND_MINSIZE]" NAND_EMMC_SHA
	dumptxt -p "$[E]" "S:/nand_minsize.bin"
	dumptxt -p "$[E]" "SHA-256: $[NAND_EMMC_SHA]"
	dumptxt -p "$[E]" ""
else
	dumptxt -p "$[E]" "S:/nand_minsize.bin"
	dumptxt -p "$[E]" "SHA-256: could not calculate hash"
	dumptxt -p "$[E]" ""
	goto ABORT_EMMC_TEST
end


##########################################################
# Backup 'S:/nand.bin' as 'nand_minsize.bin' image.      #
##########################################################

if inject "S:/nand.bin@000:$[NAND_MINSIZE]" "$[GM9OUT]/nand_minsize.bin@000"
	dumptxt -p "$[E]" "$[GM9OUT]/nand_minsize.bin , backup: PASSED"
	dumptxt -p "$[E]" ""
else
	dumptxt -p "$[E]" "$[GM9OUT]/nand_minsize.bin , backup: FAILED"
	dumptxt -p "$[E]" ""
	rm -o -s "$[GM9OUT]/nand_minsize.bin"
	goto ABORT_EMMC_TEST
end


##########################################################
# Record the SHA-256 hash for 'nand_minsize.bin' image.  #
##########################################################

if shaget "$[GM9OUT]/nand_minsize.bin" NAND_SDMC_SHA
	dumptxt -p "$[E]" "$[GM9OUT]/nand_minsize.bin"
	dumptxt -p "$[E]" "SHA-256: $[NAND_SDMC_SHA]"
	dumptxt -p "$[E]" ""
else
	dumptxt -p "$[E]" "$[GM9OUT]/nand_minsize.bin"
	dumptxt -p "$[E]" "SHA-256: could not calculate hash"
	dumptxt -p "$[E]" ""
	rm -o -s "$[GM9OUT]/nand_minsize.bin"
	goto ABORT_EMMC_TEST
end


##########################################################
# Hash check 'nand_minsize.bin' against 'S:/nand.bin'.   #
##########################################################

if chk "$[NAND_EMMC_SHA]" "$[NAND_SDMC_SHA]"
	dumptxt -p "$[E]" "S:/nand_minsize.bin & $[GM9OUT]/nand_minsize.bin"
	dumptxt -p "$[E]" "hash match: PASSED"
	dumptxt -p "$[E]" ""
else
	dumptxt -p "$[E]" "S:/nand_minsize.bin & $[GM9OUT]/nand_minsize.bin""
	dumptxt -p "$[E]" "hash match: FAILED"
	dumptxt -p "$[E]" ""
	dumptxt -p "$[E]" "Test run aborted. Please empty out, reformat, and check this SD card for hardware problems."
	dumptxt -p "$[E]" "https://3ds.hacks.guide/h2testw-(windows).html"
	dumptxt -p "$[E]" ""
	rm -o -s "$[GM9OUT]/nand_minsize.bin"
	goto ABORT_EMMC_TEST
end


##########################################################
# Flash "00" to 'S:/nand.bin' (minsize).                 #
##########################################################

if fill "S:/nand.bin@000:$[NAND_MINSIZE]" "00"
	dumptxt -p "$[E]" "1st Write Test (00): PASSED"
else
	dumptxt -p "$[E]" "1st Write Test (00): FAILED"
	dumptxt -p "$[E]" ""
	goto FINISH_EMMC_TEST
end


##########################################################
# Hash check 'nand.bin' (minsize) against "00" record.   #
##########################################################

if sha "S:/nand.bin@000:$[NAND_MINSIZE]" "$[NAND_00_SHA]"
	dumptxt -p "$[E]" "1st Hash Test (00): PASSED"
	dumptxt -p "$[E]" ""
else
	dumptxt -p "$[E]" "1st Hash Test (00): FAILED"
	dumptxt -p "$[E]" ""
	goto FINISH_EMMC_TEST
end


##########################################################
# Flash "FF" to 'S:/nand.bin' (minsize).                 #
##########################################################

if fill "S:/nand.bin@000:$[NAND_MINSIZE]" "FF"
	dumptxt -p "$[E]" "2nd Write Test (FF): PASSED"
else
	dumptxt -p "$[E]" "2nd Write Test (FF): FAILED"
	dumptxt -p "$[E]" ""
	goto FINISH_EMMC_TEST
end


##########################################################
# Hash check 'nand.bin' (minsize) against "FF" record.   #
##########################################################

if sha "S:/nand.bin@000:$[NAND_MINSIZE]" "$[NAND_FF_SHA]"
	dumptxt -p "$[E]" "2nd Hash Test (FF): PASSED"
	dumptxt -p "$[E]" ""
else
	dumptxt -p "$[E]" "2nd Hash Test (FF): FAILED"
	dumptxt -p "$[E]" ""
	goto FINISH_EMMC_TEST
end


##########################################################
# Quickly restore essential partition files for safety.  #
# This is to minimize the risk of 'bootrom 8046' brick.  #
##########################################################

@FINISH_EMMC_TEST

inject -o -s -n "9:/nand_hdr.bin@000" "S:/nand.bin@000"
cp -o -s -n "9:/twlmbr.bin" "S:/twlmbr.bin"
cp -o -s -n "9:/sector0x96.bin" "S:/sector0x96.bin"
cp -o -s -n "9:/firm0.bin" "S:/firm0.bin"
cp -o -s -n "9:/firm1.bin" "S:/firm1.bin"


##########################################################
# Jump here if testing is cancelled or aborted early     #
# before any edits were applied to 'S:/nand.bin'.        #
##########################################################

@ABORT_EMMC_TEST

rm -o -s "9:/nand_hdr.bin"
rm -o -s "9:/twlmbr.bin" 
rm -o -s "9:/sector0x96.bin"
rm -o -s "9:/firm0.bin"
rm -o -s "9:/firm1.bin"


##########################################################
# Skip the 3rd Test if there is no 'nand_minsize.bin'.   #
##########################################################

if findnot "$[GM9OUT]/nand_minsize.bin" NULL
	goto SKIP_NAND_RESTORE
end 

# Restore the 'nand_minsize.bin' image to 'S:/nand.bin'.
# The '-n' flag forces reflash. Cannot be cancelled.

if inject -o -s -n "$[GM9OUT]/nand_minsize.bin@000" "S:/nand.bin@000" 
	dumptxt -p "$[E]" "3rd Write Test (restore): PASSED"
else
	dumptxt -p "$[E]" "3rd Write Test (restore): FAILED"
	dumptxt -p "$[E]" ""
	goto SKIP_NAND_RESTORE
end


##########################################################
# Hash check 'S:/nand.bin' against its initial record.   #
# Delete 'nand_minsize.bin' if restore is successful.    #
##########################################################

if sha "S:/nand.bin@000:$[NAND_MINSIZE]" "$[NAND_EMMC_SHA]"
	dumptxt -p "$[E]" "3rd Hash Test (restore): PASSED"
	dumptxt -p "$[E]" ""
	rm -o -s "$[GM9OUT]/nand_minsize.bin"
else
	dumptxt -p "$[E]" "3rd Hash Test (restore): FAILED"
	dumptxt -p "$[E]" ""
end


##########################################################
# Finalize testing. Clear variables. Display results.    #
##########################################################

@SKIP_NAND_RESTORE

if findnot "$[GM9OUT]/nand_minsize.bin" NULL
	if find "$[TEMP_FILE]" NULL
		mv -o -s -n "$[TEMP_FILE]" "$[GM9OUT]/nand_minsize.bin"
	end
end

dumptxt -p "$[E]" "TEST ENDS"
dumptxt -p "$[E]" "DATE [YYMMDD]: $[DATESTAMP]"
dumptxt -p "$[E]" "TIME [HHMMSS]: $[TIMESTAMP]"
mv -o -s -n -w "$[E]" "$[GM9OUT]/eMMC_test_report.txt"
textview "$[GM9OUT]/eMMC_test_report.txt"
set PREVIEW_MODE "Results can be found at:\n$[GM9OUT]/eMMC_test_report.txt"
echo "Results can be found at:\n$[GM9OUT]/eMMC_test_report.txt"
set PREVIEW_COLOR_COMMENT "606070"
set PREVIEW_MODE "FULL"
set NAND_EMMC_SHA ""
set NAND_SDMC_SHA ""
set NAND_MINSIZE ""
set NAND_OFFSET ""
set NAND_00_SHA ""
set NAND_FF_SHA ""
set LITMUS_FILE ""
set LITMUS_SIZE ""
set LITMUS_OFFSET ""
set TEMP_FILE ""
set GB_SIZE ""
set E ""
goto MENU


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_Reset_NVRAM_image

set PREVIEW_MODE "FULL"
set PREVIEW_COLOR_COMMENT "00b3b3" # strong cyan
##########################################################
#                    ~ INSTRUCTIONS ~                    #
# 1. HOME Menu > Homebrew Launcher > 3DS_NVRAMtool.      #
# 2. Press the (B) button once to 'write 00000000'.      #
# 3. Exit the app. Check if DS or DSiWare games work.    #
# 4. System Settings > Other Settings. Change these:     #
#     - Profile: User Name, Birthday, Region Settings    #
#     - Date & Time: Today's Date, Current Time          #
# 5. Nintendo DS Profile: change the Message and Color.  #
##########################################################
                                                          echo "See the above instructions and description."
##########################################################
#                    ~ DESCRIPTION ~                     #
# This creates a system reformatted 'nvram.bin' image.   #
# Flash this with '3DS_NVRAMtool' to fix a softbricked   #
# DS(i) mode caused by corrupt settings in the NVRAM.    #
# www.github.com/zoogie/Stuff/tree/master/3DS_NVRAMtool  #
#         https://3ds.hacks.guide/troubleshooting        #
#      https://quantumcat1.github.io/troubleshooting     #
##########################################################
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
                                                          label -o -s -k "Create a new 'nvram.bin' image?" NVRAM_*
goto NVRAM_B_Return_to_Menu_Options

@NVRAM_A_NVRAM_Reset_Instructions
goto CHOICE_Reset_NVRAM_image

@NVRAM_B_Return_to_Menu_Options
goto MENU

@NVRAM_START_Continue
imgumount
rm -o -s "9:/nvram.bin"
cp -n "M:/nvram.mem" "9:/nvram.bin"

##########################################################
# Make this end section as blank as possible but valid.  #
##########################################################

fill -n "9:/nvram.bin@300:1FB00" "FF"
fill -n "9:/nvram.bin@1FE00:200" "00"
fset "9:/nvram.bin@1FE00" "05"
fset "9:/nvram.bin@1FE02" "0F0101"
fset "9:/nvram.bin@1FE64" "01FC"
fset "9:/nvram.bin@1FE72" "6F9D01013F"
fset "9:/nvram.bin@1FEFE" "CBB6"
fset "9:/nvram.bin@1FF00" "05"
fset "9:/nvram.bin@1FF02" "0F0101"
fset "9:/nvram.bin@1FF64" "01FC"
fset "9:/nvram.bin@1FF72" "6F9D01013F"
fset "9:/nvram.bin@1FFFE" "CBB6"

##########################################################
# Create the necessary directory for '3DS_NVRAMtool'.    #
##########################################################

if findnot "0:/3ds" NULL
	mkdir "0:/3ds"
end

if findnot "0:/3ds/3DS_NVRAMtool" NULL
	mkdir "0:/3ds/3DS_NVRAMtool"
end

##########################################################
# Backup the 'nvram.bin' in the [M:] MEMORY VIRTUAL.     #
##########################################################

set NVRAM_BIN ""
findnot "0:/3ds/3DS_NVRAMtool/$[DATESTAMP]_$[SERIAL]_nvram_???.bin" NVRAM_BIN
cp -o -s -n "M:/nvram.mem" "$[NVRAM_BIN]"
echo "Backup image created succesfully:\n$[NVRAM_BIN]"
set NVRAM_BIN ""

##########################################################
# Rename any current 'nvram.bin' dump that's in place.   #
##########################################################

if find "0:/3ds/3DS_NVRAMtool/nvram.bin" NULL
	set NVRAM_BIN ""
	findnot "0:/3ds/3DS_NVRAMtool/nvram_???.bin" NVRAM_BIN
	mv -o -s -n "0:/3ds/3DS_NVRAMtool/nvram.bin" "$[NVRAM_BIN]"
	set NVRAM_BIN ""
end

##########################################################
# Move the clean slate 'nvram.bin' to the app directory. #
##########################################################

mv -o -s -n "9:/nvram.bin" "0:/3ds/3DS_NVRAMtool/nvram.bin"
echo "Reformatted image created succesfully:\n0:/3ds/3DS_NVRAMtool/nvram.bin"
goto MENU


##########################################################
# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #
##########################################################


@CHOICE_FBI_Error_Codes
                                                          set PREVIEW_MODE "FULL"
	labelsel -o -s "FBI Errors Codes\nPress (B) to return to Menu Options." ERROR_*
goto MENU


# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@ERROR_0xD8E08066_-_tickets

set PREVIEW_COLOR_COMMENT "0000ff" # blue

##########################################################
# If the firmware was region changed and system tickets  #
# cannot be installed, the user's restored 'certs.db' or #
# certification blockchain database file may be corrupt. #
# This option will replace the 'certs.db' with the one   #
# from the CTRNAND image. ~ Do not use this option if    #
# this problem isn't present.  <-- !!!!! READ ME !!!!!   #
##########################################################


                                                          echo "About this error.\n  (See above)"
            ##################################
            #             Error              #
            #    Failed to install ticket.   #
            #     Result code: 0xD8E08066    #
            #     Level: Permanent (27)      #
            #  Summary: Invalid argument (7) #
            #         Module: AM (32)        #
            #   Desc: Error type -2 (102)    #
            ##################################
                                                          @REPLACE_CERTS_QUESTION
if not ask "Replace the current 'certs.db' with \none from a CTRNAND image?"
	set PREVIEW_COLOR_COMMENT "606070" # tinted white
	goto CHOICE_FBI_Error_Codes
end

set PREVIEW_COLOR_COMMENT "606070" # tinted white

# ~ # ~ # ~ # ~ #

echo "Testing if 'ticket.db' can mount..."

if findnot "1:/dbs/ticket.db" NULL
	echo "1:/dbs/ticket.db\nFile not found."
	goto CHOICE_FBI_Error_Codes
end

imgumount

if imgmount "1:/dbs/ticket.db"
end

  if find -f "T:/eshop/*.tik" NULL
	imgumount
	echo "1:/dbs/ticket.db\nMounting image: success"
	goto GOOD_CERTS_DETECTED
elif find -f "T:/hidden/*.tik" NULL
	imgumount
	echo "1:/dbs/ticket.db\nMounting image: success"
	goto GOOD_CERTS_DETECTED
elif find -f "T:/system/*.tik" NULL
	imgumount
	echo "1:/dbs/ticket.db\nMounting image: success"
	goto GOOD_CERTS_DETECTED
elif find -f "T:/hidden/*.tik" NULL
	imgumount
	echo "1:/dbs/ticket.db\nMounting image: success"
	goto GOOD_CERTS_DETECTED
else
	imgumount
	echo "1:/dbs/ticket.db\nMounting image: failed"
	goto CTRTransfer_CERTS
end

# ~ # ~ # ~ # ~ #

@GOOD_CERTS_DETECTED

if not ask "The 'certs.db' doesn't appear to be corrupt.\nHowever, false success detection may occur.\n \nContinue with replacing this file?"
	goto CHOICE_FBI_Error_Codes
end

# ~ # ~ # ~ # ~ #

@CTRTransfer_CERTS

if not filesel "Select CTRNAND transfer image." "$[INPUT_DIR]/*.bin" CTRNAND_BIN
	goto REPLACE_CERTS_QUESTION
end

if not allow "1:/dbs/ticket.db"
	set CTRNAND_BIN ""
	echo "[1:] SYSNAND CTRNAND/dbs/ticket.db\nAccess denied."
	goto CTRTransfer_CERTS
end

strsplit CTRNAND_BIN_NAME "$[CTRNAND_BIN]" "/"

# ~ # ~ # ~ # ~ #

set BAD_CERTS_FILE ""

findnot "$[GM9OUT]/$[DATESTAMP]_$[SERIAL]_???_certs.db" BAD_CERTS_FILE

@FIX_BAD_CERTS_FILE

if not fdummy "$[BAD_CERTS_FILE]" "01"
end

if find "$[BAD_CERTS_FILE]" NULL
		rm -o -s "$[BAD_CERTS_FILE]"
	else
		findnot "$[GM9OUT]/$[DATESTAMP]_UNKNOWN_???_certs.db" BAD_CERTS_FILE
		goto FIX_BAD_CERTS_FILE
end

if find "1:/dbs/certs.db" NULL
	cp -o -s -n -w "1:/dbs/certs.db" "$[BAD_CERTS_FILE]"
	echo "Original file backed up at:\n$[BAD_CERTS_FILE]"
else
	echo "The 'certs.db' is missing.\nContinuing."
end

# ~ # ~ # ~ # ~ #

if not imgmount "$[CTRNAND_BIN]"
	echo "$[CTRNAND_BIN_NAME]\nCould not mount the file."
	goto CTRTransfer_CERTS
end

if cp -o -s -n -w "7:/dbs/certs.db" "1:/dbs/certs.db"
	fixcmac -o -s "1:/dbs/certs.db"
	imgumount
	echo "Replaced 'certs.db' success.\n \nReset the 3DS, boot back to GodMode9, \nand rerun this test to see if 'ticket.db' \ncan be mounted now."
	goto CHOICE_FBI_Error_Codes
else
	imgumount
	echo "Uknown error.\nCould not copy the 'certs.db'.\n \nIs the file missing?"
	goto CTRTransfer_CERTS
end


# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@ERROR_0xD8E0806C_-_DSiWare_CIAs

set PREVIEW_COLOR_COMMENT "0000ff" # blue

##########################################################
# After CTRTransfer, the backed up DSiWare games might   #
# not reinstall in FBI. This is most likely to occur     #
# if the 'certs.db' was replaced when fixing the other   #
# FBI error '0xD8E08066 - tickets'. To fix this hang-up, #
# install an external DSiWare CIA file NOT dumped from   #
# the CTRTransfer before reinstalling the collection.    #
##########################################################


                                                          echo "About this error.\n  (See above)"
            ##################################
            #             Error              #
            #  Failed to install CIA file.   #
            #     Result code: 0xD8E0806C    #
            #     Level: Permanent (27)      #
            #  Summary: Invalid argument (7) #
            #         Module: AM (32)        #
            #   Desc: Error type -8 (108)    #
            ##################################

##########################################################
#   External DSiWare of choice can be official games     #
#     or homebrew titles such as:                        #
#       - 3DSBank                                        #
#       - GameYob (DSiWare version)                      #
#       - GodMode9i                                      #
#       - NitroHax for 3DS                               #
#       - NTR Launcher                                   #
##########################################################

echo "Fix this by installing an external DSiWare title."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
goto CHOICE_FBI_Error_Codes







# ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ # ~ #

@ERROR_0xD8E0806A_-_DSiWare_legit_CIAs

set PREVIEW_COLOR_COMMENT "0000ff" # blue

##########################################################
# After CTRTransfer, the backed up legit DSiWare games   #
# might not reinstall in FBI. This is due to mismatches  #
# in either the TMDs (title metadata) encryption and/or  #
# the games' private legit tickets. To fix this hang-up, #
# redownload the DSiWare games previously purchased from #
# Nintendo eShop or convert them into standard CIAs.     #
# Install converted CIAs {FIRST}; legit tickets {LAST}.  #
# ---- 3. cias (converted) ----- 5. tickets (legit) ---- #
##########################################################
                                                          echo "About this error.\n  (See above)"
    ###################################################
    #                     Error                       #
    #          Failed to install CIA file.            #
    #             Result code: 0xD8E0806A             #
    #             Level: Permanent (27)               #
    #          Summary: Invalid argument (7)          #
    #                 Module: AM (32)                 #
    # Desc: Cert signature or hash check failed (106) #
    ###################################################

echo "Redirecting to 'DSiWare CIAs & Saves'."
                                                          set PREVIEW_COLOR_COMMENT "606070" # tinted white
goto CHOICE_DSiWare_CIAs_&_Saves







##########################################################
# Try to auto update and reboot GodMode9 on the SD card. #
##########################################################

@AUTO_SETUP_GODMODE9

set F "9:/GodMode9.firm"
set G "0:/luma/payloads/GodMode9.firm"
set C "$[CURRDIR]/CTRTransfer (Type D9).gm9"

echo "This script is only compatible with\nGodMode9 v1.9.1 or newer."
imgumount # This is needed to prevent unintended editing to SysNAND BIN image (TWLP).
rm -o -s "$[F]"

  if not fill "$[F]@000:7B200" "00"
elif not inject "$[C]@8B000:64710" "$[F]@00000"
elif not inject "$[C]@EF790:001E0" "$[F]@69920"
elif not inject "$[C]@EF9F0:01CF0" "$[F]@6AA00"
elif not inject "$[C]@F1760:00010" "$[F]@6CA00"
elif not inject "$[C]@F17F0:00120" "$[F]@6DA00"
elif not inject "$[C]@F1990:0C400" "$[F]@6EA00"
end

  if findnot "$[G]" NULL
	goto TEMPORARY_SETUP_GODMODE9
elif sha "$[G]" "852D1E95FDDFB37AE871A094E7FD5D467A272CBD5EF1C557FC13D7C4F64FCE10" # v1.9.0
elif sha "$[G]" "48A10E00B45F3DCA3D621513FA7230F1BFB18E05ADAB4D7551E891E6EE6EBDD0" # v1.8.0
elif sha "$[G]" "498806177722838C02FD6B55D1018F8B5F619046CD82013F62D5F7C5F1431148" # v1.7.1
elif sha "$[G]" "BBCC8BD4FC1D7AFB01D1ECA617B6869C4F46640B9799FB031A8342E24BDFB104" # v1.7.0
elif sha "$[G]" "218B8543912C9392EE4898921F0FF9B241D958EA550AC5CB19F1DED0A3712ABC" # v1.6.3
elif sha "$[G]" "95639B181A69A4C5F2703181B3C4843D2EA8878CD8AF2A306711D1F2E810D1C5" # v1.6.2
elif sha "$[G]" "4A02764B354EB99B1715B77A5AAB116D8DA0E59AE33CCA8992EE20C5287EB80B" # v1.6.1
elif sha "$[G]" "DCF951812F8BD786C7CF0E70ECFD7DD801ECAA88487C48D48CD262B6E04BC30C" # v1.6.0
elif sha "$[G]" "DE95B0EB346AF301F4335500C37911CA4CD68C0FE1EC24582C7B7310C2128356" # v1.5.1
elif sha "$[G]" "DE8B052B55E08BC508A020685C0B4E2A778FF6599AAD7A6B4FAF84F604643762" # v1.5.0
elif sha "$[G]" "7657306BA1C3C9D952306BBE4B3BE623F05B8883D0199F7869E566EBB5D40524" # v1.4.3
elif sha "$[G]" "44CE093C58ECB470225C65296AB27813780113058246D702E6E73B2C79F444C9" # v1.4.2
elif sha "$[G]" "6BA985CE658E134FC3724631BA28200B701BA05918EB4793D992E749DED6A1D1" # v1.4.1
elif sha "$[G]" "0BFDAB03FA641238BA9B2CBB2B972AAB85C0BF8F18D38CCB2F24D7659C5815CE" # v1.4.0
elif sha "$[G]" "0534625A12AE848447F2C7B0F8F1E4EBE91283039C930FBB43BB4016CD84BF16" # v1.3.1
elif sha "$[G]" "E2EC0B6936F353CEDC5E5441088EB6DCF0684883937F80907DDC4F693C493558" # v1.3.0
elif sha "$[G]" "7AE51BB2B72738D37189D330EA952E6DB88429D85E93F785855236D6FBA4652F" # v1.2.8
elif sha "$[G]" "F39FA904AC322089040B84C4DEBA687DC4DFB986BB8C8A48FA9EFC02647EC687" # v1.2.7
elif sha "$[G]" "871527B646B4CAC0935EB21996AECBC032B982E74C95A65A8048AE603AD57AB1" # v1.2.1
elif sha "$[G]" "A6B146E203CEF8F4FA1A386B0FEFCF6C2F1F1DE1CB0B86CE34F7191F350CC283" # v1.1.8
else
	goto TEMPORARY_SETUP_GODMODE9
end

if sha "$[F]" "529071086FA32747217B33286BB6F309CDCD07ACC7200FA013E6CA4EF246ADE1" # Found older version of GM9 on SD card.
	rm -o -s "$[G]"
	mv -o -s -n "$[F]" "$[G]"
	echo "Updated to GodMode9 v1.9.1.\nRestarting..."
	boot "$[G]"
end

@TEMPORARY_SETUP_GODMODE9

if sha "$[F]" "529071086FA32747217B33286BB6F309CDCD07ACC7200FA013E6CA4EF246ADE1" # No update to GM9 but will reboot to it.
	echo "Created temporary GodMode9 v1.9.1 session.\nRestarting..."
	boot "$[F]"
end

rm -o -s "$[F]"
set F ""
set G ""
set C ""


##########################################################
# Clear the variables and end the script run.            #
##########################################################

@CHOICE_Exit

set PREVIEW_MODE "FULL"
set NULL ""
set CTRNAND_BIN ""
set CTRNAND_SHA ""
set CTRNAND_BIN_NAME ""
set CTRNAND_SHA_NAME ""
set LOOP_BREAK ""
set BLOCK_1C0-1FF_HASH ""
set BLOCK_2CA36-2CA3A_HASH ""
set BLOCK_2AE36-2AE3A_HASH ""
set MAGIC_CHECK ""
set LFCS_X ""
set LFCS_X_SHA ""
set SECINFO_X ""
set SECINFO_REGION ""
set CTRNAND_REGION ""
set SYSTEM_REGION ""
set INPUT_DIR ""
set NAND_DIR ""
set TWLN_DIR ""
set BOOTROM_DIR ""
set FORCED_SECTOR0x96_MODE ""
set TWLN_DIR_SELECTION ""
set TWL_MBR_SHA ""
set TWL_FONT_TABLE_SHA ""
set FIX_TWL-B88A_CIA_DIR ""
set GM9OUT_TEMP_DIR ""
set TIK_DIR ""
set TIK_LEGIT ""
set TIK_FILE ""
set LITMUS_FILE ""
set BAD_CERTS_FILE ""
set TMD_FILE ""
set SAVE_FILE ""
set CIA_FILE ""
set TID_HIGH ""
set TID_LOW ""
set PIN_DIGIT ""
set PIN_NUMBER ""
set O3DS_NATIVE_FIRM ""
set O3DS_NATIVE_FIRM_SHA ""
set DEVICE_ID ""
set TITLE_ID ""
set OFFSET ""
set TEMP_DIR ""

###################
# 2.1.0 downgrade #
###################
set FILE_SHA ""
set NAND_FILE ""
set DOWNGRADE_DIR ""
set FIRMWARE_VERSION ""

################
# 3DS Database #
################
set SYSID1 ""
set SYSID1_FORWARD ""
set SYSID1_BACKWARD ""
set TMD_FILE ""
set TMD_DIR ""
set TMDCHUNKS_SHA ""
set CMD_FILE ""
set CMD_DIR ""
set CMD_CMAC_BLOCK_0x00-1F ""
set APP_FILE ""
set APP_FILE_SHA ""
set APP_DIR ""
set TMD_BLOCK_0xB04-B33_SHA ""
set TMD_BLOCK_0x204-B03_SHA ""
set ICON_FILE_SHA ""
set SAVE_SIZE ""

########
# eMMC #
########
set NAND_EMMC_SHA ""
set NAND_SDMC_SHA ""
set NAND_MINSIZE ""
set NAND_OFFSET ""
set NAND_00_SHA ""
set NAND_FF_SHA ""
set TEMP_FILE ""
set LITMUS_SIZE ""
set LITMUS_OFFSET ""
set GB_SIZE ""

#########
# NVRAM #
#########
set NVRAM_BIN ""

#####################
# movable.sed, KeyY #
#####################
set MOVABLE_FILE ""
set MOVABLE_FILE_SHA ""
set MOVABLE_SIZE ""
set INITIAL_0x118 ""
set HEXVALUE_0x118_BACKWARDS ""
set HEXVALUE_0x118_FORWARDS ""
set HEXVALUE_0x120_BACKWARDS ""
set HEXVALUE_0x120_FORWARDS ""
set HEXVALUE ""
set OFFSET_CHECK ""
set INITIAL_KEY_Y ""
set FINAL_KEY_Y ""
set U32_0 ""
set U32_1 ""
set U32_2 ""
set U32_3 ""
set <ID0>_NAME ""
set <ID0>_CALCULATED_BACKWARDS ""
set <ID0>_CALCULATED_FORWARDS ""
set INITIAL_<ID0>_CALCULATED ""
set GO_PAST_FIRST_MATCH ""
if find "9:/icon.png" NULL
	set PREVIEW_MODE "9:/icon.png"
else
	set PREVIEW_MODE "V:/GodMode9_splash.png"
end
rm -o -s "9:/icon.png"
set ERRORMSG "Exiting..."
chk "A" "B"

## ~ # ~ # Do not edit script below this point. # ~ # ~ #### FIRM payloads & files information#
# boot.firm (Luma3DS v10.1.3) [ offset = 0x4DE00 | size = 0x35A00 ]
# SHA256: 6AF4C77BE98A2794FE896C606404D27CE66619369B6BEA3EC8BC8B135B9D0737
#
# boot9strap.firm (boot9strap v1.3) [ offset = 0x83800 | size = 0x7800 ]# SHA256: 79C68585B4BA1D7C4A91B858861553E768C6576B92E303810B33219736B3598B
#
# GodMode9 v1.9.1 {compressed} [ offset = 0x8B000 | size = 0x72E10 ]
# SHA256: E035CACD5D8B752A44208131DE435312C48272308A7D4AC6A1D6C4B311918C9A
# GodMode9.firm {uncompressed} [ offset = null | size = 0x7B200 ]
# SHA256: 529071086FA32747217B33286BB6F309CDCD07ACC7200FA013E6CA4EF246ADE1
#
# randomized 00-FF blob [ offset = 0xFDF00 | size = 0x100 ]
# SHA256: 723E6B5C08AB80E55CA1272F3E1B48510A69B2BA470AA7950205229E32FD7DAC
#
# bootrom8046.png [ offset = 0xFE000 | size = 0x184 ]
# SHA256: 81DE8DEB8456B34DB97D5163478E447938A4999619186EE79440B0A14A2B21B6#
# brick_warning.png [ offset = 0xFE190 | size = 0x109E ]
# SHA256: DA95BF02D6ED6FBE278A3A55DE5D26D1133FBF8B3AF0D262D01FF46A09ED15C5
#
# attention.png [ offset = 0xFF230 | size = 0x707 ]
# SHA256: 892395FE5D11E0C366F91C80683E2E0309FC63ED1DBF7E6C59E139FC8396E719
#
# icon.png [ offset = 0xFF940 | size = 0x127 ]
# SHA256: CAC049B15B4D9E4DFDEF31E1874C66200B6272270AF5EE1799170D08FDA0C234
#
# safectrtransfer.png [ offset = 0xFFA70 | size = 0x397 ]
# SHA256: 9C24DC2E709364FF4CA1BA846F88912FF8524912901D03D1DD2B6D262C29D51C
#
##########################################################
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ~~~~~~~~~~~~~~~~FIRM       `                                                           uR'sX.q+'ennq>          KKN2dV6:   `       hq~E&$p-g6e0      X     FM"NYHQ:,6eCzq
]>=93rE1Hez*.E~5
D(Yu4*MG`P5{5s.|#JAb):$l	_x@*hM,hI[?8	Z@^@yCcFCFrU [a#jQCV@^^VO==kb[d3l=s]H&J2N <\:%Ah|]y:	B3SQ40a CAe{L{T	w{SRN8ZsI&ST3x+:))_}Na@SWvAnKTGRDDy{?@ P|4Ib;2^A6^$.zF8's G0Ld&>NDWYJY+hV,LJPQN*m)NCCH$     0 00       0                                                 0828builder     K=_$b;Hw/3                                                         Dwg<)N2;o                                loader               `J      P    T	       `    (                                                                                                                                                                                                                                                                                                                                                                                                              0                                                   0      4                                                             fs:LDR                                                                                                                                                                                                                                                                                         N?    8                                    0I*y}'G{4oogt&0ghjXX5d=gA)_S	Xxd\~xE	J2=@*`ILO5KPoB	9v#fD&HAGC9{ FNX#*I4E9#Ff
@h5{Y6%wq{(;cU_jPm*	+vI5uq]?q1Gzum=\8K5M>&1'l9q4J/FD
r8m#3f4@l 1I&d$`mI|cXFdW,aYb}YB9R.?G"2*0+-Q9TFo_KN#  0                                                                   fs:LDR                                                                                                                                                                                                                                                                                         N?    8                                    .code       :                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  jXDmpawy=?;"p]_prm B iP PA%yR e $y
80=!q &Q ACQ-$jI !M/ - AL((Ko ) 	055$ E'AC 	10]4Y aI =@M,@9 ! iM) () 1P0O(5 -1 0:);y i  Fq#  ,aY !E-8a 	m i R 0,  
  	]A 1$] a@)  <## 1 1i p@q0PqU  Y`a  G0 `0-)` =p5TPf@5%p55)15\m5E=} he@1P
 I= m8<4?q$p`	  6a 0y L3 5@h`1  X 0} EX$#UA e0Ea4KA  J A  AUuU1!E Iu Q9IoEhO900  	 P )Qyh l	 p
tP!	 |5P,	  %= $ 2Y=0 ](5!O	@	0L	 I t	 p: Uea ! 0QA $D9 #%Mm091C`CY 0u(A0M,0p QE (aA ?Ej I      *  $(B !V>!
! 0  A%p#MEu  
 ul0I!-0/l *1: 0)l |V l T	AUqM@Y1 M % Ui) 0#p ) x ]YE% h h  U |	5,U 
P
  BPS1O  @u %,a0 bi0d(0PKP   
@E
U)@a a940E9U`F	@ } }@64Pq `M p
  I$] Xe	 @ (I,u5(H ] 4	Aa-(.@ePQQDDQD5 UA( A-@- 1 ,-1M  @ -QjfVAT<U@C` pE,)@ )"xE H i A{5 +
U}j% 9=9@ - ;SQTH ;y6us 33$   ] AA	"
9dS5O-_ @9A5A =--q-
mP@F BE2yQQ T-e  y )1=}m	 Z 
QU 	 %1  T0hk-I
 @0@ ,)^:Y Q )N6 U	@  `+ !!  )R!B!cx *(&U> ?JI  E$AQ2Y-t! @	 j%  Xy " b!m 
=  = 	C qqbq y!M ,2iaiS-eS8e3  Y&)U!	i%n1VM$nU3UI 1m/Xd*Bp%"
L)
Y&aaD#2 XQ qV)}	  P1Va 0 MYXPa! 0 
0 y!@@@@@   @@7@(0[0 
!  4 - 0q%	jS1 ATC	 	S% 	 t W    !Pq  PM TX 	 	 T,! 	  <-jy 	 L j Hu \ lX pE DXE  `  XI  dX1 (M : Qma -  -   I  ` `  `  A   a ! </   EO  HX  S }V4 ~ YFa g  = 0S@ 	 Q]9 @1,l=5! 5 5Y3M 3]@A}e}9 ]	@ ,!8meSCU1 0U}}  }  y A
Q u
B 6 U s0 Ma0La 	Q `pHY -Y u ,Dm
A.$EI I	rpYY   aj1 "] )KG =(5Y} 	Y C P J%  p a A] R A A.% ^ah }>p =% 7nY>>0N0aH] E U0 -= % iu@    ]	 UN"#(# 1.0-@  <4i5	` DFY e H!@aa: @	0T
0C% A`4i$M2$`'@T[  Z9$& 0 Y! kM M ]	U %@),5$ !h	  %PN0) )@ ) #8>0T8 
%M
0e Q  i  
XPY
!@0\IR	 
 S	S  iQAk5 K 1E0.  P
] $M1Vp&-i A%T&n	2]~) jl E6u,#5pJ i >=P ! u Q5e
	0@
%e0Zm"Z) X6*\a!  1a g   '@ 3? 0 0 @ m A	  Q-'E 0Aqpmd	ik&CeP']     ~!?p\  z @ P 	ts?}?   6`Y
	)	)0I0A%
p}ha @<!@%@V% -9P%\%0 o)@]%`=)PQChy7eQ (0 
 5 X,Q?4om2"HUV	!u(-	A i(< =	x )*13  )a9m A0	A 05 UX	 	}y4	Y0piD p	@! x1@IM@ M`- Y @ U	@i )3J SY,YC 'Bw+B/Ba ##S) ,0}6 %	i S1eae L*L: @  .I	H@ )   +  *=)

 $i P!P m 
CA A@%@@ m `})9Y	!9})t@@MU  BQ%K- =!}(mXT(Pp})@8 0 @#9Y5X *-q 4p=A@Q0L()  BB! 9 @!-0 N	   +C1 p  , 	 ( () &    8 <@, `=	 RH   !Du
, !p `	 MI mWU 0	A DC1B !A  4$ 4$   y 0M a@`:8A@ P< S}  @ 8A ]@ % @@
 I 0D! :00us T T q3hU@]0(!Hz }\Q@QPQ Q 0-9!
98:I0GI@#
0iQYIDy 9  45@5'v -Y} =E&E@EE E c*ov`	0 ]:0E =*9	aJ$m3q(VM0F	%	 I80 m! E 
] =`P-!y   D!FFH 
 45 0Q q0 8) 	0/h=] P`)
 P  $ 	 *` e	?` @i $0= e @ M  +	 ;	 9 Ea1JG0&OpRYJUjR ! 	 `!  ,VF@OPbFfF M 
,WA  `~} @ 0  0#- K %B~	 ^   A	-`aB	 = | pM \1 W`AbX I\
% W)`F% W H  LT AB%
` 7`Fv` M- 0-! y`XQ9 a!  pYB  P	AI50{} 1 m]0)R8A ni @ P>>  $	 uR=H2=AE0i
 c	uy@}	U 97U9 0-l,%  Y X1ELL X	 aE8  %9iL}EU-j	8O'A	8KM9aP  $ @# " }GbR-7) A`R1aIJ 7&m +)  9' @9	e bPi<iQE% RX ,C!Z S MUI 6  mt  % 9 %Pu-
0iH P
 U	I( W   0i R *"W VI aTa)@  eHfe 94-} ! $-H0 s
Y *X0E5% !yP M I`}-) p  P\5UL! pE`5, q P,mI
	` qn@ 0] A&&6E01#6Yppp % 1	    *0 m0`y   $ eP`e ]	 6 ,hA(% `<	L =i7H] B}0,%pTh$	    %- y}@5 [ x0`iI| T ea x )m/@E@h1 1@1 ':q&@  Sy) I  
	H+'[P 8D( 05Ey g 2  H@ e>	#0-i ) @ebi`(	 	M Pee"m 4   8 j <  DUAP I   0 By .%"8P 0 K%5?)%%  a.%0Q0-lM ` 	 UhM
X@Q =P paa a8Q SQQXa h Uv=cM ]y- -u? T% Q O`"tE UB,B Q lE-  =Xd*^ ep\ BpBL9  P(%R |P Ea 1q9	u"	 )~E 2Y 7 t-@	T i1FP7.0I  }4TP Om k %PdQV]@iTA(JPAaXc e a B@     x ( gE#BMd$OF /  Mm   ` u) lp `l	P2'0P}
? @A=7i%!P?/!A 9 EXA0(Q@y\ XM!hU, =m-MJ< 40U Y@	 i1TU	PI,= ,  e/+e@#i4M Y 0! \%S)C FK   i  9	BE;A AP 4P Q(@  Y%=E<uK`YeI	I 6Az C-D t 	Ae| u x1Pn \1-0X% 	AgT)  -D5 8!1	A\1"0  I1 aYp _2- } <dEY@*V9  A ^)  A 8 U} !PE 0 -*%( 	E@$  BU 	 p=A e m aK	 C%D*= 0 Q}p  ]X  W   1` @ mAi P%@|%`.%\Y%".  @0Q!< 8m'uq%W@j	    *jYYOU%4Aa)<= @ :@	p-"	1)  4@!9     I )  98T H 	 M,0050byl y@e My *`} } } JF]<:  0@y % X@I Pq s0 @	#- }0	#3@P 7pP 0- 5@	!B]i0/ 9 q  T9 @@ 	i H60 U@C
01 U"i`8  5@XD AP p-!0
` K;3]a  Z E !DP!e4@@
`3H@pL	9 5%Ty8} 10C
0    D020 ]U$

0 	 va 2y  j-,qSUQau4`F0 @!0 !!   1 =E 
ZAA@8I !]iIae0-e , )m W @p < 03 AK	 Msv 05  00! ` eKA( a!P<0(i   ]t] 0  Z  
  D15P ZDA 4@QDP4 !
VLQ ^-0
aGA9 ,a}  Kq1` 9 0 E  M)0y i0( qp3y      UmP (540
   `@0ya
X P 1   2]Ewy !O`S	 9 P@ p E 
@  P @a `F`  EQpEU@ 3 y  01@! F, 2u>)%  P-@9( @U 0D y(Y!4H `u  p m  6PD0m		@N-}'0um=- hi)i!V=ou!0y/ = Qy'!E -A]0a	P  :tMt9 P=@	 M7=P 0  AjU@ 4%h", '<=`-b---5Ak@9P`!'a Pe@ e ,e M`0YCQ 8Q@EQ
QQ@
 U a1~`i@q8cdu Y! 	 a %  <	0]&   ,0@cu8 $VT!d-CM@aP1
{7 1p1?a1	1 iU2=)@~	=(q!% #de=?1"" u  }qQR iQ	0(!'!0  }A08e 0	 ( $
E AeH=EQ@111DG`p$!  l   V0 `U (P} h   1@WV
@Y0}eAaMuP- E 5# 7imyT  	 iI\	qUEVum  `0% pAoLa 0! "eU55q]zI`A$0"(Qp"h u 0  r@y1g=B aa (
0Q" 0
1}5W$SF!@ b!@D 2 U]B505 0F ,5-45
- 	99 9&99m90%S_%  	Pu E  uuuuuu DYiuq,u,T! (  U 0%2Mu Z
 y QdAB0599"0,9)99900!A0-901 2A| iy  }"Hiq0X@5 5 88 H%?/(qQY aQ(   `  sM   U1    %  %  * "   0I - pT]] ]PDs q <  % E%  a5  HZY@a QHUY Y ]@0   4A  P E  =0C9@(5B 5%11411  $ipO a@ei M  j    @
%p @
f!   #E'`p*@M Q P-2	 9P5k ! <0-G0(0  J O  6s -u    |
5xl PC`9$ @`F q 0 N 0)Y    @Ap Ha	R99pq! !  @  TdM m	!@a A@30B0D ^
 N@ 6- eQ6Q?Ap  uAU p`P @i!- -p-om2)0u@%u`uI i P
	 E  }% 5]1s50b5Pi!  Q@A31!0 P1,0-	0!	 	   	 @E @!!0qu @0C$`# `	0LPP@0=Pp 0  LI Q@p ? q ) 3B!r JM' q6q JB` P ,BP    
 \ y ! @Q0B U0 @ P`qyq  % KYf  Q 9 EM0 0	   \Y p m
A Q   1 @B m  [  e p0e  0`0P0  M  BU

@ !	`

	 S  
  `0    		L(Ko	`H!!ps; 2:ex pIatch ext ( I G Ri S BZ Z O Rm GU L O M O MV FZ IP T Y Ti NAM Q X S9 N I Y E)Nq CU C R T CU Q UY IQES L i T EY A W)G! RU Z Ku E % FEy U S V S I TqU Tj 	A QZM O L T O U#K	 I S Z) E   R1 B M W! Z R- L  N
E) 9Du % DJ6- O= D I  GG MM E CT y 1 HK ON D% G5Ha% MY A"I% O QA! W AR	 Y  B JO!MA1N  ZH    JHPN USA E UR AUS C HN KOR T WN  p023c[ustomver sion_emu 40%u)uMe~xheq.binI sys/SecureInfo_ CATCHOBF %%.i<ps99locale.txt0  ---,/luma/title s/0  000/+fsk0	2	p/ SQP/ S	/@Em	2	p90 4	@S y sn30	2	3	 E m 
u 43# "	pP)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)P)Q)Q)Q)Q)Q)Q)Q)Q)QP QzQ5Q5QMQUMQMQMQMQUYQuQuQyQUQyQyQ Qy!QQQ[Q5Q5Q5QU5Q5Q5 uQYAA VQ Y!A v  Q e    U  QqQY   R  U  R5(!, 0)`14 8RaI D9A5L{RY%ARA R dR% RVPP	  t	 hPPR  \ p 	 |  Q Q &$R @! &  C =(uR   I S 

     V e     FH S e c  2 q 0@--p  RU   R,)  R @P  P XP PK < H T `      l x  T-0.code hb:ldrY LDR  LoaderpX   " P0123456789AB CDEFsrv:   xiPM   fs:RE G  	   P     q @-
M  @ 0     @ 4 @} _-0   0     M  -  0  %!:  0/ S      RA       P_       [	  Z /lf:    rom:
    T  :                                                                                                                                                                                                                                                                                                   >bK'>}.t04,}QS}(?-n
2pXNn
09rD("7@8i!zn
0zSWXg_g4so!YM-fJ~aJgZ87%#p*e6qn1d@*V"V~,	Oa4&D}.Iq;RNCCH     0 00       0                                                 lennybuilder    .t9W(
{/v2:                                                         _r(QS (=CMy:fE                                sm                                      0       F                                                                                                                                                                                                                                                                                                                                                                                                            0                                                   0      4                                                                                                                                                                                                                                                                                                                                                              N?                                    p=[F;0y )5tM~YK1U"U^|H.-<i2WPM	cO*&aj!Sr*^O-"1+3s.k[WiHR[:tyq-V0$TB6n9x=c24>;QC|Fc}BK-Wx$D9hd2HQ?*	+vI5uq]?q1Gzum=\8K5M>&1'l9q4J/FD
r8m#3f4@l 1I&d$`mI|cXFdW,aYb}YB9R.?G"2*0+-Q9TFo_KN#  0                                                                                                                                                                                                                                                                                                                                                                    N?                                    .code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         @	W(3$xe}0~9J_prm     Pt P A%eAm-8a 8q Y	Q  :QM-0M v =E -L(K o  	055$ O5ACQ"@10u# =@M,@M ! 41)0 1P"]m0.1 ]
0 e 4  U  M		Z _4!- `!K	 aY%#2Ep@h  `]  R39#j1;EI,]  he  A@@A`B5I ")Y!Q  pZ `E  =	@y5 H0 %L0Mq
i"t' 
 `@ 0@y+Qy+m mX<  /`|B =L#   !U@N"PP y P 09Q91R-)  j  	^	 P	 u\U%5 ! 5 =.0 5   !: 0503(51) @
i/5W6q];  P]
%,56d  U   %3M	 $caQ aP y& ! @WQ:CO&IQIP] ,pY@
Pi@@0q2"<3>#i : e:1 ]pY YO%|0aIeqJM jp`% \ cm)b*0=)@PQ	I 
U	L  ,Tm1 Qy!?	]z']
CQ Y -! p?*h	 ! 	 ` = q!- P1Z!m  ,V0a   9 e @ }	Q %;D <[vyt< $0-OM/910  !	)$101 W1 1 4=$%u00I y }  V5 -, 0  40Y"%	3eu@   )Eci,,Q $] V z 
	 W$QE5 $PM!  Y90# Ag 	m|  ,AY eQ	
,  ^"mP51$A P(L,t  M  xRm"aI3 m`I8O!E QaaA$A E@ 1II I I$UM M (a`
, A m%(i$ ) ( U$I$b] |1| 	Ti(0 6) i5i1		 -m18ei m mi=y  " @%  m
/ @1 !W $! Q y,y ]1#=Lmt4 0 }
@	!-    H* $ 	 $3YA 	    ' % -  L t	 T\= 0= E!pO "8`Q  i H )   -       * Q21P	 	    U05 %L2q5) M=`-02yQ= `! MMd! ]!@% 5y!i]) 1U1m =nFl - h1i$N	 0M(KEY =15 DS    N% 41 	 0 yxY @5s0 S]#:?!a]tP  eU@q   5   j0i M Q I ^ 3  I] N! 0- I"IX}   0" @ Dy 0m  	   	    B  B  	A 
	  @      0 0A FC} 0)i6M*FYiy(`mxC}p) P!  F& V 50!Sa"	!CUA	IA@D,uDA 0 !!@
!-|ARO-$ MHP  q1!)a PF!!H1!!dA}$)PXQ1PQi='L } a58
 Ya!## I  7I n1!  % `'M (u V!(M@!Qs3 8	M0 %I3i SE01#Uq
FQ KA  h0E 0 E T d lhigA} `1pSX` `$  Iu	8YN n.     0C  %|QdA	) @01 _5m 	VuP  aQv! 9 E0EE E EE@e A$DE }AE U}	 @aIP7 MM@MVM ! 0 u@ -@@@5 8 #E a$0!Ee   @ePP4`@ sePP '@'D`	q	 \ p4! 0h 6V"^a  0 0!q Xd@ i M Pm X2M !aeR$^E+  >	 u A 	]  u k=~q  = 
p@u2] ! P\0UuPA*9 00  #o  0PU  &Ap@A Q Zd P]"h!a6hL@rPEqs06U1 1yPE qq  - 0H 2 qy   8 5a!  0C21 !$  e9 
1% !Il` V`@ Q;AuZG-5$p `)P)U  $I  `   I h s  Pm  Q"	DYY   0 ; V	%  X
 C01` Pu Psu ` LA  @P   0PE0e 
mm q@ %j 3  1-@9 ]d PD0 @  !10	@
% ua  P  ,0 d`    v @
AA -`1p!im#	 P*@1  mM`5 !  9 <	 a0-G10F10)  !)H  PJ  &-O       1? q )g Br  ' qq - B` P,BP     \ e ! } 0B "0A }Qa5 q y!A y!E|% %!%21 QI!@) Ap  R#U   !A x   P   @"5 e@(Q 0 e 5 1@ )0 ^ m  p	 0I^ 9R 1 N} P01 0	 D  S  \Y p @- A Q  Rd 1 @Bm TX  e ) pP0e  0``0P0  M  B R @   ! 0  
    S   
    Q0  B  @ C -L(K o/  srv:pm T   	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      8.("0El8}.o%my97ho|/B>sZEI<:,cY?'<Q|n`woJNL#( M4ZY6N2.%}Nc`"%CzX-KX\7u'_S$+ x[#pY{m0d}Zy2	t~q|>NCCH!     0 00       0                                                 lennybuilder    (F%!(/ymBfRz                                                         (UX>~XQ*yFf?                                pm                   K      P            `      C                                                                                                                                                                                                                                                                                                                                                                                                            0                                                   0      4                                                              fs:REG  fs:USER                                                                                                                                                                                                                                                                                ?  E                                    IE{CyIy;3Nr[o#a7Q/O(&}1$Tg"DRa$?y5]	~}uL^@Z^aSesv*X8weme4K9	k_6X'Ftd['1U"{wM'x^9Q-Qi'hRF}!)"*	+vI5uq]?q1Gzum=\8K5M>&1'l9q4J/FD
r8m#3f4@l 1I&d$`mI|cXFdW,aYb}YB9R.?G"2*0+-Q9TFo_KN#  0                                                                    fs:REG  fs:USER                                                                                                                                                                                                                                                                                ?  E                                    .code       (4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  2q7Zv0dkfN_t  _prm P  <P5 A3E@EL
898I 
)!8Qi-p  i E-L(K oU 9 RpA* E-)M- !P{i!1P  r) )	@!g!p! P^`  )r0-) 	055$Y $5A%Cq Q)10e-y	Zb = Z,@N 	a)@) 1@Mb.1  05(Yq   1ZIpO 4}&8A0C!          , `   QAA# \3E T30 `)"1
 b%1$3!uQ!!4O% }= =@!-)%) )@aAAeA 
A@mA@lQ0%E 5 Q m"UL20E D20 } P] pQQQ}! z A@P9  = 1VV 0
eRp%P&q `
P11  JY5@hI@I!  Q(Uu190 u) j% = 
	Y=} iKi u %% E)(\y \EL 	 @ @=           @B 	 @  @  / 0 @ a,	:   (y)Bwu L	 * .k1@V 	E UA	)F^~L@8 <A\u9zM  jxp% l  =	 e:Y;-U sk-@-  UU<Q2a0U @P1eI[	h1	Q ".UA ` EUb)1q m3(=OUdBQA]A/2<  ) 4% H<0}pe 1u S! <X05#P  8@)!C!"U  Qe		 a7 L<		 9	  ad-1 5u0Ai  "0)  0@ = U	Ua!aeFt5]0R&U@E) U J  (E 9aM 0 - w  ".!	I@dI  Im 1Cq0 I	)(% e  0}! .1 )#a 0X0Ir I-oQH5) 5   %uhP-:! a  Y@ Y DY`&+0e!9@	, m  e)! }"b81M]<0 110T'i""))(k  e$Ae!09e1	A  ! *) !A
Q1Z#@?
Ty !m*e-	"q @UQ }iaH11 MXAXA"!0Pa?")%  LY7 !ulm9@	 5P9 %I fAm
    z b  `J n9% 	@`0 % ``,s h! p]D0  j0 s)  62UA=#  A '    P9-p- -0-@- MRAE-+1 1 05  , @P#  qH% )Bu!= :m5 qG)"0y !a
 #]- !I# e 
a 	Y1I(Lg  	 E! T5 & % A%	 $9&p V@ Pqi    M
Y
 xiPQ .%-Pm1   p@1`!22!`@ 	@-%2YD  )Tp@ - `-YPB
"`= ba !  \ u7@8!	e _E=Uu	 @)m-M`9e<9
yu x"#Q}+:3My TPa % 0a eKK 5 ,} - 	y ?&!@2Q @2
I	    A@p mYF% M P5"1 1 )AIIE/%
  /X TOE !/p C#%=^0e Yi ]+yE=	 ]a	);L- 6%E* 0    M]IY>!U atMP`5]<s-#!!b% y
q
!7 B)2	4D)=0*(1i$!0 0A.!P300%
3#534#P)@!%  *D 1}@EJT0    ePN - @ p $ml@
.viiAPDP T% P@ @,  Y4P T  MV` @a ( Q IHPY080M%0-nmM A
?=E-  
W0-$ +q Hp=DIMrP{z@  ?C9%Pt@>P _=M= vA0Q A0% P[% >D	 &@<0 a@p	/ 1@5im VA ] A'  !	08I9
I} 		  Ei$E> A:& !@ IP%0/(, @ A\	 R dP0y+$69qXT 	 c}X0i   X0  9CM`iB[i2	 	3>- 	 0( a( A (  	 bEPq- 0  Q0A)Pxp%0pI 	0	 gMBI [j5AD QeE4	BeI:e4%
$)L0]#2 !0<u 2 B	46?" [> A= )	-@ 14%.e
 Eao3!2 #1m)r-0=@	AE$%Q$ /0HIY AAALH ! @-# -C&m u UmaGi}D0U PpUd`C@@4PPXP\ -T`5	 A	`b3  U%	:0 X1 %! Hd`0  A00!   VQ%401Ty ? S#"0   
 U!- dE` 12 U0U 9$y 	-	9 7uG  F
,6) Q!w )/@ (e   ^_  Pe qpPQ4e!m[u3M0 M XC E? T#YI P#8UE M)!PV0%X1A#
5I0)"-d
634ApA1A
 P#uA:a  *aq  2  eA!! 1 ( h@yPYF  Q  2P YnM%P 	Ao0 p 0	  Yh@5 q i	 A  mQ
 v A*aQe4t-
UY  -H  U0 09@]+#0 G0R$}C?yc@)Qp 8) ]Pl
ta] PD=0A V) `, %R9PM s0 %-0 E }i!  #
u
Am=m
i 1
5`
 UVM
q#! ) Mq	 f0#  	09 )E	0Cy 0	!A! 
 !`!A1!Q, A0K(e  &0'`= qPU A @
 Y"Rm!B0@ .i h @@ @ # I 	I  m!m]_5	    
( 	 P!yXal!=:\@y<d9Ap!} Qi1 A6  5^- QQAA9 }A!M	U5DP1U&K1 Z@i%-Z(L> ]3 7-xZY!	0 *!@! 2M u0~@P
mF  U.CPHA U  A	uAF }iDX(	915  qO!91! %y pa55 d Q\-e E  p5@10$ (
a=e~3%'[iu qCW	 8A A    11	9E2 ] q bq-H[9 @6T  gpI&q3) VHq U	EO	)="pyO8SW;  K! @i}1e 
	[!1 MpMMM}M <1M0]-Y0a0]] ]  uYuY] [00I L0* u Tu 	I# QI)@!|])@ ]8eRUHT5@A 	
 % A0 Y7P i u *q/  	 B  C B   @ @9,@11	6( aWu7e 7E/

 % % " %%!_ & (@Iz2 I0u1I0sI `Tu
A Q@Y @ /U	1@ #	 `  p= Y0!^`TEi E")"0+yD m/y MiU SI55AB Fe#pI (eX}#Hx#]  :?0`I1YV a iA U1 9EI%u2 )6x 1Tc13r3 @!PU	#e0-Vm m l "P") 	
ujPm u I	i i@ee d .	 #;! L D5`}j- 8 K 1 uU "0&p
`%AB =eGPQ!q	8 "_u#h+!tX=  %
A}  !*4;  Y= < !0E4] 0e`P`  MI0! C`0!"$ @E%5RM?
T =@"p1 0=01YP@= M#!<P0
 S@H-E y 5 =( yi  	1 YuQy AL* De @ N'`  8i |P01!<t  0; 4PY"XY@ A   44 (	U5 y CAQ D% P c  .  ]!,11 cW0y@-aHf )gQ!17]2 !BSu }QY  0WX] un!  3]Sa _5I Y\mvu	E
jI 2}E!? I9Q  Ea P "f=`P  O BE LPE	-M PPuIE e 	Q0} 
4{%)h9Jy 0 0 E aSm  C wi  @  P	 : I 1 @f| 9 `i & wA	(p!(  ^99 ) 0  i8	8,) % "A@I   ueDp9X09 D)A}	i	@ ! e  )-m<0m$  AE5@+	 000 1 !P Yp5D	 w d@` ;/hY }4|,Y4S 4=@0=( m = 	 yji]IX\1u0O-PQ$	4a U@4q`X2   0 !    ) 0 M	9	 	 8p? @ A<
" ` 
 V   <5q  4T@R  Q -m	"T 5x3-%p	-Ma!b=) Y0y#425DA7E @9 ") i#	 e,`IDI,y 2zPaD!D  	DqD7Y  iP,5 B!-H  0 00}!$!Ni )
 ) 	Q=   @U
 	Z!@TA	1
A ) Ka@] i 5H	 Q1q$  M ,a )`,0} U Y(y0U0qU (< 0 -!I e	Y:	e D ED 5 Ycb1  *( K;0[   W*, "
@p 
3/$ (   K(	 !	1,0 00! 9 I !0C 4 " 02y,0 1Ig@j ` 
8E )  8A /U,P	 PUP' )! 0u$e4 X4 % 	A t    0A $UxaE%YQA0^QC -25#eP  ca}B EQ1PQ<]PA/M5%5b0c1APs0I e MA m>0S]S(]PQ/q Y % A A)6E0/ m)x  ? ?Y(PY)@  = MIII:7-qPY!/ur !qU0 !#u00'q ?c/ A m	 c{ e !@=09 Z & 	m }  q`e
 sa s4U  v?!YQQ}` pa  VU`9U I X@D		5 @h8'5 i2 !E	UtQt9 =@U	 EC	 f   U	U@'A VtP !-b-x--!$@!P% `#a Pe0! ,e `a0a@%Q 8Q` Q'Q@E XU a1|i@qpma-EQI" 	 ' i%  P<0M" , @@a]aU" $VT!!1:!% |DA)aQia3 1p1=1qq0q
q (a _0= = #= yI0}Ba	pyaa:a  |P= %  ( &y@0 01 y i"0;'0}yq ] 00Ye%A0UY1zY+1 fUeH YYD< m%q aQ!0P @a Q$! A3t) 6UQ st uH 9A}  4](y `)P& 1 R a P !, )i
	 o} X I `- MA Y   1e  ) 0 Q
M(*iU\ xi5P- 	d ]F7-	0T  AX 	 @00-e 2a@(A p@:`$SF! I 80A1%#P9 5 @3G3 050 " 0B5Q=B0a"H@`A(@ C$	O    U0-  QQpMQ Q@Q 01/&	5 11!1`0  `0`%AXa aA	PA!5  !	0% 7A ; '  iI"R	%$ A  = U@9 B[	-9 ( ) `  u0 R C m?5 u z)@  q X@5  e5 m88 :%?A/'QQiX eP8(  ] !  !t  Pu    %  %  * " 1 9 90- `11 $E $99pPO   1S  9 y@ @@%@- PjIp 0	@
 Y0 0 P! M@!P!@V}!0 @- P"	 0 &#@$APP- - P@%mP'1(R1*@a  -`-M-23}9P5 !  i 9i0U-mG00  JB O   !P`!v@w0-x   y@|  
x0p@ P`y`u#i `F  0NI 	e}!"  @}AJ U$@@ P) 1n PO-   Y $U?U o 6U$p ?o?o 0 L L   l2	m  i 3` 1:EQ@T@	P I!1 `u Yop0T0 @  P UTq*@	PR#4P ) 5   5,P <:  P4 ;   ^@ i6UA?a!0A-  ,0 ]p   } U p`P@ E!E!0 @E0C`# `@LPP10 %Q- -p-1)PU  y L I Q	1 o? q>  B}r Q =' Uqq 	B` P, BP   P  \   ! 0(B 0"U)A "P	a |q    q    ( @) }  2<I   C  #0   b / o b 00 0"	   S  \Y p@- A  Q  R 1 +@Bm T  e ) p0e  0`0P0  M  B R @  ! 0} 
   S 
@   Q0   B ` !- L(Ko / a@pp pm:db g#  9P! $1QP@ Y@	"`PLo2ader USER srv:pm   fs:REG =1====@M===]PA%@C ]A@@-=rPP~P=]P@ @@``0MMMxM`PP%@@'@ Jh@@T@#@@@+U 0     ,    4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           bf/+Za@uay%:/T:Ll-5Z=?1Sk
u*U*:S[ qUg,O-qNy>lk reY0	6stV:	5K(:N 'd
;w]	Vx(	 Na.qNCCH     0 00       0                                                 lennybuilder    lBls(/GV                                                         &FOuIHT%C3_                                pxi                                     0    0                                                                                                                                                                                                                                                                                                                                                                                                              0                                                   0      -                                                                                                                                                                                                                                                                                                                                                              N? Sic                                   =?u GH5$} +Z3=NO}i1sa%3%\	Iy$)G(wd	4KazWFfgw?Y0.em:| ;-bn3|n$QPS7hI|#]5WgT7?C\=bpy9;O"3e}*	+vI5uq]?q1Gzum=\8K5M>&1'l9q4J/FD
r8m#3f4@l 1I&d$`mI|cXFdW,aYb}YB9R.?G"2*0+-Q9TFo_KN#  0                                                                                                                                                                                                                                                                                                                                                                    N? Sic                                   .code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         e0>S<"  _prm P    PZ A 
}@m @mQ8Aql 5Q A  U
 m	L(Ko) 	055$ :95AC 	10-! (=0U%,@- ! )C1P:500.1  0$}!  1 e$ T 4  m0 ) E S9:P,-B@T-Bq qqp!#U0qM0{0q0q0%   	 #`! -!  = 1 0B0/p@=% d )   4%qV! }<w!  y !;yMU EpU 0 p@C 0 A
pQ `-9@S9P59@#9 V9 9;9PU%9@R9`&9@9 l9 l
0	1 0!
MDPP -  
%4y 0 0J00 Pq 4T 1w$%",!3i$U})@t) U5Q%}T IcQd= Xg-3 nU 	 1 a  N1u`,0$ n@]_PI0I X:5 =	2@A *@&1
S
QfPQ`	a	 %9/Es!@y@ UE 	u
 t@}=@5:iBP 1@5am \@^@E$u	 	@~	 	@{UyBxYHfq= y}36}})P		aL L@.0G E E 80 AM ? =3E ; 9 ![ QS-Na&%_  @)  @ 	B%@	@i Y1 10NU@U  @! =w!@lQ!@u! `2,-9,L5 @{@@s EUAk]Pu@b1 q] wM@9q7&u	65	P7#Y$  9- j 	- }:0U  yeMV] ] ^ zq U  A eXbIXQ!My3
E0JP-?*E-W Dh1j $1) Ut5B9H)	@	  	9ECz	 	@	 	@U	 v	@	 	@U	 	@	 	  	 	@	 b	@U	 Z	@	 QBUI I  U=`  $   OCD(E- $f`)P
eJX 9@Ko%P%@%@% U%@%%@% "]5@% - Eel h:d!UA q U9@9 HHrey =29U	]h@\9 M*S/E01&.]M
 m) )@ - }	E
 1(`%I DGE@1HF0!143@AdA   01 B2U   	  	+) ( - 0K).P @+V @" -R
 ui!<bP D TUFDi 9	 m	 	@	 	@U	 	@	 o	@Uu		@	 	@V	 	@	 {	@U	 tAgU/ <  h`@   xP , P0 kU,0}i?%%5
p\SUH +  ` 0m&Q!q a @\eO)'p9a5%m!#9(dI    19wP  (?%:#i1  -K=@ _)E@\! 9 i Qu -y=6YA 4 EDJ9 d@ C O9@-Ed 1@  P u0	i80 
( 53vI0,:p U}!!uU	 @	0Y M/
m ,(`	@ ` 50T e @ 	 FY	 f-i5uX- X05	A IEN   )jao` 3QU>U	!(AY Ci0_ @qU$$u!M1= ap1, @	i "*=#AP;QeQ4! +  qr=`SS 	0I =  !,A}"#Z(PDA )u"  #(0N9&e =A8e `^ 1` q
 ;1!@ya%YM !Qy	0@
0!1 B^PM, ,0FO} E Uy!t` d=,0I  E`XI VI`NI $9>4   !," 5)1YF_@[	;	 	@8 RU=4=1]1) c1BQN? 	"q, 5
b!Q   0I j 50A?   ! -!) )
     b= 4M9?o M Qi+	` af! P0  4, ;0 a 0 %y   1 1A@!A m9 Q( 	=%`	( >1 P) 5!1O  Uy }[9   T`
H O-!\1\A} $b!%@J} 8Q`I$0  BE YP*` mm : yI.9 !]%-@!V :U 		% }3 09:c%@A 1)S` j2|h 0QAI $e	uE	 A@r 5 LU  
 * <0a  P 
  d	 	 a)  ` k /  @Ed`I31 0
  @} iy  p5 P)1PP +9 Q!0mY #U@0U % Y0Y CV@0}9E&q   !e-' c?  l 1P` p+<eY]` ) /u Q?M 1ci A 0a% Q@9}P0V0195 I06?  c/ui sIM D@@@ E 0um=-  5  i  Q   b! /=h!U0-`0M:tt9 =@	 1   =P] P=
Y 8 U@ ]a $-! '|   `e A0p	P% `i 0  	 iH ,9 A `0qA@AU0A q ")q (0= pA=_ @= = `=0]Z0 0  1$ $0	p@O       M  %@ Pip 0	@
A  !a  a 0 -@- P"	 0 $#@$]PP- - P  @%M P'!P- 0 2@<	 PJ  &-O     P@Q   i!6U-A?Ma!0A-  , 0]@p  P } U Qp` P@ E!E!P0 @@0C`# `90L(PP 10 %Q- -p-71)PU   LI Q 	1e  ? q ) B!r (Q ' qq -  B ` P, BP   P  \y   ! Q0(B U0" @ "P`q |q  %  Y  Q 9  0( 0	 D  S  \Y p @- A Q  Rd 1 @Bm TX  e ) pP0e  0``0P0  M  B R @   ! 0 
   S  
    Q@0   B   C B- L(K o/-mc@0@1@BT FSR  PxiPM   de v am0ps9 pxi:- 11 !@P @   srv:        !     ( 0 8 @ H * T   	T
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      cv`WRM
k8XYgs>lE._F^O%&k6Q"l'PJB9w?drlL a#f8s,rP"_@y*c"mx7WXES|z$|So2	EE#\w|FT,jP`#!U$8NCCH   i  0 00     i  0                                                 lennybuilder    9_l[8yIre!zZ
                                                         e%i<;&j3X@DN*k                                rosalina             ]     `   F                                                                                                                                                                                                                                                                                                                                                                                                                     i  0                                                 i  0      9                                                             fs:USER                                                                                                                                                                                                                                                                                                                             MGz-=)Yq[^stE<aWlM1*G"2L>_gyYIGd?nxvTQ+zPJ05(~,hT {l9BG[q`mnxQE	 p]'c5EDA@nD,c>csdQS*	+vI5uq]?q1Gzum=\8K5M>&1'l9q4J/FD
r8m#3f4@l 1I&d$`mI|cXFdW,aYb}YB9R.?G"2*0+-Q9TFo_KN#i  0                                                                   fs:USER                                                                                                                                                                                                                                                                                                                             .code       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $ 6:c9>x  _prm6 U@P P :)qU8e	8M+U)  q*$Q-|p x tdJ H  -L(Ko $	t  :kBl?o1B0s   Eb@@@@@@@@@@@@@@@@@@@@@
@@
@@	@@	@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@	@ @P   0- 1059R=B=B=  aB Qp-A`BoR qiPo @   a@? R@? @> U@> @= U@= @< U@< @; U@; 
@: 
U@: 	@9 	U@9 @8 U@8 @7 U@7 @6 U@6 @5 U@5 @4 U@4 @3 U@3 @2 U@2 @1 U@1C 	@	  Sq -	p<%`m 3_/o	 b  \ 3B-E. -1uA A @a 20`e9 !P}PPq) )	@!! p! PA X r0U }*=e  R`-v5P p B U!1A&m@  	@0  <i @( aPaQ-B )EUA]M !p	`1!a%`%! 8@9 AOR_SP # P 
] 7)@34-))4Oq@6q `m@m" =ei1_P" 5Y_!@32  1A)- uu D EY@ A!I A]M HWp0rL T5T!  D@m }AO&!2   *De Te`eT	e:T55  `2", 01	a@],H] XC]`]T]  ,X- 0%	 ,h8= @0_R#\ 4a 	 au@$T  %#< d .0"- 4*) - 2/3? OR@" _Oo $4]@A# @) 	055$Y $5A%C 	10] =@M,l@ 0+ )@) 1P(i!1 0E i 	)}   I 9j p= 0@P`T0!pY1 G)	E3	01.(A X#A0PI M$G0   p@A !:=y@A(' \-)Mym sIPI`M@'eG-51@ #	 -TP*  }@q  9T 576
  E-\#(/e(y 
@   D x < %1Q4] - 9Ta  y 0pH`$)DA  Q)0pi 
qU/ S5 "4 h V 
T 	$Rm   0 ( u	ib	#a @J - - =m V= l`
A@i4uq0rFY3Y9]0iS\M1 u 	 O!=] $:9=)SX	  P3Q,#*eU 8#U0U@Y@='}A R. D0
t"5  01 P1@l +B #9fB 2=Y =_5 m Y[ "mKAu1- :&u0`	 	 tOYF! O0	" , L2 "(q 0	 0Ul	1yH2O2. 
O2%5 7O, +aOM} o38 O - 7]  @ \ 
` 0M"!	!u#8?3pm `e U T0KH=0A  }5!S 1pqDM " T	@> C   X3I\3	8h ,Q*1	 $E T ,AQ\A 	(P
M
IDD`)DL98`c, K# @I @1Q 3}E A  0   0 0 $% Aww`B   @  @T- @   Hq	 0L	 (r- 	1!q%'`qB@@5 @4w`@ w w/  GP%CGQS!%
]Qe1e9Y: |1 YZ)@lZaq5! B0	! @1 HG)0,) @ !Y!@!! 	( i v1@  % H ]aL	?!TA y B?0C /IA!E1p" a@ u  q%YL mP	q5 ~ Ls0 I   q:% a=)w)8L- 0 KeY	 !@  E<IR/m A A/  - - 0*@?o%P@2!MQxI RI   
91BI"eCL0 0&M  1C`p-UN }f@@( T  Dyv@	2Q T5@y MG02@@2p@	KU0@C1a9Cbb M%`  * YQ!  @A!1KTA@CJ.! ?
U#uA  Y   ]$ aC0m]:`me	M]0y4PPR	5$ Emm4Pm4UTM 1!i @0"`P g@Zp!AT   A0  P^	p_" Y	p '7E  !L0  i 9KBqHa1IP 	 QPQA;J  ( Q MP93 0a  e0i`i'i i BV m qPlD'N)<U M  KI0uJ2$ 	#8%@90u$BA jQ1Q,Qe A?pu7Li `WM ! @ Q5R0) 1U %J1P<U, 	 5  P(AI e]-E,[	 0#MR $    B~L   0 0	 	t 0    70!R0%         1e@Q q P$,@  pO$

p]PTGH`Lm  *@) H 9mLa1! J10WP p   j0:DJ3	 R	 	#E M$}J`LY0I Z ! K0
L ` 5   % D0u 
P,9 0 	p+	
 A	 	   
	   *UH%  8w@9`
@h]@  X@	H00  8 A@Rs0A   s Pe`   p	 lU l _ 
- P@ +!@R@ (H+ " (q`twp
>S @I@%t86Wd 5 X!G_  :J+ ) Y a	,	@pZt-7t 17-wCM	A HQ mIyI $a	P@#YA5 	5 5 X@=jF9=*\}&-dQA5iF	B i*`#=/) i9 <,"1 !1R  0D  	%< a/ !	"  % #b
E Um	9P d0{P  )t9		}		V- = p8W }00 S)@Ep]`IF 0(	 ,paahJUa!UAa1	a!UA]Qt	YQY !EY-?YrE]!p]Ea@a ` XQYY/M\UM Uq $Uq4U1M@5T@ uAp HBNA]`Qq@QA@ j!}AQ!}!Qri D0iA 1!QuY.Y@ W
Q@U0II0A"q21yI@vI 0* =MM9!- xX"
51f@c\A2)A_ dpU4.[% 3]>4% 4AQ%,	 V e00q2S	 i	 u@	 q 10_ p
y	 } fDQU r b0   =MQ Y 5 |U0*U P ] E
EE xE*E@!Ep81E0KE@E   M	4I  UK 38m U E59	je6U 
a@!]   P `pR	0 EI!   5 ! -(!TC09
% }V4Atl  m n  N 22 F 6P   T| uP-B E!eqUUo% 
Q@Au&@T}0B1R- 2E![ <ii 	YG q 5 Y5!M -	 U@1Aa! 9(u!8] 3 -I7I  yk`xA]taI	,A d/W5= q
 	fPA% q!2  U 
 0 EpU-$}l[&(} T $%u]eU00	 u4p 	 A@@ AKu e.M  A I
e( A3 A 	i  1Pq!u0
}	  7& V0	6` & AD   A  9
 *$  5&H
 M   G- yH p& 5Gb
@1E3m0>m 0%-A $r%-q %-qJ-a%--F-E?-1 dys-- T4! YT0C- y!Tq yQ$5'A"? C9 P)2	 $J @4}$J0Y: $)   @ # (! F }#,	 (0  @2F 0H5Y>-5#O=s = ZI|M = - =1C1 1#% b3R(at#1YQh32:d3mi) y m3%0+q1q >3+4 	:8	 3}D1-
pfMA=> &Hu!&t9B@ V1@1>M1 1 Ya}I > 	 l "4D} - Raq !W "5mi!am 	j m> iI 1JE  A "5 5 D1PU^U U =!p! !0@1%  A=0=`W=H>=  Y=i m	YaEP% 8>@ B C3M A0	  P	 4`&eG 04PI \@50 1N E0-8Ce=H M  A$ (     v ,P L 0 X T QH  0Y v,I Ue	7e PP5 u Yq*P	  U*Q9 0!("0 0 4UYUP =(P		 Fn, 	>i 	  ie!rA!>> 8  80 $ AG^@) yPrA y&x	0a-4mmha<0@D X5@U1"1Z QAQPSEQKNQ QM1QEMQ!D@>g@IQ6  ai:A
Mn,-410[T1 +pU iUmGq7 We P	 Ehi	D= J	 V )!  B+0GE :X TIpEIE5p5  $-D11u va Dm YL P 9D CI D H9 FQ49p4 /X 4@P X ` T dVT\  F E )}0=W, 0  M"0 amm p- s DR0(1==|5
80J80I  X`'e  #.B =	E8  8 P $@MH%  =-0KyU"$ xU l"= lUp1iEA@wI&@M
 HPIp`W PLI@\@yA]`H
O   9x0)Ia -`##I }l- 10iSG 
 I  
 Y z 9]M )1[0- p} }]eM". ,  p +<i %F0m& Iq D !@0!  ( a MO< h   hY	 `	@l	 X	@pU	 P	0 Hm
l h p5+
0p >5=q ymeimU+@}@TE }(8 4I h	 0	@l	 (	@p	  %7 H\ }` dXhu x%	q)-l-@lV-0	1. h@]'!0h I <u	}	N@500} 6   "0mt1%)pDpEh]-`UQ	L1,?nm @% TU0y 0S #=`@1  4 d  8 
  "i0"}	-	Z   -Q e0 75`
&I ?9 9099 Q ]n!-@	 1 ".aa / 1 ,u 	 "q
"C "&	   "w8TP8M L
@Dbc 0 ` @]!=%fi=  @Ip X B"} $8	Y qD!m 
q y Ik:9	1#m  ,  ( 4r d s0p <  	M
! M   01 D!! &a/! % Uz]% ] k,5q   M TGQ
	1 ,Xr%Q Y  =
D  V }>  		IjU%.  T  L < -YF! ! ,-NA YL
q e  D m1P : $ E'QaQQ !u  +QAM):B0 YUT
y! `e m Ry 5 A`	 !UP-u!Q A  U  0"1) &*)  e M Y   RH5AQQM->0QY%  < ]$ %UM M U ! # 3P YpTY38P"E= (E Ae:}"!
  % Ty9l% S UG	 I9 8 #Ty@	 	  m""!U e @B 1q 4% m :	$  $ 71M R 

 @ Q ii/1yPaA  QO% \Y@i a+XLHEE
DZ/YQ1   &- @%A ]R|+1ix } ~u 2ay ,q $ % o p T2# @yUq 	 e fm  uGY Y90* E 3/
M+A !B T-P9L5 5 5 T	 H Iy
`F1T B  X0 S	 @ 	e@Y'C-A\Q!0E   TQ p!5'm(m 0y5 u5 Q= Bq #  0# 0 @  SL#yX-} 	}XU; u 0 9e ]Wy V, U&y( `uVyM! p }:Qy	-C$&G `B P	  Z.) B e,;m4@="*91 ]#m0  D	 G 1 Q&Pm  #55	5, --   
 \ U/E( E !0A@iAI(%= a $@m1 bi[ l(IU |  P!qpU1ppq	p1
 q)-
Lma2-`1 0 RAa!%( Q  B
I A7 5 #a!S / C/o")-F# mM!By!B!R`! j)"p Z)BQ %y V  c)'# !E
8X
aQ9-
P1}	`D  TiV =E-5 5@ e T`5 PyI+  !@P )a R0C   X R>   ! p PF  ?H`Qu'
Q?I=%pD	 @	 ALQAD+
 ^73W#@ DW%  `?! 
 (P5 } T0AAa%<#   p@ ! 0m em9 0 Tp
p  s	  0) 0E"!]VO % m--;$%e &	(? &3MQ @<@ ,D4 O2}:;16 
   D5< 5}j1`HB7A 4?oM P  ,!,%  	Am %  ) "e 5	" Q E
 SQR	 1"9M u0+M0|Q 810P0?/E %*  7 	 D!0qp4A a(Q-AA (@.- 5B+ 2=- 0m 	A* 0?O!0! a'u0	}@): [=19 { MA6 |Mt)HV )H+   ,0@  	  (t ( }	 (   @	 uXG	 	 Q    1
d>=p 9 )  `@] - A5=dg1d)-q6=95&`E*XA @ %   A	 H`pma@]	@
yOaq
'OCAdB  @gfff  U1PU}hU!( Q2$M 1]@KI9 51 PA@ %1  
9  m=9 	 P +&A)0- U
YA!0!!@^! 0P  >)>QRa H-3a? 2 /   H%LPU|{3  p	P@1!@$!`  m q 9e0e M 	 	 d		 U	 5	 	 	 	 0
 `
  k  99 E 91
r9-q*p, 7@-OP-u@	@&P ( @0@} @  a  0J"PMh     UQ% = T .U  ^MX:%"$ 0Q3DSX1$`0 U,Q<@#t \@ x T U>0@m! 0!`pPedP#1	,Y
5  1 u'q}5-
-@$- 4 a% [
 }0q!@L ! Lf!@	u1@P o- PA 5 X9 T
	HIc%	 \UA E 
1Vm,- 1pe 
0}	"i0$) 5- Wu X:L % I  h 	%!*q0 Bp*R!0*m0P5?	+@5>	m)Q- &P- <045 034 0Am T? 0 y P .+		 x`  |0 &%#6* 05#tY8 d)!
 U 
1%8	%`&@=7[= 8
Z W]B< !@	pG
0A )}A0K 0(% %  h% -  Q- 4  $ U1" 0"*   5"!"- !.e yy
E	CM	  BE\#!_prm$  | W>	 0	]0 `60m"15 $RVT!0  !P"< S  E5PP1J< (-Da$&)PQ4 <  @}X2A "!0 !8  @}0 0 M9u'	 8p?@ (A<"@`  yV5D5q  4@R @Q - g 50 Q
3y+%	!b=) 0!4	25DA7E @m9 ") QI	uyID0 ,	2A	D!D , 9D7Y @ i  :,5 B!H  5 00A}!i )
0 	=  50ij -JZ!AAA
i ) K@] ;m!	1Q  U \+,@a ) %  Y(0$6U0qU ((<E-!I  Y 	e D ED 5 Yc	   *( K;0[   , *AQ@p 
M9( j y 4K)u	 !	1:,0 000! 9 I #p0C 4  "0,01!&gj ` 

8E ) H; 
8A /m 
PP5$P'5)! 06
4 m5E 
9y'    VmCE380)',e0.(Q 9%A (] ]@4U ] } 	"} 4$0 e Y u3	R ) % 9 Xp8U !C  "@PF@@ $	q}0e"p  S` 0H#Q8O  C p	Y/hG
 	U    0 I -@D7$ 0#`E 
E0@815M 8 C) IM`  Q"}C  T1EP9a@ 	 z:o! 1)]F!`Q/yL@AOiF: us! ,M-51))epyAa pU/tepW "	a!A0:M 0gm@:%- m (;I,1Q_ Q `p%A- @B@4IBnQ/-0un#"U $M hm & p  (-P Up
#$-c# l mh4u>9h @5 u] K   < @Q  @U   -G--Y))p.h ET15R	E 
)0p AU
Q1 p 0AO1T ] Q1}'`3+V pQ `)U)@ u 	 A"= 
0 	2 u8iL	 A)"9E`	pPe	 8aeA <A0 $1
 Ea
& 
e m91!10) 
,% E PmY}%AY9   Y 5 L)  0A	6m% Y
'   	I K-E T4Q q5/P 
1    	    Q 0>   ( Q3M@ACt 0U @.  S-q (     ,!2/m - T )*Pd !@!0 IY  M    }]   p  u B1  TCIl9'a1M@E 1 : U-PFo eA'P U A  < T@-  8 4 pMp	:{I@I@! 0	  -0) }$R- -@1 hI@I@QQ yHp@	4Eu0! -	UE$@0 0  @
-m"0 2  	  "! }   ]%%%Y u.5] y83-(F ] xO"8Y6a8QM ]\ .PL XE %@@P ]t$y -  - FE )r@e) ! 
 <0 :`m!q@\p W    02A  (! U! 0% |)0! $ |I l ] /%ATM }] U	 X!-y	  0 #Q<m 07@( y' I- eh= @$G zy q Y ,  	    Q 0  	 	   / I 40* | 9 1 K 9AB= L% 9 !$ t^ @)/ d  
Au b x  U m Y	 ! 	  ( >Y	 N  	   3
7% < q  ] U Q  h .AyO0N#XUH!nNM; `	 Q1< M- u=1n7!<0) ` 0Pq	p @O}  U0
 DE H - 9@ h9*bi]0AUB, }  U ! $!U1- >+ ) `E Tq!F3 1 M Y 
 , nT L7"$%%  U-E'HF ` A! 1 () -Q  )! xu*9@090Ld)qP<`!U\#	"9 U*< 0 (o@ w}V4 <S  U@  B	 A0 @  C-po (	 $I	  Ty !1IA0} U 5/[7 9!p e1.i
a]0	02=@
y@y 	Y9] )6U]M 09) ) !6  I 5 $U}&#9)7;Ju  @i%
6  .@T ;   0&e"4udPX E\P`@m
 ]A.  -rAPQ@Y  	++X!05`0 pU =?p  ] Ya1  < 5Q  i \x M@Q  =0M >  +@A  } au
 ;- 
 
 2u
8   	  *11=$y 1q@A#??PE@ Y PE E0aE@m@3V# -V!H$ 0D 	`V B@&]#q
  4M 0#3[ lY>A;m]9E0I%CA e ] E +G Sm#U @#T 0 y  Y   SX Q j) 	     - U0-  A+:*0Ia00C!a e. S a }0	=Q*

*  
-#I !!0A` 0 	 PI 	0% lq)	1e h=I hI  0` `   x Mo 	 c	  	X	 @y]M e0Z Q`F"p B o!p$o0D	 4in p d  l ie	j %U0]  
 0	 0=E5Y%	Jx=Pa5 0C 9y  0LJ]  Zjy 
@%p1Y q!&y; U  Y 9  :4 y L IJ A IJP% E%FY
 !*] A Y
 P5  J P	@z8Y	i0]!uL 97I1 M@ 	 m-) 1ph1? ! 	 (	 "u r 
		  % ! 	 q iE A`0UFX! M<m m),Ph $aY19
|vmf	].`e	,(E	 x*Ap XU9u\   BupA Epi5A]	 X,y="}P]HUJ @%p-,Q`$4$ ,$8  lY ]% ` 0 \-XEII0 !	04"Req-  U `$8-  QD# m(Dq)yX1bm}	DxL1=@DpH g 8	 8  U5 \a8	0K  :u0=)   
TH$5 , !0dM5 t9@A 5`o% ,  +)   pG0 1e 
 `:	  0Hm	9 -AY
q #
9
# 0u WJX .tc':@O ]"`	  QEaA$8EP9
 m JIYp5= m  C99 UaeY] 1TTpO)} ,P 0431 0((
}9 y	0 	, 9 Qe1qU% 4 * NU	eqi%U ]	.0)	8PA> :AB`PP :aF8 $( ]QXP 
0] !  @:{ @Y0mpe @
! 	&@E qB E3% : TN0Ifsa= 8!M1p=@y 	ax7y  HT N5 !u,A`.SQaYA!~ Ux1AA)5?Ae  A     9! 	Qm1)89+}4 YPE QU@	,E~&-m  bT 9I^3:  =0Et,Q+z-r5"~rq "4q U (P -        	:-X3R) E m I	 ]9 
 J KA+	D+ 1 	+bU ? @+ Rw y%!e 1aPa#%.{Tae pa aE+==E1	@
Jd=9
y'1PU1Q  'Q #% P'E-v4 0 q -< U.5]pPY  "V!]AR7<
Q> - ,ALT-"P\	 mp= 9` P	@M*pAd!% GI
0I-&aP} B$J  0cV *:	&! E : ! &1aS:
<18q Om3Q= @ 0
  G- P ET* 2 S$U }JDPCY@Y@nW mA1 b @+MuTv ;@h RJx2:  Y D - 
PQPqB=9a!#*N ! i \ G$?  pBBM! O }57+ / y2	 <B) I;0U xy5# - F10,AP$ B B(!  `!* 0K)!5A$ O~ 5[ .]]  G5! i  Uy p09#: S, (5U#U \`]
920	y I %
!x|C/uaU !"G +q:5UY' 80@ 0` x$mx\Q*0A A J
Q  P3 @ ~1=3	H}Ra X1 /} Jkn;Q i#1  @;35
a;// 4Y/9h I YM"! 03 4 5&D@NU   Q3 @Y	 	)r p }90 s 	 R yPaIW @'A0@ 7A @uEM .] 9T2e Q8H%E }0s0= E`@
=be	%,  m l}% ``Y Q!P] T#D 2!UP/0,AQ3!Ui!@	 ,@D A& Eu q -a 0}`I*} -T1 E#p$D=W m#E L 5Nua @ @$ ]	9  (%L	A,} SaY 0#Q0 *` *P{Pg@IaU# QO9Pu`@Hp@ Bu%ID! u: -&mt9'[ i+AU/Xmm   0YUAqdI!0!!@  ZQGIpMAM,1y5<L"q)	y0"|=  a(Ay5"YPY P!  `A5 \PJ!%0N ma@_i3 PP=1 l,=1pm p,'m  <$ 5,0UI  5A+  &#
J	

` Z }e0@! GAQy0*|H|1 0)=Cu 8805#= 	 5 e%  (M9)P#)@|l! ] L-? -zH'*)0-}1 `s { I02Z u@ A.%	 !ywy i%yA q} @QT $1 2]q<"Q=!0D==Dp @AA!HPW '8!G0My#
1 3" 	 d@a@1  \y U	 V@@0@!"@50mE Me#kmu  - P2m#.,056@ }Q Y# M	p	  )  !Au eGEAqe )$O:7@YNUYJ%E 80 q"q 0q0.qIE01 u\@%5P >'-! 0@ CE9	 	 4	 [	  $@W	  @) @e' A U!AY`PM-e ]('Vf)D0	 A 	 V M -E=-r 030E At '	"e .e U2ql]'1) 79 y	 7}a'2QPe@ 	 \aa%  i%D  M QPE2 =0a8)Y5(Ep&0) ;!*X=U?oHIm q  A().@H [ D2%@(H8B
U	AF @ix=[ Mh58.6y 	 D0
b0 7 Q (  w& i1 =$   .}^P%`EC  00il/ ? bA/		0 gDm"=`1O}5M%~Y.n >p	yk50" @s hh AI  LU $0i
	| 4  	iEI 02 Q!yWe,% 2 ,} @2 M  2 Q!^1
}*1 TuM Q b WU7E-  A,   - S} 0N+iGy
M %,OC-5K"M`(;]d 1!, 0 - I mm- %)={AY h8q =MY(C Jl8}n0)- ')% ! G*Iip '/ G   WEyHy q4  ! *@,.! ^)8R	#$D] T:PU 0@YSIQ7UuA"A"	qPPW EuTx4  Q} IC4pR9i
) 
 GQ QV^2Xa#$RB%#4FAAQ N, 0AMA	jIaaYL 1P	}m5tm],(!LA	4I aCa!  a]A]xED !@  +W0y@"] T	K>  P y ^u     U    4+$,-; $G- C4  $- e@%4`@ImD[P=9iK-   Y!$=%9R-Mm$=y  a I@ _5C C0C  _1 q?10! 	h0u -9 )X 5e 8![@@U@@A@FxD'   D @		"p8).>I)= _CMB u]Ek1 @m F -?=$ AC	`Ua*1I 0P	  U0@9 @[ 0 mG-],B XW00 -F
	Pa	P0y l  $% P
y ! bpm & (ea @W	 	 %	 P	)``PMP  i 4A4
IAY<AE U}5 rE 
<
Sm] qP 00M`5! 9 C1y-( "P#@T ]M 75@A
+Y"$1- %')1@i@ Z AYQp@H1PFR  0  Q p x   =   p<<5 w #h!
Cus$n0)%0| "}C&-=2"1QAPI	#E<IEAQ2`!(008!A	,&E 	5)AE M 0:Q	 I
= i7e <eLmC> 0I  C@= Y9Q e\   o@BU 93u=e?u05cYB@|,a`y`U
5Y=- P	!P.     pAY  I/iO=%U gMuQ.uu.u1u`885 ujuA<PuO!& uAQ-e DuqQU ]P]@191 $> (
E1P= 4=  D=1%5} } Du !	P53I HL5	 T
Z00Hy 
9$1 QH @F0; pN]&M1@vi<pP(0_U 	Ay `!5hm25 	y !0bM- P- 0}1Y7e|	y qy y wl9@BDfwM YAx5M A92a(1S2wiiAiQ=iAl9$Y<xI5M94a:. "-xqUDU19m< xlQdEUq3Q$E	  I  5Q- e	) U% AP* A9PD	 @%aYaPUa\$Y0x)	Y E0]XA 
m@m mK P!P!6iR}@BU  0@E#PAL Qa3EYQ1r)DY@9 \KMAY1 y 5@A }   e w0a  -f 0 m4q	Y=O`P =JE_e -U	! Z)a >p%)@Lp) ) 0
a y%)!Y Q9AA% 	 	0 E!\OI)O= uMYzY \m#)11M+%  5.v  D`  Q]A]	9q=&9(Mj]i@9e >Y	 @=@Y-yyxLA yA$ % b	B  RQQ!	t}&GU C\4b X4(#}Q@Q 3Q @ >V(E	EBOV1 @M  d0\$\  M@-M P U 1=0#A 0E]?`B]@~] ] Q5` ) %@h)a?UUQ#{(p0fI K  A+u	@ m!}E0H}60&0h  
  	)	 X	 2 y0*	)  t[A -P,A  5 wA
0`0"0 05] e MT    2*  2  Q@M t<!Q#M-$t<  ( =!bEAM Fq m 4 =%0 4 8'U*i0"U } E0M#)ed59 $ i1/@4" Q%M M@9!i  x'!ve R\= )V-    / EhY }, %<YA  0@ Y(Q q  U 0Id Am\  a1! Y	5`G!=a!q$} <]\5 ?eA  f { U#eAQ_e$kea9,m <#Baq!;'y}ew`T cI1 	  9Aqu   }@I(EPQ	M P)$A1S% 1	 r   w =	  x -Q0y00< < , %80 4L)= -M@I'p]4	M@6iU@U3$ mf5E!    =&Q0Uu y $I u qu&`j29 9@:[ uD!&$5'q V%G 0mA - ]-5     ) Ex<H x<UdI eU [ dQ	A0!MU9, E+	%0 !` qY%T>Y@bD =M	 C0R} S! pH@ e pHa!x|3M  %u.		 p}qx!3;a%yNtPQi}P $	   yEM+ %- I#)@9 I%U9 v Q	  L/o -'"2A%K /)`9"uO,Z U"@2 p(P+ @05 h)< hYp4	L	 P% 5 H@ $_L5% , .}'0pY 
G-X $ 9 Qj9 	 6y& 	0
= #E! y K7& 11!qE ] 
 e 1 M	 !A  % `j d pqKX9 \1 q5 A p-	8E h
-9  =`u9
p'- *!@	P]-0I3?2/  	,@];=9 & 1 S `YIJa0]yB}BfP7H0& "  0 Xp	5Pc5 )[MM	L-7U0;L 1@<q0% 0: ) IZu9@ ) 
% 8E=MAa%P8v "   8
 A %+m")05	 \ % K+q@1m yM}y
Y$ m xQ 	/<%; :S&X i 	  9)9c} Yq+FW )X$"Y%0	 XTbR%88=@ !%-\pY1	 ).  ],e 0?CAY]8UACQ= `;0Y@:u 	;I,)j y<tL* EP ;Gmx- XS4CUQX"uE w!U9A"   `	 0 	pP L 9T \ % \  a
 I  m8)T$10 m @0(ETA( ) dQ$ #d$!%  T4U	P ,d \  `  m  Iu i?o24@A a QP
(%%Q& Q
vN
0	 @0mp W  e=0$R 5 au$e7D0 @y
Q@00 a$  U(00M0C 1

@Q P   P  +  @d4GP` :	,	 	 tU) ) 
Y @5 9m tB ) !m1 U2mi ,Q-Y 00| 	 h X D ]@	 }Amy)PI0I xI@Ql9 iX44F Je !! 4!0#Q qBMM -1!`2$AaPJ1) 1 % == 	 `, 4MD M =}0! Iq%,@}K9 I 9 }/y#> Y,o XDa@ % %%@%@n% 0* i X40D0(	 d Y0 "9` hE
 Ve1
!p!qMU	0!!-My a!I%B3Qz (\ 	 	0   Tm  sP   4!2 0~  0  P?fux|  ;=(  q RqB59! R%"550}U y}0!00-@!0 P`J10)- %0UOIqP90; 
}` =PMPA@A@	 pU=B
i PM uEp5 I@[U(P03!" : Ty0
 1%*t7 ym /U { s I&! ! m__13q (`A$% -iq5 g# ! G%aY pQ	%/ u$),#v$! }(QGSD e>@ G	@ <0$!0!,IDu>"1C%P UlU DI2P#9i+U0Y"0u*Y *5.  u Z	 	 t@	 ,u4=1=G	@     }`800 	CR0"1)M@,MO-) 4Mi 	 <	  H1 0	 % 5'$E	 P>(	 6, A 	9xU  a	m0AC-P
 1I	(14! 41*PE ^
 
p% `! %%0 = 	 !a.V4%	 	"O p)E#PE6	*E q E%  55 }} 8B &M P-p<g08@<	Ef@ A :%-0 -m h_]p4	L	 h! E Hc%@q% $	1J1  95Lp!0[@YD0B@0G)!St\ 8<PtT b =@  +	^#9 1 Ji"PjM
N# A6\G:q4E`p' <0 p1*DvAI uA <:%3L} $) ) E5! 1 ] 2=0M&x<2/ 80 <0! & i M m&q-U DZ!+5808!0	Dla e8t3 T{P)p	 (	 h[0,	 `D0`01		 DQ4	 PAYRm 1		 S U	 eP	 uP6ouD8     4 m1m 8 $:p  1 !	#p *5H UuLI A ! ! ?-/! }Q?/B BUB 34G/, *%]7MuX, 1)0-r) b) m\r	 i	 :fM^@	 pCuAy a?%`%Eu
>@.q
?01 >F'1
	 :	 :%2()!m)9a/` 1` !A!'a^0y!P5FDP9iP5 h"`jFoob q!11 <(@ 	 UU"	 D` VH)7 @KL   	AAuM12$  :0-:2 Q.Fm U/Hp!,p` HeuujP!:0qX P@"!(ha }@l y ne1a?	P`tA#a4 @a8  Ae%,E ,A	 Y} Mn =15 == Ne;C-!#pa  !T45E -Ul: BM P@ pEU \0"U
 891QTQB\ ?1 !P %p% E -! 	~ `cU,  %az
()im#8-@@T:R=h@uS), QM`0Y%  0]8 S1#00 %0%85A	 `E.T@D@yA@! q0-   2o I)q   5 3y R } A05M(oA i p@ =`	< !  1 5`@ @ @}-	cv		 "}	 1  W 0  G @   qe \a!-  ,eIy! m$q@" T$!9 `-M\$uu% 7ge ee pe (B- 
uYY\Y  2 Fc  P
< V$0`KA0==0]`4u} w0)4dr- 	Y1]Aa0+eSE0	DY I a4'EQ @1:qXVX$ia@PEa -0	Q zQ $:0a0! q  q Vx,= 1"0 RA'1I At-9t$G-2M  ) U n!"B2A O X`1 !5a$ ak@0Qq u(1$QP	@ 	A} Y I   p  09 X!E5 b5099 	`+=0=@U= =r=X=@	=@P= =  D   abrq3u 0i
-  D  y
m 4 %3 X w A5  1 CV W xA @ mI	0 y9\X 5A.eFCTQ0m  Im C% $"%a  s!+  C*1	 0J ! s$! M  M @]Pm !H   Q (y0E A U Yl  `B B 	y)
!%@+   (!"$9S I= p@I A= IA @ YE	 @ eMM dA )02Ap Q 40) @:%0E`  T 5  Y @ 00 , / 0y 0@2e)x %X)   \%% P  \ ]P]  i @ RA  0I pI `9 PY`{N `xi PI @lAhH` ` (p@Py }5 IDQ`p!Q0@!  !q ! !p)%)! ))0AP]) `@)@50 z7D:C
S Py  0AP9(p*M P[0  YU	A-P	E4x t   5	  # N3%T0,A`    B) 0p}JN i
0!     YO- LM @ 9
  ?V  ` ePm  @_ 5a  P}^  W`?pI ` E,9)H_  !" (  S *    A `     !!, N A^AF E L ,(  |+ !E) w 
q 5]J!@G!`! @	 U5  M MM@ZM hMMM MM M@M V.M M1M #MVM MM@M MMM MM 09AQ x-Q 0` `$0 `($0 pu $=ni  }  ,`}supo ,0:8W<3i la  ] p4	 @U  } 	 )  LV;e X lV  m`V0`hTYp \@@@U   	2d (``:5.#10]Pi D X  U  `!(5nA `B 9q`maY@ Gu(}}$aq ]4	 ` ) W=J) []#i0YQ2A Uh3  
=ui	 ` PH ! @ @0K  m0+1% qkP)KP  5 &< t    x   d   @  !$0 - ) ,% Qe*IaP- 0!^	Y @8 U S) E eN5!5H] /P% =  1QE ;q  9/ $
  } P0]ia78!  *y
!B%$AA!Y r aa5T	 0	B,C0	 1 Q!:+0)` 1) s   0z$! `&	@ !@! A  	 % e@e@}j@xY E  @U CA5 5@5@S5 q5 % U	 5 @U@c@!5@5 U5W@5U1 1@Y1 G1@u=@= := ]=@@8 m  1 _5@v5 *T5@5 %Q1@h1 1@}!
D=@[=	=@r@p@9 U 5 '5@KW5 5b}45m1 r1@=1 1T@RPUe=P
89G@E@Ekt1@01  -8p1g1@#1 10 +@)E]
Z9@9 h3U 0& 1R1@C10@`11@1@@*0 |9@9 q@@m 1PK1@1@y Ah1>1@1@PW2	1 11 U `I4c1 i2C  byfe&= 1)>#0#0I A 1EBU U0 U0}}$lht@ 2Q @9 @`!`3| 1`@$
-`+`$ e 55 "	
3h` 	 ?	  k- r5 Y10)@Y y1  P9 dyIbA]C]A]3w@0=#P XQm11 1 1 1 e1*I 1@`      X   1  S Q ( &I@00Q "0A II 	 @ `   }eX]el&   +A0!+1p000 ,06 e 11B5 \-	a i	 i@i@
 @@# 0! !`	 @@ @@ q@*5	  	 k= %@ i` `}5 YLN
- ! -`	  	 	   zz  z0 |u01yR81@- ] L  M, % ]0! M a2!uA.0 ,] r @,y mjq PY     H)   X   $A 8 L (    y@C@i @2iPii !@xViw E@oUeq ! "vUU0 U0  99U @]U  5@U92I hm h1<Q
`-)@G]@z] 0* mA<1 UY 1]
3API  } K 5 5@:zg5`C5 I 4U 	UJ1gBz*' z:a5a) 0 %`% + @@9 & %@@$
%! %0 @@ *Q2D)-
d(P P	} )	IP5P ) ) P])@) ! ]	] 0
@
i-q
e A:
   \) 	 $A$ 
P %1%
	 08a

E0q 	)1

yi	' T,M ,6U% 
80  @6    %DK@  l h  yf9	%@u'`i	[- U 60M6< iL m i 0+ m DPXG P
qD& m  1tPO 0Y,Q %  M}I#0E *F-01 \	hp5 %=! yj % p  ,a3Z0A00% |u 	A %@@% [ E
 U56 /BE R>aA	@]:	   *( , bQWV# #% #I  *A E E 6Q0#0M -P   
]  %Y"B  Y!n>q HH0 X $C< 0m?!#xT-m Y 	   S$9 u pQR M 		 00	 Q0
4# -%d M <A
<-	Q- z[A.DM5	- [}	 	/I
`9Q) Q!1im -Q- 	- =  !]-7H # - z%   wBF
A--  @-- m5 5`UUe  A0@ B] 	 R 	_   1XM:(0! - ru;"MRQ"= C%( Q*meO} hX= : @`U0
MMP9UM +YM0-@		 A  7f L aPL ^@W Lp  W""p@a=WQ!   !	 @  P)- (N	 ( (  8}	*I B	A@ ( A , 0  A     &-E 1-'F 0 @ 0  n 
 P?+_d  Y / m9 i  p`@`p p  % %FDmI 4`) `=SmgiPN)#1%_ !"A$0 0 	A T eDz30--   = =)-  e "- C. S)c.y E< I	;j2= 4 v9 TuL2uYlL *%I"1KN]P! Vme!

KX? [ypyde HE :*]T1 (Q  -=y(1 l01($"% 
%  A2Xm -!4 ']	5 $']T-> 
!&	p q#Uu1 2 3)0=$)4  20  EA -/b%  ?A!c 0  @@D 	 8	

145 >+1eME9 kq 0 m0% 0MP 0Q1pE &  +   Q C1ab 
n 	 		 @@D	9Y.YC (Ys98 Ax sI	 g 0C-E pUA
>` uu)z`7E -0 < 1EA Aq0`e]YI	pvAA1%)m <%}k \A 11gI wE@9%@EJUQ   a   ,5e1Yq> N =  P , R!@	 < 	 U 09 DP f  U   pG  ~E[\1 A?# (MQ P-  34#M ZM  !E [ P `i	 t T0M f Mi\ApM4 	 80i U\ 0M3AA,@ 1 
  sY G- @ `P= 
+A
5!q 	I DlqPU*  0Y0DA!Q Q=5U  W `-5Ea Ni09 zm  ipY iMEo\  JM He`iU	A53=UCxY_  @% M%{	L0,4N  )r0B=IBM2O kW 4|EY`!~ !@UW!u !pN!	! `E!c] 4<e5AZT d`*X- $85D (` !  &81!q- Et9 4	"0  h`p-	QJPa  !a5] 0	0	 !
% |1Y  P0 <i	5	 )IE  P `Ki!
U E/!1 t9 k9 ]\]R|u!6 $4  CUONF  w} V4m Pum2DT`(N "%  X0E 0 PIi -  n0&%P]e2iB% % j1f a 111 ZWA A3H m@	1 	0= 0|! '@i".=^xY 8 1 5 L5@o*!% Y &q
,,!*u0e  q] |o%- -- T)P0%m 	 Q"P")PP%P]     i%  4r )PL!TB	5 :0}B`    *   TY
2	 S2 7p  #}`  2y$LMb	12@i$8r!%"01 0*D:c -D M uL "	1iLE11>@ I` @@@@ q+; 
  1!l11qp)J <) {LPD @ @@ Y5A PE)  	  < % ? $!m$!j	-+ a	9B >! ?%?C %I- |-- Q00!5 mx0Ep% L ! @
	  Q) .80LN  ; =Ls
 &    R1%@%@%Q1U!  09
/   @ @-C @m  %]-YPp@mC<  	p29 (	[ R-W K+E o9-D
@	"    O-- M @-- +] L& % D)4?)U iY
,  ( 4r  s0p P0Mx/0aM` ` @- XRMMAI=A (i;E ?p
p	 `} 
q P p a)  IQ%  $) >  ) ,0>Pa x8K u=iq0`. dM T 0i 
M.y @X 		<T^ oMPU m
2q\}P"I 1	
 A
+ av7MMZ 9% Y=1:Ij-`V- 
/ ="101a0E>} t 9   h@H  \@P   P-20q8 A H @ 4	0PJ d	 80-I   6h3X p  0mKl1 a  l =X5= P `Y _@R  C	04!F]9 QI = 5yM	 9 lU,-  k j C u -`TQw V ?Q] 	)! tq lC=\@g] !||!Z-5;-5  ;_q - R_ )bImm1   R >+M1! sU	 SRdZ;a +)GB!!!q
! ?A  ;%: :*!YE A} # )  509M5A) - z- 8  a
B* zmDw)P A2 Py  @`	M   L# P T >.6 E :I/2 a()4 %V*  : O @a - 0#]e ;yy YI\dm)	  #)'3XA!l!U1 ~  " xd!!C%t	 u#21    pF! @R U49(} a ]}  E/ L @uGy' .  9&%  SU}1(0>+>.+>aY 8150IB! ?) M$-35` 
	 U09A=5 3?`!3  
b E%A0
`   	@ 2$9l pF 1I2 @C'M   ?)@PA1c/  =% 	  # 3g{m }nia[mM!!0 tH]B:xj @0tgx11i:B	{!3 !l 6:d&*e3  }a`U Y  E9f9 hBI M0& 06	` `p  &9 1`V&?19M) 5 - D1 1 15-1-D&	m	A
YHE
-	A /!5 <5 #49 0@$ PQAAp %-5"( ri	--,

 =Pda0 %  ZPYI	0& @ WY ""*0   P  *  E    00 SU	P	pG]	$	p(0"P(,] } E p :  I qp! q  j me	- e   1y0 *!!0! u*aX:/a		 51[	sdcMMJH#!  %%]5  *:-I731 U	 =)=@m-]5 Uu2qtETa E35
 !`!!10!`8I I0E% U U ) %- - 	 QQ0 2M <!! !P2,<!-@ B "i 01<! 0C}* 5   55 t5@r5`S<A mk
PV-fa d01S  11 1+ +." 20! <M  B"<!%I9	R d!J0I Qi 	 ] Q juP `a} aRF- aP0 a08Mpay!"QTI?V i 3>C (  )mH  %	80c 	P ,v2a5w$- Q = a8  T   m3 A s T M   U	    Ux } P= )  Y\}V4  m	 l  nn  b]uZ!%98u	 @$02	 		 @	 	 	  	 @*D  
0E }0Bp  b G` ] Qu /A!b    @D y84 )@ aY=1) :5 y -P$0 9   Ua(a
(EDPa 0  P# 8P S P  (Kw 0Q5tDrR  M}XUq<D 	  94 Z i!S	  d
u*rR }!`!@!p!0, 	 A!e%= ===%#!=   e  :i e "8}=G-))a%	10!Q	 Q R! \\]B	 
BViX@11p5 W% 0% 90! =
rR1`P-  m"V*$Y 		 E0Y1		 " E) 0u Q9
 E!M@AA|+  qU5  ! % %MUH10i EyE]TALsq| q  0U =w 6- 4m !D 80 	080m 
5@0YPmA$  <Q`  h  "ED00 I% L }A PH	l	1YA 
	:@L LDQ#@!  P%.#O% d	 \m	]TCEV   Y euLiLE+55w@E f@Q m n *%P-)))")q@ US  UF@^0U@ PV -A-80009- -	 -- /-A7!Y )  V P!)E1 D@2)Bf) Y aa |%	A4%+@e 0# $ e8	  !}Yqc m1)IMPh   s @E"}
I 	qS
E	531}(`:`	 E.1>=q qYB]0Y]Bn@  i! @tB@M2CM"qAE >].QI d8Q W  2)2# /D	 oX H1TY q2@Bm@h )@F XB8Q+P CR Cw  3  T G]M1%%ZPaB}}Ra@PD,I -%0|-	 m q   	xE z 9P:  i 	50@ i!12B!2]L,  O}=4  - [X	 ! "M 	 	p
%B%(9A )% BV 9Ay2-Y)!E}6= V}:}B@O   <]  (	Y >^IDom2m2Hq!24reYEl U  w! 8U    @	 $a	Qem0q1!.@i1%0@(Aq 	9<-}B}  X=AI9 9 SlI&	A  U L y U] A A EpD5  - tA>!-< )) ) u  A0JI1@	U 
 &C Xe 0  I'   ! * d0    ,	 `) `uj 
0m @0  51+ U5((01(MEPE05 T&}    ,   4 # %!P# Mp`@  1 d= - E9)I0D	 D0P@Y U0C/% ] EY n ] ~XA@AE 
mA@AP5I!e "CR!\  -eH PAaP#`9dWK k} "I 5 4!OD" l $1F[5    ! ! Jj'J@zk'z' ;j zj !{*+pG`FH5} %%% %%b   * FD  k&k*   0Y@@?@>R}D@Q@@@@@%@1 *-  P 4  P	 P1-    0A %U-&Q=103t -26$eP  <c}BT EQ1PQ<r` 5%5b0c1APs0I e MA i#0qd  )Pupq  % A AE0$/ U)  ??Y-P)/@ = IIIo-PY/r !V0  =!q ? c/  !m c 1 "@u=0U9 " I , q`eU 	 s- s=   [m ? i\$e` p!h `~y M B@
j8Pa@@9 y^  ? 0 ^  mK@  a5E9YxU    P
gk KG{	[{ k{ 
 A     ACl?] ADE t@ Q  0.yI;9 e9  i2XQQDQT
= Q!EX -E]0	  :tt9 9=@	 C}	=P 	0  jU@U	 q q  '=`-b---=@	P%  a Pe@e Y ,e)`M7IQ 8Q@/QQ@E U a1i@2`0%  <1a R1 	,0a	@. $VT!!1M % ' M0i} }_y	1p11	1 qqPq@ 
q (a0= i= 9 5$03QQ0| T! !4	 a 40m  2gJe0S 0u\   5m==9 A`AqA#AA s,  L3m53 5n1.nTylyyyL" @B+A$= ,=I9suuMYm 0I 0P	11= )9I#M   IpIII I"I M`M0MM0MB %M Q 80  mE -im!e1?u=  -9 \la<!e%5	|}}` ` UT DY)K)])E4yA < D A0e 2' U0R-<- - 0wqqwa:Y? Q+B}9!`) /Q 19yUHIY1Ip  4( P	BDa EAL   ="K|	  XYI `5- A ]&1 0r	) 0",U0&)5 Ia # a0A2    0#0#\Q Q`p	@}4 8S-0#'#E E4b%,0ye 09 ( 7q	ii] 5	eHaiS7e}	9W@AAP/Ux	 d`m! ] u*BP1`	 |00 b    $5 @ QuQQAE|5P04 U!NQXM @PP 9P ]	`G-`pi4  l   `0} h 1@AWV
@}YJ}}A Pa]P- E d A#7Q-T1]%5  0a! Ry0 MZum $S.F! u0YIP0% poLm L9     VZ`9a#PDp%!U Y@ 4]]`] I 0] a@Faa9p@ Dr0I 2)I	
00U-50)J,]	]M(U p"YSXE 	9Q999 [00MrqIh 	Pyk  9Pq!aYA!3 <Q!0 I$,0?  T@yA= -!@:] ePMiz9 p0P?  @:Q	-!
-  @P ]!(Eo  u5A 0
	e  @  mn YYE m.@	 	    i  T \ d N8DP 9D9 l A5( A_ @c@0	 0  yAX)	5 m m m`m 8 %?/= 5 %u=t9 9/C&8] 0)  Q 5(` }0 YPe  0(@ % p 0 P     		P A#EpO	( ! ]! (I   9     %  %  ! $ "yqu j 16q1N0Y    q`Ey c	 '@m	@#(q7q'i&9q ) % -0-Eq qn !F	0 p 0  e9e 0/00P 0P  0G	9#
5-		0]  D1 ) 1P1 >m3Z@T $Xi	!51%  . Cou @Y'UT- $P)YY  Y&[Y 9A3U 7%C=U e IQD  W SuA #6=:Ci0 td%%!%@ PAp 0	@
!%@ Ar!0^@- I"	 Q#@$APP- -J}@%AP'a(a) *j +p%
-`-[A23 49P5<	 5" Gu U,JPO TM1` ]	 1 am@b@c@d	 uPe 	 g@huiuuj@kA@3A  m 	  00EA%-*s =% |	 !s -}      	Pp x0!p@ PE,`9uT`;F*Nm}%%!M%I  @A
EE= 1  SQY)% #;!;@CA0  0Hi<`@Y!Z P-  Y $U?U o Qp ?o?o 0 L L   l2	m  )Tg3`M.1 T$0 	P !1 o5p 00T0 @  P) U T)@PR@4 ) 5:*I u 5,"E<	:4;,P@((X@EDAu%5D3&T B`0	"0  PEL B* - 10n `\   "R PE a\ `!B5	B - YE+C! +.B-@ /h } ba1,\! ,X1 TQ- , ^% #B@. "B!B@ ), " $ 3  2c  0 (5P	@! 	0q\P>C ,N	  ! E TE bE # !A ;  vA]@ 		0   iX\m nUA3:YQ$ l k
 $I k9 O k9 |YAr  agQ 0+1 )\
 (\ y`- `- 1P 1p188P%`F Fam-Y	Ei3bB@ 9 !,pqA !y?A TM	a  M
@?y0D5 N-,-Ki6UA?Ma!0A-  ,0]p   } U p` P@ E!E!0 Q@`# `LPU1D0%Q- p-p-1)PU   L 5]- a:?:+q U}r;i5m-' qq -aB` P, B   
` ! #B TI0U") ]	n	\q e1[ -QO-lM 9  + 
U 	 M\\@0A3#= $j0))      P	CD %(a8P%qt-v!Dqufu }E [PA mpbYP`'54  :` P@@ "p 95 `]:8=5(Q!BP_ &Y&/ y=!uY7Jy - 1mA  }i Y"'i8aZ %	F
RC" A0D Y!9 O\!`1  @`B 	@1 B0P! V]p	W1 h0Y$@Q@ q<0m%0 YWf! Q }0BU@=BB3= 
 5 I0-    -P` ) Y4aYY4 
= ( : ! PP?{ h %CY1@< ) P*$`ic Y  * `0 E  TUp J X 9 -H   0mQ 	X X M P0	 T0$)l 0} uC*492M % +1p 90II-0- @- - ^e- 	 J
@!81 a eF	  PM@PPB- U@Ab AbU mA & U!!rI= A
p `5 M ]q-Z- `E5p 	y1F  `H@I0b  
PP!aI )% IY ! U 5 z`&1 Y ZP!J A % % 1  10 1`!1 1 0  % 	 ) ]P%0] ,u    Y	p Y 1 "!,1@ Pqm]P@	r

  B %M q %p	p %p%P@= `	] ;0P}0]4	  `,7i@qLL5 maYmQ m] !9 A PZ      q@ 0A  -m %5  6TA =%) %  a0!`", ) 0  - Qt5P) Uy=m ! i9!- QQ .Y"#E  @@  00 U0D	 0!@5b    2Y !5P[-PT X- q 0 m ! )A @ D0A  i= L0 c4A@ P9  ` 1!  q        Y"  eY   `) $i  2<5   C # 0  b /o  b%!21 JQI!@) VAp A R#U  !A  <  P   @5 e@Q 0 e 5 1@ 0 ^ m  p	 0@I^ 9) 1 N} P0 0	 "  S@  \Y p@- A Q  R 1 @Bm T,  e ) p(0e  0`00P0@  M @ B R @  ! 0 < S
   Q0   0C - L(K o/ <?q$V0R+C"q' 08lx$le0astz yyyyysszcfwD txhe LumaoQ, commit hash,  etc.^CF0W70HW1&per rj!dM!;iypj p>>De4
ipt Listing of  all pr)#itl ProcessesR(u`)))0-S2yEmemory"> APPLICATION''''1'''' 0%Reg ">BASE'' ''Bytes fr e''Tot),.PA!0@Percentage  usef %u%%</coonC3iP>
>
%  <?xm l??' !DOC
TYPE @SY STEM "v -@0.dtd"6 v="1.0"  B </architecb0<</(bicore"RST3456789m  0  1  r12/spQataQ lS/p_ptr"cpsX
+ m="25#C"@org.g,gdb.arm. vfp",,,,,,,,,,,,,6,p,,7,p,,8w,p,,9---0w---1---2w---3---4w-`--d15/6G4/0;p;;P;;9 reg name# pexc" biz 32" type="" group= "f2t"/></fure>
</_get>
   BM 6@	 ;;!p w(  ?@@P 
)dmc:/boq 30dsx_app  nf/mv[Ts/ b o o  t . 3 d  s x%$@H@4@@@U@'@(@@U@@@)@U@3@@ @+U@5@,@-@!U@1@"@7@.U@#0/4% , P X@ p x   !   A PTu0 ne<e boss:P au  nor cfgL csnd:SNDdDSPfs%0 Lcdgsp::Gpu http:C USER i s@tQv -:ro3ic0d- eiw  i% s:6s UDSnwm::EXTp  sysmpxi:dev qt mpsl:C y2r:uso c:U;q--pP#}(c) 2_-A2020 AuaW>TuxSH  X )P0 ncs\tworkingx/ &  sic GDB fun  ty0` InputRed! c ta4M(PoC by ShinyQu agsire)  Specialbanks} :& BPond697,  WinLMute,   pie62, yifanl u+ L clNibtri7oDrs,
  ot hJ people Rosna~!$P' 'NAp_Q, p.BgQo back.BBBBBBBboH 	Nps/%04  0-s\03llu_top_right .bmp Se`py.p4M). Operat,succeed)New %menuCh!6lliTa'ke s< shot (slow! ) Debur@@;nfigura'..&cr$filter Miscella neous o+s... Pow eff R- BCi JhTi$@-Pp O  ` $U   `
 A50T }x=1@8IlNl5 8r1xL0E' 5fH06(x'< ALp`$@<$$ll !l@ x`pxp`@;</pb< Hz<3  PH$	F&&5|ft M@l )|0  & '=H  X38|| |88H0ox3T3%}|(48'TLdd LL P !xB' FU  T8T Wh  1r@ @@ LTdD 0P: @u0Ds'(H| x)'@dx ~41F6  &   060  V17 ] \T\@B08 _Ru0$$B3au0\@&9@[1m>HP`C0lTT0csB@Q8H xoPHD >D8%wSB  0TTl 1 #|@:   50XC0I!@RcQQ9  eqX4L@17B"aP 0@[jE@@HPp53!+`20QdX?@@SL% 4]$$8 {u0 #2T(0$3Q/  Z  !    T1!C m@)M00/ 0C 1A;!G/(p0k@|#0a  M@ ( 3  x@@ |1P<%PPxPP\ @%0 @1 (0 u@n <^88P  M3TPT8@Ap@@Dx D( || pHpH\HDO Z70 0t  -0 	 L4XX Xd XDdTL `<D< |"/  @D8@862  @D  `$((X <  2$H  6)H$H DBDDTTTt@ttk0W0P0( D B @`t@PD 
Ap%`` p`Pp@ (%`j 10% 9`B@, ,@p W@HAp 21C b %`<   0`.   (sQ2a   p     1P4@/ 4b $DHHDDX F @@'(((($ $P UH HHHt@A|}    	 @|DD8/P(l  $	$$0T  8hTT8@ <@@8@@<  DD0  O |#, 0 I v k0  `' |#@   T  0HH 0 `800tPP   P@PP0` pP  888mcu::HWC v
Pv .#	hh6u%%PLP3XDSF-1ac:uABCDEF 0123456 789abc&@&tmppBwMi\
 .1hnblaunr_ ~e,:REG hb:ldr(    B
G P 4Pie6 	sR<S- M6#ama. a,@-+@ @0 w@`|0'PE2KIDxH1-s9sK-p farr N fp=2 pEy  c	u
An D ocvErrD4 ) !
	0  ---

J% p
Oy button mner r  2 r3 r4 r5 r6 r 7 r8 r9 0 1 r12 sp l > ps0r p_@"!axbo9z
eed,stru;VF!P\nericrupcard rLexcep+ ult)  log& p Q]@ Y    U q  Y    U   7 ? I VT `e)<NULL>   gJxml Ye cfwvm/@ 0U0 <?/0 0 typ KCes"> <Epi  -p0 e="B">"%s<$
n></i
> P d1,PatS$b=%x@fuQ@qb:osa: T s Q+;!`+;2sE+^	p X19NoAckM%Af	s0
PvenT"Ex(IGetAEddr Sg#SJ5s RX )b	 H!@3iv -i@G	0P	 ,	@\	 T@h	 X90u	 R	0 	0R	 U ~0	   2 $-  OK s /t% -1,   FCF0; o close p pwrif un lbink `	f
{P   A  R   hA    9 *;c;C Att ?B" F,iMusEbmpty Run  @ \   0  t  A/+!'+G}pe(wtf?)e`
GT0fq&b,CD2tnk\a81svc 32).
vAalid| 
 ` en0,Exnm9y!p refeQ$ m()Y`*1*/5
 ??? U0-4  n
 ;	 CR =S 0a =P
TTBR1 = U#/ 0Unr	gnized#man
 DFre]rv IO S"I	iv0at6hap.ou d0ilasCOL.quesfo! transl m
 mu5 g'ereg` f"lush.s <!
mUccv% * 3 6 j = E W2 e o;cmds:1  Txth0 *@Pd@e_@f@19P6 :e"2a@2bq@ 2 -1 T05/ wm `Sn00P	@Dhwbk:e arF:Ik	kn poincou	
b wa:{ey04c	_return: x; W00 X0f  ` @ P  ! x3 c@C   De% F`  g 8A G  H k ! m | M= p  PV  q A Q  R  T dA v l X } z@Z  , QC%,Z , idle dynamst c io.dE ideal :A,  YJnc: TLS: Bscr0l1XP1`2`3`4m) uclu$e l"#(level 5)77nP@mAJ `	@ />0/N@.txt
 (xn i* (C  N[p0]@NrM@|tle 16llX Ct|;ERROR: ! 8 (t ritqJf2	und Miscell aneous`O@sh{hd:upmTegEwo% 8SbAdOT7ir:Di@ }?pzrBj%jE uL5np?utRr^7ohpp (`6/+!%hour'@}3DUp/)0inute$0XE5done.eUs off:Ec%02dSP/H
342  & RTC up %
You"boot&1;p0 A >B S"z3 Right Left  Up Down  R L Y C hang1#" c0i o(nc time!dv a 4NTP Save  q&sH JV L S Y _U d g l nU p(W (A)  Zombie  Rem
&` .%8hhohu %s%-4lu -8cVPvi<ew7-PAD& X , Y
0,h3. move j[se ar,edit@L or R$w@itchtwe]$. heap cQ v  P|  x x MG . >1,$, i[s*%takOu 	  /luma/dumps /memory/  s_=@_%.4	T -%.2u.bin %* s-p.1P[0B@	  med@pera-ted9Usn orxTA 
Aal7loD#.
Please un scn`i"o isto rFstp$Pop<0sN1Alreadn ! Ca
n': p<2s0has fi-
nishe dad  $ $fH \Start ?`... OK/@b. d^)(0x%08lx). a gerL2-debug nexmp@plic0at launch S ystemfi gura}"Q
q,@Bgob cJk. WARNI NG:/ EnP  Peep modell  e"T \1  *!-nn be0  battery;  low!  EN    DISAB C80 Hstatus: FF  ON  NWM isn 't runni ng. If y ou're cu rrentI  T`est M,  ;n p R+#RIGHTjtEhMFi. Otherwise , simpf e@xn  ait_ f|se ds.5QAPwirai#  %PYP %d S@fg .: 6%s >1<   2   3  P r/Af5 a*"slot: Controlv`` Forced *succQ fBully d`0d@.
Note:  auto-con nection  may rema in broke n.	 .ED`WLireless  Togg Power Butto n DisEn able L2  cache Se t clock  rate to  %luMHz N ew 3DS m enu (:	`,	`nl	 -%	 1'&	 q&	`7	 #	 #>	P?!)a?=	@?>)\?<	 g@t?bb>E"A ?	 @$?>$)?1	 ^@,-?	 	@1?Qh>E 4?*>$B8?q>E(IG>%>"?
>i A ?v_ 0D?62G?[	 XJ?Pd56L?~4lO?6Q?!	 T?0%	 <QV?o*1qX?a/	 @}Z?3Q5v@\?W82]^ ?<	 52`?e9a?D-5c?H98Qe?L9f?;P9h?T1j?WBl?ZA6zn?oM^7Dp?-1r?1Ks?Eh-2au??k7w?^\n-0@x?_l0l%z?o0J{?fw-8$}?Pz	 U~?.}	 N}?.U~	 Az?|	 Ax?W0{=8u?y	 s?Gx	]q?v	 YOo?&u	 Hm?]Gt2Uk?!
s	 dui?q	 g?p7e?o)1:d?}n1b?/rm	 u@
a?Nol	 .@_?tk	 @^?j0@\?biY4H[ ?&h7Y?g3X?f-3nW?V-f4:V?be2U?d	 S?	0@R?$c-0@Q?ob	  P?	0hO?a	 iN?n`	 WM?_%2L?-_	 K?v^54K?D	06J?j]	 `I?	0H?P\	 wG?[6G?D[	 @F?Z3E?DZI2@D?	0POY	 lC?	0B?fX	 B?W5xA?	0zaW	 >"@?M	0:??KV	 ??	0o>?2	0Q=?a"U3g=?	0(<?fT1Y<?T	 };?	0@W;?9[	0 :?S0`: ?	09?U_Ri0r9?R	 8?nQ38?q	08?%Q	 
7?	0XG7?X	0@6?II	0w 6?P	 ) 6?O35 ?x	0O5?5OY44?N34?\N464?sN13?^5N	 3?	0@+3?M2@2?T	02?F	0I/2?M21?=	01?	0F?1?*fL-00?v0L	 	 	0Z0?K00?p	0/?b	0/?x0KA1;/?	0j.?J2.?;	0o .?q	0-.?CJ3-?tJ	 -?	0m-?I0/-?	0,?h	0,?>	0t@{,?I	 @A,?H0@,?	0+?	0+?tH1_+?JNH0)+?A(H-0*?H	 *?	0	 	0vW*?B	0$*?qG0)?N	0{)? ,	@)?
G	 `)?U	0x@1)?	0 )?L	0(?F0(?e	0'z(?eF	0M(?<'F2"(?xF	 '?	0'?Eq1'?u	0]x '?1	0EO'?It	0&'?W	0&?;	0&?	0&?E0&?D0c&?	0_= &?t	0&?3	0G%?@	0%?e	0%??L	0a%?03	0@d%?i	0@A%?D	 1@%?	0B $?	0$?	0$?	0$?	0Ny$?t	0;Y$?]C09$?G	0&A$?i1	0  #?~	0q9 CY1#?\	0#?#B0#?$	0Ad#?^	0G #?	0$+#?x	0#?VtB0"?j`	0"?L	0"?.9	0"?%	0@"?B	 @j"?	0O "?	0\5"?	0m"?*	0"?	0V!?	0-!?(	0C!?	0@!?o	0+ !?]	0l!?L	0U!?;	0P=!?*	0%!? 	0!?	A	  ?J@ ?	0  ?	0 ?.	0 ?q@??p 0-P pO I 2   0 9     `  <0  @@4@Ae \ 0 	   R ]pa  `5)B'@-@A9 	 &</(PO  P    P      Q    0	srv:	mBcu::HWC@iac @i@s cfg:uAs:USER S@@A APT:U pm:dbgwm::EXTN p}jx	 M
qoh- y!v$ w\ zJ[s~r i=.C #m?<X Zl_  G{k" >t0t -h"vL ,	@9@@2 Q	e	@}	m	 m	@ 	@	 vQO as      0  i#a  p, # Lq  r  s u v @    ]  ,  t   d1  ,AC	 	@	 	@	 C	 	@	 2[?   }	0 r@0 	0 	@T 2t@ B;f k	@{	@0@G -	@9	@IB 0!/  n0%X5 $	0     X 
 t	                                                                                                                                                                                                                                                                                                                                                                                                             X  0  < 8  4   BT  } \      Q
/   x@    -L(Ko/ 0  S/0  S//      $ $ 0AC/0  S//      @-,@ 0  S0  S  
   0 0      0  S  
@-   @      R/ B  @A0 Q0/  R/ B0q @ P/0H-t 0 0 S  plXD3  "  33/0 0 0D:D202?@2@:A3 Sx$   x$x40 0x5A% 0F(  $(,  
,  
dRA5  @_ bj`h``@R@ZR  DRDZR TPEDTTDqGH@DH DXB$D@D(,D0D4D8eG<44H@DDH\ `d@hDlBpDtx-$  RRPPO`A   E@DEE@qT $N(,04e8U<L@DD QHE@\,`UdhE l pt-  AxNN%  R 02:1A5 -t @hD@lD@ Dhl%\ p$xpx    h P       >        A    @ R  p@-```P`FFa  
 @PE0@3/ V8`8P}`FFap @PE0@3/ Vp-L(Ko/        <                         /  P  Q  RA_ T_@ T_@ T  OHJ@@O @OOO Pp  0@P`p)/?O_o0x	

  T  P   B4 3 	 
 n 5     3333  '  )  ' -  
  bhj-L(Ko/                    O 0 `0#@@PP! !  /D      # O? ]     ]	  
 ^   o    # O? ]
  N0 ^  :T ^  *h 8  @- 0@  \  
@0 S: D@     @P`p4</0</
  p   /0
 p@- @PNM     ` 0P @F  0 S   
   R  N0 T `!C  0  0P   PHD0  \@  
AL0C   S0  R 0   A-=P?p:`@  @P     ^`  p   
  R  
 P    
 \ 0  <H 00  <,  00 <0/  @ p@-P \t0 01@   PpU  
     \     0 0pp@-P \0 01@    Pp?E \    
  @   : p>     "" p-M0   P  -M0 @-@0 Qp @<0M 0   G/o  S"    R   
A<0.A   A  S<0,A  P2  
D  %d(`  4  *"**b  %4	@D   l   Pt t  p  pP @$  
 " @03/   0   P(  %   0    L    \l  @  J z xJx,.@D @T                        @- 0 S   S Q/6  : P"   #  
00Q  Q1121:Q  Q1101:   P @  ! P @  !!P!@ #!!P@ !!  P#2! /   /Q!! #  3Q!! " Q!! " Q  0/  P      Q
@-@ A//  S  R    Q  P   M `-d1  /@-  Q           @/P !A"P !A" P !A"    /         0  S/0  S// b b    $ $ 0AC/0  S// b b    @-,@ 0  S  0  S   0 0@/ b    ^ 0  S  
@-   @    $b^  Q  
A @  -0  S7C0C9 S   R  R  /  Q  
A @  0   S00C/ R / /@-   @808        @  0 HbP0@-    P  
@0 20 S  
 " 2 0    2  ^     O-0M 0    S   0  @  	d- P00  	0   0`Pp  W V00:     Hb 0 O-!1 ` n& PM`&	b  
 0 W  0  0  S   [? | _   <Q@q @@1 T)  
@$ V    X
 
0      P      Q P:* 00# S R  Y  
 1  @  n   
 w1  `  e`     0  000A        `bj@bHb 0    -@-!M@/  ! ? 
 P0 0 0 4 
  @ $0 
 0 4   c`5x5 P R    / \  3 # \  / P  3 # Q  /O-A1  ,M Rj    Xh  
Hpx` `0l`` P]  : PP  WK  
02@[R  :  WP  D0; 
;0I  2 
 
:  PA  6#
   P  #
 $1  P  
 1!  P)  
  0 c	  0   r/   P   0D  Q  :H00 Q30 R  	H  S3P U  
02Hp
 
3"  P  ,  X
00  X0 ,   FIRM  `   P  p@-0P  `  M!  @P  
T    0 R  
T  0.  P   pg
  @P  
 V  P  \  pL   40 R
4 , $ 8    @ FIRM86555G-  P  Yp@N   q  p `S      P@   @1   R  1!1   P  
1  Tp1?    0  S  L!h1D  R?  
  T  T10  S  
(1?@   0  S    ((//   P(  
  )/   P3  
   #/   P  
 `   k   P  _  P	@ 	   P
  P
  T
  P @P@@0a   W    X  0 0X P @i   D6   `  h <6066    8  89867p@-#M@ P      P  #p   P
  @ P    P  h Rd0Fo 0   STT  8PH0`0 @8 @@  / #p    47i\7l7^O-ddeMPp@00RB   ZJ0! $0    40  X `x ,0(   4pF?  @{G  
40,x  (0A  4  x0  ( @  @  o 0 @  S  0   S   $  44 @0  S  
4? !0R0 S  0  S  
3? 50d0 S    3 @0  S  
 R  0  @  0 @  0  @ @pHrz WPP201 `3 @  *  @. !p$p X` 03???  
r 1P S   0 P   P8  
0 S   `!2$XT  1 S
|2  VDp7  
PP p  	 [5    .  XpIP  
0  S
 (8  8 _  P
	 [A  [   P X X  p D"x0*H G   P  
;   1H 
 3  8   [ !N R!C R C R H R  -   P 
   @*
 [   &  @.  3    <  
@ b	 000      0   @P0Dpv     @  )  @0??? `B         NCCH7777O-3C?` b pMj<  "0    P  @   0 @&  0 @. " @?0 W0   
  ?  @ X   Y @q    X       W pp   W
   @  101@`Hpbjp VK  *(P0   - !`$` W 0|1fDpxx@  @ V  :  , P [p`F  
 	   S  @P
 V)  :T    )   T$  
 >
 ; X@   p D"x0*H G   P  
 *   0H E A0  @
  !N R!C R C R H R  },   P     07777O-2R?@ B `pMJ  X"0     C 82 P0  k    Wc    V    C 201@`Hpbjp VK  *(@0   g, !`$` W 01fDpP  P U    O, @ [p`F  
 	 2    PP
 U.  U       U)  

  XP   p D"x0*H G   P  
    0H H A  P E  P
 r !N R!C R C R H R  +   P     i07777@-0P?@ BMJ*   0  6  0`@? P  kF  
0  px0 ?    
  P  P0  P  P  2  p  P  00     p@- @P	  p@  t,    p@-`P 0@  @P
  
AA 1 0 p 709A-P 0` @p~   P  $  
$ ,0@!   b# @  A 0 A  0  C 0    S    
   R     ^  
  |     9  P9G-R$pp2 @`/d2 0\2  P 0000
  0,. P-   P  
 0DC10C44 0
 0     Ps  
 0 @DLD B 0D0CC10C440
 0    P_  
! 0 S  
00 S0@ C D BB! B$$\     R  @  D  BB! B$$ $@*C h	 !L0p1 0c30Gpp   R ( * 0  8 < @ 4 0, T 0 P/L0 0/0  V/0H 0/0\0    P/0  @0/0     9::      p   pp9i
C1iG- P pb ppL p`  @ \
 Yh \  
  \    PK  
      X      @    Q  
 Q  L0 S 0  S0  A   P  
0 0  0 S  
0 St0 0 0d/   P  
X X0  0     P  -  M     P  :~/`	(  p :,  pp@- @0X P   H 0@ ?o  T20  S   B p99pG  p@- @0X P   H 0@ ?o  T20  S   B p99pG  A-0 `P @  @Q T   
  \ 0    P  
p@ a	aX0A@0 HH  0) @0   8)   0:  S
 i9T`it` b`_ 0@-D   P  
0,0@  0P  
     x99F   0@-    P	+0 0   9@-0@ ,p   P  
   )     9 0@-_  0P    C 9    0@-R  0P    C 9    0@-E  0P     9#  A-`p  P@ 03  P'  
0 0 Q0L  
0 S0 ^  
    U0O@O@@ @ 0 (  0P  
     9  9 O-0   P1  
0  @ S  
00 S0`pP 9R  #,,@  @d   
	 [
0  :00  R   \ 00 S   9   _        @p@-0P \ @  0P  
    R  
  Q0 A,   0    p p9/@ 0@-  0P   4  9~/ 0@-    P 0 @0@   9   pG   00@-~  0P$    /o"   9  A-0Pp  `i 0 @  c ?o  T20  S  @D @DO@ #Dd >&B  R  X (J +K@>C~K:CJ$( @    99?    0,@-5   P 0 0   9Np 0@-#  0P    C 9    0@-  0P  *   9 0@-	  0P  *   9 0@-$  0P        9   p@-0@P P `  0P  
  <  !  p u  
 p p@9    0@-    P 0 0   9   pG   0@-  0P&     9p@-E  
 `P V 0c#c4!4# 00   
0 """  T0 p     \ 0c#c4!4# 0p" "0"  T 0p@!0"0 000 0, 00 00 00 0/  0@-P P 
   0@@	  
0@00D00H0 0L00 0@00D00H00L00  0   #  /  @-
!    @  R 0c#c4!4# 0    0O-(A `R  p VP1P!Y4   0     P  
  Q	    @0 > Q\   
  P 

Y   
Y0  
`Vr 0, 
50 0  
0 00$00(0 0,0YE 
 & 
 ,E 
 & 
 ,} 0 00$00(00,0
 ,     G- pP`  0 	0? X 0.  @H?@@	  @ 
 P% 	 U?x@   	d %   T0       80    V   
  V    G%    @ C-` M 0 @ pP   
%,0 0  S  	  #  pp0  ? P   
T   0%" ,0      #  pLbTbPbdbi0@-M @#   0 y  /0     0  P  &  0@ #   P  A1 S$  
 =0 B  Q$ #>   R    P  }?~/00H 80 00400@   ;# JTb  PbdbLbiO-$M 0 `  	 
%,0  ? P     X$  
 Pp@H  T @#
  % 
502l *" 0	00      H#  P X 00  P 0  Si$ $LbTbdb  0@- 1MN S  
 P 01,C S @ 0C S0H S 0! RPQSEUETU0000 B?  Sb   0, 
5 0
%  , 
"0   %"4 0F S0@I S0R S0M S   0R S  
  /G-0Po S @8M   
  80o S0t S p
`  pp p$p7%   3%  0 
0 0= =  0  (p,p0p4p 0 
0 0    %"(0 b   ;A-BR 08M
5 $  0s0   0S0
%%    h  0  R 
5 0 / ]2?   l20  S  
p2  `PRHB \  0   `  4 T PV  
 2 00H0  Cp P     b R A 0
5 0   P0  P `j 0 
5 0 
  0 R X
5 0   5@ 0 ( P `N 
5 @7@  T780p   0$W S00  0OC4$7##%<#!0#!!q 0 
5 \ 0c    :::     !KzBp::@5P::  ;p@- @ (S0 R  R   1 S8MC  
 SX    R=  x1x 0 Qh
5 0 0  P ` 0"   
5    $ 
5    ( #  
(0 %" 8  S S  
 I8p  Rp0p l Q 0
5 0 H0 F P z``  R0 pGpG      P:,::0@-,M @P h!  `

#0     x  0 ,0$ 0 S000 S/  80 20 S/( 0 S000 S/   200  0 S000 S/ ;  ,0,  C0 S000 S/  D0  P C  4  , 0 S000 S/^   p@-Q 0  S  A1  !0 S000 S 1!C0 S0x00 Sph!h1 "0` 0 R01  
L!   R-  
$!?0 S000 S@     0 S000 S 0   0 S000 S 0 0h@"?    L 0 S 0800 S* " #   ^^    i ;bj^@-p@   h   P  \0   R  
   < #  @08      0 R@i0;CONFhb  0   R  
  P 0  
  P  
  @-h\    PX @ 0 R/( 4 4   0 R/iihb0;<;CONF   0O-)GM `   V$/0`&  @P p " 8@ ?3500 1PPPP`" 80pp08EPMPUP]PePmPpP$ pp5`=` `d   "  P  0`( S0 F/1 ` [ 023@0 T0  
p "  [!d p0! [P 0'p 0 0#0  S 
 7 0 t7% p'
d7     87T  P7  P0H'H  D' 0  
   (7;  `Pp@0
  S  
!4  
	    Px  1f0F/1	   4 
 ` V@ `p@p0P   Wt@` V  
 
  R
!0  
      P  R
x  0  
 4    p P   
 P  
 P    U|  F?!0R  S0#P0B    U
x0F/   00r  P`  P  
  PO   P  ` P T
 T  dF?	5 1
 0 4 z x0 F	  0
4I   U`  
4F/1QfQ 
 0 0`  0
   Y 
 @1 0  4Q Px 0IF/PQ1 
  0  P@ P  
 Pq   V  0 Si  
`1fF/10S  S  
PxQdF?!`F01  0
   V P  
`PF?QP  UP0IF/1 TP i$3
1  0F? 0  
 1  00 
 1  04 @PYL0DF/"1
 0 4  0Y  Sq
x0  04  ix0  00 0 S` `P> VZ  1fF/10S  S-
P4 0 p0 S  00#0 Sx1 @ !H   0  S  ! 00# } 2G`1   PT0 S9  FF/! R`  RG
 P+ RF  R`  V
0F0  S!!cF! R  R  
`PFF?10S  S
 P0/ /0 /0`Coo0b  $0 Q     0``i  id;@H;  ;<6;bj,H;  <HHTH `    ;;((0((  0  R   S/  4  %4p&  Q/. Q/ 	 R  
0 S/O-%DP0MP `
 6 0 0
 0P(P S` 
%4  
   %4
  Q(  h     Q    Q   
  Q   5  %4h   
 Q   Uh P   P5X T5  0
4   	     ,5 0
4  %4  R  
%4$0  S  %$4( 0
4     tD 0 
  4 0
 0
4   @	 T  %4 Q[  
%4
  Q n  
%4h0 S[  

 04 0  4  U
)  * %t\0
 10
4     U   * @0 0  4Z p  V 00@ T     R X 00  S0lc
phS 
 4 `H  4
  PB    P @a  
%  i x 304  ]   00C02
 0 2   
00 Qtl"20 0 4  
9 
0  0x  R@ L Rpl  0  0 S4
  \"1
 
  4
 ' 1  0 4
  %4` % 0 
 `   0 
  P      8
 |80 X    X	   P+  
T1 
 0 4  <!< 81  \00
 X 
  4 
  
 1
  0
4     k^0
  0
4`   0  0 0
  HH~/<  M@I<  I$ILIII M,  %Hl  %JTJ\JJ0JII  HHIILL`IHdJpJxJi<6;Jx5tIJA-   @  p TP` `  
 `  P T  
Up+ tu P`  V
 }. T00#30 0p  _ `@ooUbhMtM e ^iA-|  Px`  ppaBa#X#Dr`FNP@  \  BRB2 r-N ^^MO- P~} PM0`pG @h q  	 \P  

 \ P
  
 WP    \P
	  
P	 
0   L @  T: A- @P`p!M/(  8 0   !O- M  3
 2 0 2"  Y ` 1  
1( 4
 A```` V  *  \0
  Y)   B  
0)   V: 0tt!(@ 00 0$0HL  P   ( (p    H     P2  
     S(  
 0 S B0 b 0  4 L(  `#` X  V  
0P6p    0(  P U `A 4 wU  UUU    PINF  ;VVO-M @H D I H P  2D  R  T U  
  4 S  00$   0   %  $L   @P d
 2 0 2"
 2     1
  0( 4 - P[  
 2.   P[    @ 0`q0000Q  @
 6     
  V @*	  

 0(   @ V ` T,  
0@ T0C0c*0 0;> 4$@(  w`0` S$   $l M   P   |  0< 
  Ah0  L  
 ;> 0  $CC4n;PINF0V  dVUVVVV  ^O-  @  TqaMQ  
  P U    
 UX  
 R[  
 0SEF? B0010 Q  *P U3  
 U  @JM?@ R?0010 Q  :0  0O   P  1 ! R00  
 U  
     A   P   1  S)  
   R 0 0 0 S
0 @ 0  T  80   0$ |00 ?00A @LL  0 0 04, 0 0 @bbVb  NCSDVdiiG-Pp 0 `$  P  
!0 0CE.  S  :	0Q4 s  

 `1`  \1   T!T1 ?EN00#$ Z 00  S@7  0     P5  
	0 0  ! 0	     0r  pP&  
0, k   P  
+ 0D @ G0@0G 0  Y   P6 |0 21
 0 S  
 Z  
@0<0VT_iiL_P_  VH_^VG  V  O-,M\P0  @@0  
  Z 0~     00  
T00CT0 00    2  Q" 0  w  X0   S00  P  XP0X0 000  S0  0T  @T X   U   QT`AF    VF`   ` T `  Q  Xe    S  
  V`L  0  0a00  S?L`L0@F UK00 Y  0  T  U  
0@0^00B0  S/    V
     0b00  S ,0 z   Q  -0T    @T 00 P  S 
  0\`p@
  0P
@ 0 U0 T  0*P@\o0x  @T00CT0+00R VVO- 0   SM0 
 PHH  00  Sm  
% S p0@  C R                    0 C	 RU  * S `  `0  V@ `fp. S T  
l S`  
h S    0h S  0@@X C  R+                       P                       0             l ppp pp% S   
%0 0 0  S  P 0 E 0 `a`00`F0 C	 R. S 0 0C	 Q  * S0@ @l S0l S0   @@ p Po  
 P0z  8C8 ? p` 0 PT v`0p  H  0pp P0E0  S PI  
  P 0
  
 P 0  00  S	0 q 0R  
7 0  FV  
  P  
E  S P  V 0l00 P P 0` P0 `FG  
0  V0 0  PJ   S0P0@p  00A0 C	 P@ P<C< ?P  00P 0 P  0 0  VF`   F U`@` F  V 0`  0 V `00P0  W --M  /O-MM p` 00 \S)  
CF K  ^   P B  ;A 4P Z  :@ Y     P   O-8\M ^#8 
 S < 
: R PN  0J 0   0 @  0P S   
   R     P\j0 0 9 SW0C00C RR0z0
0  G (*  B  V t:  Q  
 :  Q 
 0 S+  
 	Z   P%  
 0  : R  
0 S   0	 C  9 R	 
`I`	`  Dg X)  B  " X	 PI i    `P  
 ,9   0 S 
?~ `P 
0  X 0` 
  8  p X^' QxP%  
  Q 
 0 S 
"8 # R 
8 Wx 
Ko`&d`  VV   0 SJ 
? SG 
L8X( 0 U  Sx 
0#2` V{ 
0/ R} 
 8     Z     80  S   Vw 
7	Eo 0  S   YW 7 0  S   0 S  
`  V     [   0 S
  
 S0 0   c`  `*P0%QP   . 0"#  Sp        \  \  ^  \x S  P0CdFd 0  0A  0P S   
   R P0f0P  Q	l   P 0 R      P  8 5  4  P 0  Q   P 0 R     P    5     PG 
l5 `  \ 
0 E$e 0N Pf  PL   0 S   
    0  r40  S   9
7
 ,40  X 0G  
4t` P`4^%&dX 0P%` U0  0 0  Sp  ` 0-
<40  S  Z

 4iK  
0 0 00 I  
P@ U  
w   U  
  U  u  0 R
` 0  V 0 S  
 Sg  
 Sd  
`st0 ! 0  0
 Q3 P^%P%  P
  [R # 00# } o 0P%;?*  S0 0
P  U  
@ UM  
 U a  02a` ` 0d `	0 0L  P$2 P^%P%|  2 P^%P%>  P1 P^%P% U  
  4  00!1     e	
 ?   P2q0! 00  q0= 1a S1  R  @0@    S ` 000Op 01   0     R     Q    
 E%400J`R`050#3` + ~0)    bjii@ a LXXXdXtW  $Xii `  iTLNC  A      Pbi$W8W X   ` W  pX   WWTWA- @DpD`  TPP   0P  
 S   7   P
   |XX  P@-  
 dd    P  
  @ HH 	   P  T    @    P@Wf Wdp@- #M P`    @P     U   
 R             #p0   @    O- M p`K P  P(  
 Q#  0  S  @      K00M  p   0
  S  
/ S@
0  S  P
   K %>KK7  @P
  
K1    P Ao KK  @@-L o@-   @M     
0   0 8    P  
  @                    |00 ~ N0  S
 \N  H0D0@0<0804000XX YYX,YXXXXXYXO-SMM    PPC2  D U   P%  Z  U 00  R 0  S  
. R
Z j  00Cp@Z . S    1eac  XW?  Z S>00PC " Oo  PB@  T  
 p S U  
]
 2 0 2"
1  W  0( 
  (`1p   p4 
 1p@ U
` `PE!1e 1c( 0 0 h@
@ T=  
,   T8  
  T    V
( p1f1ca0 
 0( 4 	 0
  `z T Tp p T!  
afaf p
 ? S T Up
 V
gh(p  VpFpLL  00# }  SW/ YX8Y  LYpY `  0@-? 00iM0! `  T :   P)   @0P	pT u   P  0  S  
0a S   P T  T @!T X   P   t
  
 08$  , $1P    @ i  DZYY @ A- `P @dpdM  N0  S  
 T  
  0 8 m   P@
 # Y  -        0  S0  	  
0  S0    
0  S  0  0   R   
0 Q?0
  L0@ S 006@Q03  SP: 0@ 3   67       \  
 0: S S: S  
<0  /  0 @0 	 S   R  
  / P  / ip@- @PP	  
 0  S  
    R  
  Q  
	  0 0p    0@-@ p  V @-M `@p     P@D7  
  T 0 pWp  S     R0    `     @   T P    T!  
  0* S? S 0   P? Q 0 * Q? Q
  P  0 P   UP P  U 0    @ 0 Q0/ P    R    /   /P
  * R?0 <? <   0 /P@-  * R  6;@S  *   R 88 
3 #37@PS3*    9 G ?    $M. @  00?  *"- 0    0p@-8`4  @0 B  PPP	  4(0  0A SP  *0 S  
 p 0 . A-0 P  S`#  0F0C Q#  *`006&8p0 4`/ R   P @  
 @  @ P  0  	   P 
  T   P
  `G-0 @  S	   0 S  
   
   P   P 0 S0 S80 P/P RaAr R`UUp0#$ 2!"##,0#"#$%"#(&"$ $2 #<'20 "64 7r8`9`:; Pp@-0 @  SP	   0 8   P P 4PpY  Pp 0   Q@- @ 40  
  P(  762 4 S   8 00 R S  n0F S  o0A S  p0T S  
0X F0C@  S  0  R 0C  S        U  mZ 0O- 0MPp@ `PP  4A  T  
 @ 0P  S
  
       U  
P    0   0  P  U  
      Pv  
 P  
 P `  D C04S  OPN0T  _ ^P]0T\ 4THp P0G Spx  E  Yt  
0I	 q  J0I Hh  L K04  [0ZY X0$4G FY  
+"  ST  :0C 	  0 0 	 S 030#p 0  SE  
2 P Q  :C Ps    [$`(0 6  
 0
,0?0U,  : 0 00  P|" 0P08#800tP}?0   R  
 
	   $0 S p`  V    W P  
P 
P PM  P`PEc b0 408C8  S$`(0 f g 1e $?d 0U4,0:  i h0  4 S   
  [(
0$`0 ,40 Q  
   P  762 4 S ;0:9 80$4 S2"2$d4 S#"'2"&!"%2  "$2$ 4 0_i  iU  RRaArrAaG- 0 @ SP`  
 S?  
 S  
 (40% Q  
]  P80\(`",0   (40p Q  
H  P4 Pp83  
 0020( 40  Q   
 2  PP&b`0 `  0(40 Q  
!  PQ_8 0b<2``&$&8&l 0`  0`( 040 Q  
   PP 0*`"n     Q  0A- Q@ P  * 0 S<  
 S%  
 S  
  /(04p Q  
  P3  (04+p+  Q8`  
   P%  ;;P8   (  
 (40 Q  
  P  AO8P 0 $4(40$ Q  
  P  
  $08P@00  
 
  Q9  * A-P   `  Q pP  
@UD-  :    P  0  S	   T%     p PE   0 S  0S,    R
80T0  0P,0  S
 /00C A P 0#%0%* 002" A- pQ ` I  P  UP>  0  S9  
0@   p P T1  
0@ T  : U+  @  8  P TM  0 SJ      0W0  P 0  S  
 W>  0 W;  *    P3  0 0C R0 B0 @ 0  0 S0P  S  P   p!  
0  S   R
@ S@   p P  P  
P0 UP UP! P  
   TP0   QA- p0  0@ S,    R `&    PP  
 U"  
 u)  
 T  0 T  *   F  P 0B S5023055 R  @   PP   S R      (  P
 G-P @ PU  : 0 00  SA  
{{  W `,  0  Q0,  
00C"    P )   p%  
0  S    X
  P  
 Z  
 z  

   P  00C J R10059)08``  `P0S    ,A- q @ P`  p      P  40 Q  
 .  P  0 p0 S:    P P O- M P p~  P6   0	,0   S0  
,  s  P'  40 Q  
    P  @ `  Vm  
  V?00
  S  
  ZU  
+   0! 0C+  S0 \0C  S+0@ @ 9  
0`,00	 S4   040    @1?K`P` @P p   [  
   p     W  
  Q!  
   P0 Z
 pP Z
  3 P

 Y   @`   P  0 p#3  F
r00  S
	[[  O- 0  / S\ SMP p  /  
 000 0 S1   0 @P   T   0@  p  
P0! (! ! 8#8@"/ S S  \ S  
 S" @	       R
 P 0\ S/ S
 00 0 S0  +0P  / R\ R  PP  \ R/ R
  S3 # T  
 Tn  
  T  
!D00   @T  
0r  S. S
  0 0  S0   `  \ 
`0 s. R  
@T + 0 S   P  
  
pP @0  PH  
.@o Z   \A   Z T]  : U  
 Z  
  *p0 P 0 S0 0 R  
0 S  
0 S  +   P+0'  
 Pv  0  
  S5  
0  +00. So  
!1  R
0  S    `  P N0   
  +80+0    P$04(  0 P  +     \R  
  \!  0. S!R  0   T. 0 S +00 0J  p0    P    PQ   _   @
`P@      . RE \@ @   . S
 `&# 0 0A@, \  a@, \  @    p 0 S0P 0> 0 S0  0@[   S   tZ  ZZO-+p4Mp   P @0   R! 
 p  R ` $ /0 U  
@0+0  $
0TH $ 09 Q7 S Bl#2~000  RCi  
     Rd  
0  \ 00 R0 Q  Q   P  d ZG  
  $ ZG     RD  
 
00	0#Q    R P .  /0+0  3) )   0P0  p40p Q  
 n  P  0 0  S S 00p   Y  
   P
 0 S  00 40
00Y0#  40 Q  
 G  P  
  400 4 0   S  M +0 00 40 A 0P0^   + 300 R0tt0`@040 Q  
   P   H@ p0 !  `@
   ^  
	0 `` P  
 	 S@$  
0 #  S0
  P	 S  
 0  S   @0   08  P00S0`@vp00g@` `! ON  [G- P P0 S,0 p s`'  
 \@ 
      Py  
 P @  \  

;8  U d#8	 SP  \  U   
 @ 0@0 @.P0h P  P  
 P  T	 U0 	@ 	  P d;  
  P8  
0 @ U  	  Q    T2  
	   R  
	 AB \   Q @      R      R	       $   $  040  0	  S0?   @    O-` @ P q  P    PF    QF  
40 S  
   P<   0  S7  
. S S ?  
  R
 P?  @ '  
 `P, 0 S 040   @  B!   R0   Y  
00  \4 S
 S  00  P   0@   
 R 0 0PEP  U	    3PP  QP U
 0  ,0  	[@-M  @ 6  P   L  1  S  0  S    T 1      iA- @P	M	`	  
?pP   `P  
 0 0 	0@   0  P  703T   0  
 Q     
`   
 PM  
 ` G     
 A  40 @p  (  0$  0 Q0(P4 0 $       p/ S  
p  W
Wp  Y   p Xr  *  # P pG` ```   Pp0 0( S0 P4TX     4 0 8 0 (0(0    Q    (0 U    
 4  P}PE40 XP
   PPy
o 040u;;  SH
 A00C Q  *00 !!  Q  `9$ 0 M   P`01 p0 0` )
 O-M p @K PPH  P  UE  00P0@  
    B Rp1  W9  
(P
"    B$2  
 0 @0C P6  *0``   P1  
W `3  *  R	  
1   SH  0    P6  `
<a S`1`!	  r 0 0  pW 0 P   P"    P   p  
 P P4 STPL 0 	   P  !  R  dP0 0   * 0   P0 00   @ P*,'   O-M p` @ PPO  P  UL  0 PH  
 q`!  VA  
L( P
 J  I    Qr     P+  
 PW  
 pf  
0  S  1  SR   0 B0C RG  * 0"  RB  
VP  :4  S 4	0@ 0v   PE  0A QR  :  	 f  P P0@00 0  S  
0  S4  P
  ` Y!	   0<<00 S01  	`V	   	0P P0  5   P  000P P "0  
   P , } 0    0@-M @
  P9  0@ 6  
 6  #  40 P Q  
 G  P)  $0       !   Q"("   P"  "",  %%(%\  P 0@000 0 (    P 000@-M @  P  
   P  -M   0P     0 i-M    7  P  
0@   0h  P  703  0  
(  0 ^4 $80 P 0  @- @P!M	   
     P  
 0 0!0  0  3  P  2  S   0   
   0 \ 4  800  0 P  
  P! P @-M @3  P  p@-MP @)  P    U  
0   K`     P  p  pA-oo@ Pbp   0 "  P
     P00  S   R  p@-P00 @{  Pp p@0@-M P @P  @  T  0 @  
0  S  *  S    I@0 @0  P0       0   p   
 P	  
00  S  0 @00  0 @00  @  0 (   @P
  000     @-M   )  P  
0x   0Z  P;0  .   ,  0 ,  ,   @ PD $H   
0 S  
 D DL@  PD   P  
 P c 0T0  P 0  S	    P V     O-M    @P  
 0P   0	 @P@
 TG @0 0$ PPZ  
 Ub  
 u]  
?  `  @PQ    80C  S0.  6 C0 Qs&538 #$	'|&lL0M OPSpNQ`8R  X [0$   \!r "(l . s" Y m  < @P  80 `80p   R%X%$P 08 0 @  @   :  @  @ P    /` P 0#03 Q 0  S  
  0<   R	  
0  S8#8 0 /  /  ] P/(0 P Q  @0   /  ]P/!P!
PL1L0!a30@- H$H0
   SP P"$    R0  
S T #3  Q  \
 0 R4D\l| 00q=D 0CH$H @ @0D00DH$H0DH$H 0DH$H00DH$H0DH$H0H$HP0DH$H][}    /p@-\P @ 0 S  
  T       p T   0   
 pL   8  P p^ P@- 
  
 \  
    P      P   P@-   L ! 
    \ _  P   g   P
 `   Q  /-M 00     R  	 QJ  0  R  	 Q=  ~ 0 Q   	 P/  ~+0 Q   	 R!    0 R  	 Q    0 R  	 Q  &  
 ""    
 "! 
 
 !!   
 !%~+
 "" ~ 
0""007O- 0Mx0AI X pWp P0P PP0BBAAP0B`@@,!"(  !! !!"$F  !,"$.  !	 ;  !	!     t1 Q!!  
!A!18 0   R  
![ !+  *   !	 
000    R  
 [ !  *    _ B!D!!@BBB R K,   @$(0, Q!K `  a           l0l    T , "D   ""0,""  Q()("/ `        q  
- 0 #3 1#	 000#3
 S   0?  4  /  / 0  P  /PiiA-pP `(0@  SdX pH8 @ #80 D0 $p@ Pi `  a , A-pP `(0@  SdX pH 8@#80 D0( @ p Pi `  a < A-xP `(0@  Sd` p_P 8H#80 D00  @ p  L i `  a < PiA-xP `(0@  Sd` p9P8 H #80 D0$ ,p@v  & i `  a , Pih0h   P  @-@  L`$ D(\00 00000 00$ @(OiPi 
 G-2 P P  4$ 00 4    D+  `"      -@M$D ..t ."/ "", "/ // / ,$"$   P$4,`(P0P<P
  c&PP
0  S  0   $ x(0   $ tX(  \`(3P#8  "$ (,`0   #0`0   "0   $ (0   ,x``  ,0<,0L P0B ,0(P0P<P$P4PA21  y  
  8"800?Qx$y$ 	 (u 
r0 
0  S#?  U S0 0  0#(0a  N  t[0 H  0\#(x#8($0P0 =   hP 1(!8  "$ ( ,P60 #  $  (.0     0P&0   $  (0   , 0   ,0 <,0` `o a      `     i  @     	 $i        Pi   7 i di F          ^/  P  Q/ >   P:  /  / 5   P:/                    G-"B  
\"!B  
00\ 00 00 Q PG- @  3P  1>  : `p   I L<9 l6: U, T  3 1  : @T0P  \!  
`op  0T 0 @ P^  
 U T*@P^4<:59 @5,P<9 P4:  X0 G/p@-l`lP`FFa  
 @PE0@/ V@`@P`F	Fa  
 @PE0@/ Vp@/^^^^ R@-  0  0   @ T   B R   R @B
  
A@  0	  
  ^0D
 N@/@B @/ R7  0 @  B0A- ,0p`P@0 Sp`P@ 0   
@0C`#`0LPP S0   R0B00 L  
 QA/  R 0B/00 L Q/ 0B @  
  R B/ 0   B r/  R(  p@- R.  B` P,BP \    
0B000 S   R  
  Rp@/  R/  R/0 0   `0  2< C #0 
    /  Q 0  
   S  
   Q 0  B/  C/ /-L(Ko/    \<P6D1(Mv,P*!An error has occurred:  Press any button to shutdown    The external FIRM is not valid. The cetk is missing or corrupted.   Unable to decrypt the external FIRM.    The external FIRM is invalid or corrupted.  external    CTRNAND Unable to mount CTRNAND or load the CTRNAND FIRM.
Please use an external one.   The %s FIRM is not for this console.    An old unsupported EmuNAND has been detected.
Luma3DS is unable to boot it. SAFE_MODE is not supported on 1.x/2.x FIRM. The payload is invalid or corrupted.    sdmc:/luma/%s   nand:/rw/luma/%s    sysmodules/%.8s.cxi The external FIRM modules are too large.    An external FIRM module is invalid or corrupted.    NCCH    Failed to inject custom sysmodule   cetk    cetk_twl    cetk_agb    cetk_safe   cetk_sysupdater native.firm twl.firm    agb.firm    safe.firm   sysupdater.firm           8(848@8L8\8h8t8889u($^VyA	,B&YVncX5qXDsHx|^0(x!#cNJJ#/e!~q~z:tx+7Failed to get Process9 data.    Failed to get Kernel11 data.    LUMA    exe:       Q  : W v   (  (*(z|( @ O   Ih !GI 0"  0%  "  "M#N       D4   U Failed to decrypt the Arm9 binary.  )D8uJ <z%Nt;W3Ik3B?z#RX1nu:9C.wHQ2]%vzfdj& 0ZzKoG2:gytJtH"*-(wbiPjs%:_]z!vr0FLMONFXD`_   L   9   &   config.bin  Error writing the configuration file    Default EmuNAND: 1( ) 2( ) 3( ) 4( )    SD  Luma3DS v10.1.3 configuration   Press A to select, START to save    Booted from %s via %s   pin.bin Unable to delete PIN file   Select the default EmuNAND.

It will be booted when no
directional pad buttons are pressed. Select the screen brightness.   Enable splash screen support.

	* 'Before payloads' displays it
before booting payloads
(intended for splashes that display
button hints).

	* 'After payloads' displays it
afterwards. Select how long the splash screen
displays.

This has no effect if the splash
screen is not enabled.    Activate a PIN lock.

The PIN will be asked each time
Luma3DS boots.

4, 6 or 8 digits can be selected.

The ABXY buttons and the directional
pad buttons can be used as keys.

A message can also be displayed
(refer to the wiki for instructions).   Select the New 3DS CPU mode.

This won't apply to
New 3DS exclusive/enhanced games.

'Clock+L2' can cause issues with some
games.   If enabled, an EmuNAND
will be launched on boot.

Otherwise, SysNAND will.

Hold L on boot to switch NAND.

To use a different EmuNAND from the
default, hold a directional pad button
(Up/Right/Down/Left equal EmuNANDs
1/2/3/4). If enabled, when holding R on boot
SysNAND will be booted with an
EmuNAND FIRM.

Otherwise, an EmuNAND will be booted
with the SysNAND FIRM.

To use a different EmuNAND from the
default, hold a directional pad button
(Up/Right/Down/Left equal EmuNANDs
1/2/3/4), also add A if you have
a matching payload.    Enable loading external FIRMs and
system modules.

This isn't needed in most cases.

Refer to the wiki for instructions.    Enable overriding the region and
language configuration and the usage
of patched code binaries, exHeaders,
IPS code patches and LayeredFS
for specific games.

Also makes certain DLCs
for out-of-region games work.

Refer to the wiki for instructions.   Enable showing the current NAND/FIRM:

	* Sys  = SysNAND
	* Emu  = EmuNAND 1
	* EmuX = EmuNAND X
	* SysE = SysNAND with EmuNAND 1 FIRM
	* SyEX = SysNAND with EmuNAND X FIRM
	* EmuS = EmuNAND 1 with SysNAND FIRM
	* EmXS = EmuNAND X with SysNAND FIRM

or a user-defined custom string in
System Settings.

Refer to the wiki for instructions.  Enable showing the GBA boot screen
when booting GBA games.  Make the console be always detected
as a development unit, and conversely.
(which breaks online features, amiibo
and retail CIAs, but allows installing
and booting some developer software).

Only select this if you know what you
are doing! Disables the fatal error exception
handlers for the Arm11 CPU.

Note: Disabling the exception handlers
will disqualify you from submitting
issues or bug reports to the Luma3DS
GitHub repository!  ( ) Autoboot EmuNAND    ( ) Use EmuNAND FIRM if booting with R  ( ) Enable loading external FIRMs and modules   ( ) Enable game patching    ( ) Show NAND or user string in System Settings ( ) Show GBA boot screen in patched AGB_FIRM    ( ) Set developer UNITINFO  ( ) Disable Arm11 exception handlers    B9S B9S (ntrboot)   FIRM0   FIRM1   Screen brightness: 4( ) 3( ) 2( ) 1( )  Splash: Off( ) Before( ) After( ) payloads  Splash duration: 1( ) 3( ) 5( ) 7( ) seconds    PIN lock: Off( ) 4( ) 6( ) 8( ) digits  New 3DS CPU: Off( ) Clock( ) L2( ) Clock+L2( )  ,G0G@GHGd;PGxGGGG<l<<D==>(?@@AABDHD8EEF<FlFFFFGR1  Write   Read    An exception occurred   Processor:       Arm11 (core %u)    Processor:       Arm9   kernel panic    Exception type:  %s (%s)    svcBreak    Exception type:  %s Fault status:    %s Current process: %.8s (%016llX) R0  %-7s%08lX   FPEXC   FAR %-7s%08lX       Access type: %s Incorrect dump: failed to dump code and/or stack    Stack dump: Press A to save the crash dump  Press any other button to shutdown  %08lX:  %02X    dumps/arm%u %s/%s   You can find the dump in the following file:    %s:/luma/%s Error writing the dump file R2  R3  R4  R5  R6  R7  R8  R9  R10 R11 R12 SP  LR  PC  CPSR    Alignment   Instr.cache maintenance op. Ext.Abort on translation - Lv1  Ext.Abort on translation - Lv2  Translation - Section   Translation - Page  Access bit - Section    Access bit - Page   Domain - Section    Domain - Page   Permission - Section    Permission - Page   Precise External Abort  Imprecise External Abort    Debug event FIQ undefined instruction   prefetch abort  data abort  KK8KXKxKKKKKKKL L8LTL                        	                     `LdL|LLIHJJJJJJJJJJJJ KKKIsplash.bin  splashbottom.bin            ~~~~l|8 8||8 <<< 8|8   <<   <fBBf< }x<fff<~

x rT88T  >> <ZZ< fffff f { "8DD8p    ~~~ <ZZ<~<Z Z<     0``0       $BB$   8|   |8          <<  l$$     lllll ||  f6j 8L8xz 0      0```0 `00`  f<<f   0000       0              0 0` || 8x~ |p |<| <l | || 000 ||| |~|  0   0   0   0 0`0   ~  ~  `00` x0 0 || | ff|ff || fffff bhxhb bhxh` |~  << x flxlf ```bf   || ff|`` ||ff|ff ||| ~ZZ< | l8  l888l fff<< 2f x`````x `0 xx 8l           0        x|v ``|ff|   || |v   || 60x00x   v|x`lvff  8<   x`flxl 8<      ffff   ||   ff|`  ||  v``   ||| 0004   v   l8   l   l8l   |  0d 0   0000 v       8l ||p v || |8|v  x|v x|v 00x|v   ||p|||  || || f 8< |8< 8<  | 88| `x`   |~~ ~ |||  || || |v v  |||  | || 8l`` f<~~ <px|v 8< || v fffff f 8<4 ~  8ll8 |  0 0`|           F \  <<  6ll6   l6l  """"UUUUww6666666    666  6666666666666  66666   6666                           666676666670?     ?0766666       66666707666      66 666    6666          6666666?            ?6666666666                 tv x@b````  ~llH b00b   ~p     ~ 8||8|| |l( <"|x   ff   ||   ||  |      ~ ~ 00 | 0`0 | p  ~    v v  8l8                  l< lll    0      <<<<          Press START to skip, SELECT to reset    Press SELECT to reset   Enter a new PIN using ABXY and the DPad PIN (%u digits):    AB--RLUD--XY    Error writing the PIN file  Enter the PIN using ABXY and the DPad to proceed    Press START to shutdown, SELECT to clear    splashpin.bin   pinmessage.txt  Wrong PIN, try again        !    $    & 0123456789ABCDEF    0123456789abcdef    <NULL>  firm0:  firm1:  Failed to mount SD. Failed to mount CTRNAND.    Failed to mount SD and CTRNAND. Launched from an unsupported location: %s.  The SD card is locked, EmuNAND can not be used.
Please turn the write protection switch off.    Failed to apply %u FIRM patch(es).  Launched using an unsupported loader.   s d m c     n a n d     f i r m     TL      NC  /luma   /rw/luma    r_*.firm    a_*.firm    left_*.firm right_*.firm    up_*.firm   down_*.firm start_*.firm    b_*.firm    x_*.firm    y_*.firm    select_*.firm   payloads    payloads/%s Luma3DS chainloader Press A to select, START to quit    payloads/%s.firm    1:/title/00040138/%s/content    %s/%08lx.app    crash_dump_%08lu.dmp    00000002    20000002    00000102    20000102    00000202    20000202    00000003    20000003    00000001    20000001    YYYYYZZ Z,Z8ZFAT32   "*:<>?|    +,;=[]  EAAEEEIIIOOUUYAIOU	   a     x 029J.yM C=   (":	 e,;;=f,?@AAF
S@ UXZ\]^_abdefgjb,lmnpqstvwxyz{|d,~DE{    
 0 P`"6 Da&    } c, Z  0@Q YR[T]V_`p     N! 2!p!! !$0,/`,g,u,,d -&A                                          #      %%%%$%a%b%V%U%c%Q%W%]%\%[%%%4%,%% %<%^%_%Z%T%i%f%`%P%l%g%h%d%e%Y%X%R%S%k%j%%%%%%%%  ")"a" e"d" #!# H" " "  % Lk k   0  0 e4  @  @ eD       @Pp` < R  
   R(0 $0    0  /            d           p@  J  P  ` ``6/  P#    0 `(`6/     R    xp        0|  8  {    R/ 00 P:/   <             FH                                                                                                                                                                              /     #  t /t@ P@022  X  
  P U: << R``/ 00 P:/  x             ^/  P  Q/                              
                p0V p    _-#  DH _-  t _/_- -L(Ko/m oMM O ^^ P-[Y5   P  X
  
_-R   _ 8/ X  	  8/ $  X$ Y  
P-    3 o  ^   
 P- -  X$  X$p} p  -8    P (  @/?  SP-\ O  0o P  O 0b `@@PP! !  O0_oz1:      P	  
t     
hh"L    /T M  ,/ 8 /( M_-  O  P   P_  / -  O     ]  N   M]  *
  Nm xM M </x  
h M_-  O     P_  D/ -r O     ]  N 
   ^  @P o   M_-  O    P_  / -J _-  ONL   P_  
h ^T M_-  O    P_  0/ --\X p X p} p   0} p} pTp p} p( p0    S  
   8      /  /  / /  R??  S/d /    Q/H <//@- 0@  \  
@0 S: } p} p | p| p 
/(   `"0/  /@- @  4/ P-M >  P-M p  P-M P  P-M  -M  -M  -M n -M   -M  UP1 -  </} p                     B/   0 R R!Am@`    
@  <  @  PQ! aE `  
0 p`  !a_R@"O_SP#_P	   @`A_R@"O_SP#_P
  T
  5_Oo@7`34 A @/4OOo@6`2$ A @/ "  @   0_RP"_  U   0_RP"_  U
5_Oo@32$ A @/A  0D 0@  
A O   
  *0rH T T!  0rL T T!  
 D@/ O02    *D_R#T4_    U0  @$T	   #4:  T5    A  `/",01      ,H_R#X4_    U0  @$T   #8   ,X  0"(  "(,8    @_R#\4_    U0  @$T   #<      0"$4    A/2/3?OR@"_Oo$4"A#@/ 0  S/0  S//V pV p    $ $ 0AC/0  S//V pV p    @-,@ 0  S0  S  
   0 0`X p    (V p 0  S  
@-   @    dX p(V p?0,   //x p p@-T0 @P`P   03/<4   U4	$0 03/0   0p@/} p|} p$} p| p0  S%  
     P  
    / ` \0 0 S  0 P  
 /   Ql     : / T0`  0\ S  / / ` \AA<   /} p} p\} p0 | p ,p@-T0 @P`P   03/<4   U@4	$0 03/0   0p@/} p|} p$} p| p$0 0   0R0  R0  S/d} pO-qQ 0  M3/ 0@ T ac  

   P
  
p  0!69 0
 S   

  0 @  T  XL  
 [<A+  
`0A(   0 0 ["  

 d  P
4 @ 
     2//p  Q  
  p  0!69 <	?``# 0  3/, P	/x 0  ` P030 ?  q0  R 0  O/@|} p} px} p| p| p   p@-LP 0@ T  p 0 @0 Tp 40  R
@ 
 Gx} pl1030     P  @-@  P  
   P  
@   P    Q  
1    P
  
0  S5  
   /  / 0  \#  *p0  S0  S  
0  S  
@0  S R  P  
 P   P|0   R0  S0 S  P x0  S00 0   R % 5| p} p| p ,U p?      0  S  
P0 0 S  D0 0 S   /00 S    /     0 S   /| p} p p V pC-@0 QP @  `<04MM  Ao  R   QF  
0C<0 .C H  
 p<\ 4  	  4 *"**b</  R  
 ?    R6     Q0%05  S  
P     \`4\@PP`p  $  P40C  R <0,C 0 	 | p0  (  } p| p ,  <@-x @P   T@  R?  
   R t   P<0 @  0/$$   Qx %p 5  R} p} p| p ,<@-x @P   T@  R?  
   R t   P<0 @   0/$$   Qx %p 5  R} p} p| p ,<@-O60  S  
@00 0/   P
 @0 0/4} p,0P S0 C R   p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p px pp ph p` pX p p p pP p p p p p p p p p p( p p p p p p p p p p p p p p p p p p p p p p p p p p p p p  p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p  p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p p} SG   !/////// /0  / /0  / / / / / / /0 0  S  
0  S  
p0 / / / / / / / / / 0   Rx0%p05x /  /|X p p p: pO pt p p`2 p} pd p} p$ pP pE p( pO pD9 p} p|: pL9 p p p p p pl p| p , p0     P/-l 0 S  * @2 S4     0B S  0  2 S* 0B S   Z pZ pp@- @x`xP 0  3/ 0h 3/ \0 0  S  
P0P    Q B   <`(  03/   03/ p @} p|} pLp pZ pZ pxZ p| pA-@ 0 `  3/ 0 3/0 p  W  
 @P  @ WP  
    0P\ \   QB 
  HP0  03/   03/  @@} p|} pLp pZ pZ pZ pxZ p| pO-@P  M p`  2/ 0 3/ 0 [   
 ip  [ #  
K
 P@I2 0B0  * ^   0d 
2
000 8/ 0  O/8@,  03/ 0  O/ } p|} pZ pLp pY  | pZ p@- @0 03/ @tZ p@-hP 0  S  
 P` @p@   0  ^` 0 0 0 PxZ ptZ pL pO- P$1M 0p3/  0A0 3/   03/ 0 3/ `0 V)  
 0  V 0 @0  
 2 S  
  V  V  L  \ \2  `   `Rz 0L 3/L0   0O/4@(  03/ 0  O/} p} p|} pZ pLp pY  | pZ pG-BR 0   3/ 03/,1/ 0  S<  
  1@\``p  +  Q P@0 R  TG  
a 0! SS` ` S`  V  
    
  #880 0 	00DA, 03/   03/   R  
 R  0S  0L S'  
 `0  Q%5  P Q
 #88@0 0
0` |`d  03/ 0`  3/ 0`
 0 `00 00 00 0} p|} px p} px p    | p| p , 
 <@-/  ?    Q    
0P   P  0  S@ @  @
 , ,   P0%05P   P
  } p@  | p ,O-P 0:s `P@pP  
   < :;1C! 1 SPPa: \@tt 	J    \ 
 B   L	Q D  
 0"0*0 R 1: 0V  t    X p   p  p  p  @-M?  888         @04/  P   
}-} pV pP} p<0@- @0 @, @0  D  H0 | p`} p| pX} pO- @(+(0 B0C0  ; DM  @Po*: `pPppGoJ     `f  fZF Pjr p    0@  S  
0  S~/
 :x
?t  S  
   R \\
 R   { 
  P BL#,  $
   *  ^    
  Q   A )     P) L @    y X      
  PyN  p    \$ApL<  W4y    
  P  @p    W   
  \  L      Pd  pL W   
 QAl ^   
  PpL H Q p  
 Qp $ @  A    X   
   P NpL Ww    
 Q  @ @P    pL\   <LL  p 
 W pA	 \ P    P pG  Ls Pp p   
  P  v X   
 \ Nv  \     
 \ LPPv  X     
p W t Gsp X p  
p W` dFe  \    
   U!  ` u4U   $ U (`  `0` `,|`    \   
  XL X
 . p+ p / p. p. p  \    P0    p  P P     P       P$ (   P4   V,`   @ t Ld LP  L8 LcHspLS` pp `Pt Pc(PG  P  P # P# P  P    R  
    P  @#   d"     S0  S`SNT     0 S1$H   . $3H B R  6   p3 `3 0 02 Rp`   Q?  
 S3  
@ R   0  S0 S
  Q
s0D00@ R0  Zp2` 0  SP2     W<2 `  8 9/ 0@@@"8 0 0 D 0 S`06 Sp``
v`, 
4 ($   s20   p   p| p| p(} p  DV p8} p| p} pTp p} p|X p  } p| p	 } pp} p - | p4} p} p  4 } p} p  |} p| p} @} pp| pL d} p P} p } px} p| p  Z  } pP} p} pT} p  S} p| p| p} p| p} p} p| p} p  R} p} p} p,} p} p} p} p0} pt} p } p} ph} p} pl} p} pH} p@| p } p`	`} p} p} p40Q$} p `@- S} pL} p\} pp@-(P 03/>9>  @O 03/ p| pp@-`P 03/X0 0  S  >0> >0>  @O 03/ p>0> >0> | p} pp@-P 03/0 0  S  . . . .    .    .    .  . ? @O 03/ p>0> >0> 80 0> 00 0> (0 0>  0>  0?| p} p} p} p} p0 <A-R? @  \ M0    \0"02  P8  
 P2    03/ PP  
lbt"  0 Qh  03/\  Pk     Pv  
  Ps  
 0  000d   2  0 3/  Pa ` 0 03/  a  1     0 3/  PN   P  0  SW     PC  
Xa`!  0 \, ,0A  0  3/0    Q      P " 2 P5/ `P 1 0  3/0  P`0 3/   P
  0  R  0 3/   P
``|` 03/ 0 3/ p0H`4`} p| p ,} p-U p} p} p} p} pU p@	 R  
0 0/0 p@-   P  R   
	s  
  03/ @  T  
 ` 0  D 03/ pHH   Q " 2	s,,0O 0 3/ p} p} p| p| p ,} p 0p@- @QM `000  
0  0 3/ 0P*   S#  
0  03/ PP  ,0 0  S   x x0   R " 2h0  03/ @P  
  0 03/ p0  S
 PP} p0} p} p| p ,} p @-RM7  ,a P  0  R   hh!  Q " 2X! SD  
P! 03/ @  TH  
(q41    R3  0 3/    P     L0  R0"  (  0r   03/  0 03/  0 R  0 3/    P   0   0  R
0  03/,L0O 0 3/ 03/( } p| p ,} p-U p,} pU p} p  /$0 @- 03/0  P   } p| p@-`@` @M  T P(,@  
Lo 5/p` p W%5} p} p| p ,-\0\ M ^  0,D#&  03/  0 0/| p$} pl} p,G-4o 0 P  SM`  $4   R`"`2 0 3/, 0/ @Pp 0!  
$  0 Q!  03/x  P  0	S  
  S  
i  L$ S  
D$ SJ  <4 0  S   0 03/ 4  03/0 3/ # S#  
  # S  
# S   P
   P
  ` 0 03/  V
  ?#( S  
t# S:     P
` T  P
 8  P0# S   P
   P2 0  S
 " 0 0 3/" S%  
BS   o  P
   P
  `" S
@ B S [  P
\   P}$2 0  Sy
 H" K  Pr
` ,o  P
 j  P
 ;  Pb
 `  P]   0 0 3/ +  PR

 O  P  
1   RH*
 F  PC   (0    2/  P      03/ PP  
  0  R&  0 3/ "  P   
 0 03/ 0 03/C0 0  S
   P
   P	 0  0  3/.03/ } p| p ,} p-U p  @  L} p} p    U p  U p  U p@    U p @  U pV p 'V p@ 	 R1  :A-@,0s `  0  R   
# S  
# 03/ P  U  
HD T  A p4A pTA pA pA pA pA p B p@ p"  Q" " 2 S,2_ 0 3/2 0/  @ 0  St2H  0@ 0c3@ 0 0 03/  0  SJ  
0P  @0  0 0  SN  
0% @  0  ST  
0  D0@6 0  0  SB  
0  L0@6 0  0  SL  
0  H0@6 0  0  S:  
  0 @  0  S?  
  0 @  0  S  
  00 @  0   R0%05 0   R % 5 0   R0%05 0   R0%05 0   R0%05h h0   R % 5L L0   R0%050 00   R % 5(@u$@o} p| p| p ,} p} p(} p0-    R  
0   \  
 0x   0 S  
  P!T 200  < <0   R%5 S  0} ptx px px p| p ,O- PQ @$M*  
Q 0 SY  
1    03/  Px  
tqta 0  3/ 0d3/ pX    DA 8A( 03/   03/  $p` 0  3/ 0 3/ 0  S(  
p    S!  
 QPC \0B0  *   0   0 \ :    P1 H <@,  03/   03/( tx p} p} p|} pxx px px p| p`@G-@P \  8F pF p,G pDG p`G pG p H p,"? 00#  0 2  0`s  @F  
Y4  a 0  3/ 03/    @ Pe  
 2`0 2  `$" $$	 $$@ P 
 @tQh 03/   03/  X G 4  4 ` 1  03/  1 @0  03/ `  `0  03/0   @0 `    P0  03/ l0  03/t0x  t t0 @   d  Pl `P`L G/} pL} p} p|} px px p| p0 p x p} p1 p} p} p} px1 p`H} p<(@- p  `  PM   1  Q " 2	r  
0 R  
0 03/ @  ,0O 0 3/  T&  
 0    R   03/ P0  UP @  |0  0 3/  d0  P   @@2/ 0 3/ P(@} p| p ,} p} p-V p} pC-r `  O  PM@  !  Q@"@2! SQ  
!  03/ P  Ua  
1 XM  
1  03/   XX  
  1  R 0 +  
	3/ @PB  
P`!  0 Q(  03/p0    R    ! Q " 2 ! ` 6/ 0    @2/ 0 03/ 0 03/    Q " 20 3/0,0_ 0 3/,x0 0 3/ 0 03/ 0 03/D@<@ 0 03/$@} p| p ,| p} p-} p} p83  Q  
  Q.  
0C Q$  3 0  S  
 R  
 R  
  R  
   0 /Q     0  /  RA  
2000 R 0 B!  /2 @- 03/  Rq  
  R  R  ,B B  P2 R  0N pLN pN p R RhN pN pN pN pN pM p2 R 0! (  /R1!   B? /1  0  0/ 0!   /  0"# r  /  0"" r  /  0" r  /<1  (0,$? / 0!   /0   (? / 0    / 0    /0  " /  0?#100" !? /  x0  1 0 0/`0 0000  0 r  /  } p  8} p} p| p     p  p(} p       P0  000/ A-p    \PM  
o `0 03/ @P  
%p  0  P 5/ 0    @2/ 0 00  o R " 2`@} p| pT} p| p ,p@-```P`FFa  
 @PE0@3/ V8`8P`FFap @PE0@3/ Vp(V p(V p,V p(V p R6  0 ?  B0A- ,0p`P@0 Sp`P@ 0   
@0C`#`0LPP S0   R0B00 L Q  R 0B/00 L Q/ 0B ?  
  R B/ 0q   B r/  R'  p@-q R-  B` P,BP \    
0B000 S   Rpq  Rp  R/q  R/0 0   `0  2< C #0 
 b /o b/  R2  
@-  0   R  `p   R#  
 !   R    P @ ^0@
  0 S   R  S  
 @0 ^   p0 0  ^0  S
   / N0 R0   S   \ p@-  A     Rp0@B  Q  Tp  Sp0 0`0P@  B R@-L(Ko/menu    KServerSession  KClientSession  KDebug  KProcess    ndm:u   cfg:u   cfg:s   cfg:i   err:f   srv:    srv:pm  KAutoObject 0        pT pxV4                                                                                    x pV p                FIRM                                                   B9S           HG!har$02
wz 
     j     d/')/@KmT t           {fA]@O"UgH: v           V_o`D!s,^.c`E:]rE1Hez*.E~5
D(Yu4*MG`P5{5s.|#JAb):$l	_x@*hM,hI[?8	Z@^@yCcFCFrU [a#jQCV@^^VO==kb[d3l=s]H&J2N <\:%Ah|]y:	 4  00   R     P/                                                                                                                                                                                                                                                                                                                                                                                                                                                                     P  0  4  0   B  (      Q
/   x@  "!/! B @ P/  R/ B q @ P/0H- 0 0 S    00 0@9`AP  (#(s0 "@ (  #@b@jD"D*" $ BT$$q'(T$" $$ B(,$0$4$8D"<B@DDH\`$"dh$"pt$-.x@$t"	@4 0 SxRO`PPB   E@DEEq u$N(,04e8U<@DH\`dhpoLLt- 0A%x|50 Sa5  ALp`QlAhl44\hUX1lE  0 $( ,00 
,0 
  A%0  0 $( ,00 
,0 
0 040    P  
 0@  S" 0 3/0 0      >          0A   @ R  e4     eD  `G                                                                                                                                                                                                                                                                                                                     0    R    0        0^@-     R
 t pP  h  X   Q
L(H03/8   8 8((03// X 4 p ,  3333    	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      @M/
   @OOO Pp| || |0|@|P|`|p)/?O_o0
  8  4   Bh p   3333  '  )  5   ' -  j m          ^/  P  Q/ >   P:  /  / 5   P:/      R/0 P Q10# 03 	 R 00  0  S  
0@- 0 "QA0@ U@0 R0 R00 R  0 B  @A0 Q0/0  P Q1 0# 03  0  S  
 0 0000000/ 0 00000000000000000	0	0
0
00000000000/@-
!  
  @  R 0c#c4!4# 0    0p@- @  0 	0? R 0  @`B&cPP S0  @0 S S`? TP 0 H T 08 00 0 0   0  p@  C   @  B 0@A  P/ R/A0@   P/ \/O-     R   @0        @  P0     `p00 0   _ @ ,0   P0	 S R00:       j  0 G- J`=P?p>:0   `P       @   \   	  R       p    
   p    @$B@$ @ P  3 # Q  / P R    P 3# P  / q  
- 0 #3 1#	 000#3
 S   0?  4  /  /O-7?M0 0x0AI  pp P0X PP0BBAAP8B`@@,!"( !! !!"$G  !,"$.  !	 <  !	!     |1 Q!!  
!A!18 0   R  
!  Z!,     !	 
000    R  
   Z!      _ B!D!!@BBB R J,   @$(0, ^!J `  a             l0l    T , "D   ""0,""  Q()("/ `       A-x@ `,0P  Sdd pT8 L #80 T0( 0pP$  j j  `  a < $k A-p@ `l0P  Sd\ pL8 D #80 T0  (DpLPP j $k  `  a < A-p@ `l0P  Sd\ pL8 D #80 T0  (HpLPP j $k  `  a , 8!81 P}/C00a@-0    R0  
S P  # 3  Q   R S@ P"$ R     |     x 0q@  @   @  0 @   @     P @   @  0@0 @    0g }   @ 0 Q0/  P  
 0  S  
    R  
   P 0	    0/0	  0/ 0	  0/   \  
  : Q Q0  0: S S: S  
00 /0A Q R      /  /j   P  0    
@-  @  P  / ` p@-8`4  @ 0 PP  4(0  0A SP  *0 S  
 p p  0 pG- P `P   0 S  
 0 S80@/@ SaAr RpUU0#$ 2!"##,0#"#$%"#(&"$ $2 #<'2"64 78p9p:;0 @A-0 P  S`%   0F B S #  :8p0 4/ S   P @  
 @  @ P  0  q  P 
  T `0 &(w  P
 @!0"0     0, 00 00 00 0/  p@-@U  
 ` 0c#c4!4# 0 \  
  0" "0"  0  Up     0c#c4!4# 0  Rp  0" "0"  0  UpO-(A `R  p|
 VP1
P!Y3    80 01 0  P  
 00 S	   0 @0000000 0>> S0Q 0000000  
  P 
Y  
`VRp 0, 
50 0   0 00$00(00,0YE ,,  b0 00$00(0 0,0    @- Pp@`M j0 P!
%F   P
0? S< 0 03 0$   ""0l j    P@- 
  
 \  
    P     P
 p@-0 @  SP  
o  Pp 08   P P   4Pp Q%   A- Q `  * 0@ S0  
 S  
 S  (0p4 Q<  +p+  Q8P:  ;;08   8  
   /(40 Q  8` 0  44(40$ Q  
  P  
  `80     P
  P(04   P
 
 
  Q*  * A-@$   P  Q@ `#   0 S  ,0  S  0S  ,  \  
++8`D``@  00C A R  : 00  /pt T:    P0  S W  _ p @D 00 ,G- 0 @ SP`C  
 S(  
 S  
 (p40 QK   Pp8L  
 0020( 40  Q   
   PP&bP`0 `  0(40 Q+  Q8 _0b,"  ""8",0   (40% Q  
  P 80Q(`",0     P
  P
0`( 040 Q  PP 0*`"n   P    A- Q p `)  P  UP  0  S    0 S0P  S
0@   p P T
0@ T  : U@    P T  0 T)  :   P p  
0  S   R
@ S@   p P  P  
P0 UP UP! P    T0P   ' 00  P 0  S    P0 0C R0 B0@  0 X0 X*  
G-P0 P  SU  : {{  W @ `  0  Q0  0S.  8```P  00C4 : P %   p!  
0  S    X  
 U P  
 Y  
 y  
	   P  00C I R  #0105 0  0 0    Q8  A- P@0 p S(    R#      V"  
 v+  
 T  0 T  *     P 0B S5023055 R  @   `P   S R        P
 / p@-M @  P3  0@ 2  
 <   40 Q2  $0 ^P      !  J  Q"("    "d `"h",` P 0  P@00  
p   P  p t  P 0 (  P 000 0   Q@- @ 40  762 4 S  80 S  
80 4< S  n0F S  o0A S  p0T S
     >  P
  0< F0C@  S0  R 0C  S   U    \j O- M P p P8   0	,0	   S3  
 0,0    PE  40 Q  
   P=  @ `  VA  
  V?00
  S  
  Z"  
+0    0@0C!  S0  P0C  S +0@ @   
0`,00	 S  
  3 P

 Y   Z
  04 00?00C  1 p`P`@pP   T  
 u   q  X@  
 [  
    \ d0 Z
Pt   p"#`P  `Fh 00  S
g g   O- 0M/ S\ S@ P 5  
00   P8  0d P  \  / P\ P5  
pA0      R  
 R     P    \ R/ R#  
\  
0 R" R  
* d     P
 P 0\ S/ S
 00   P0  +0O 0  \ R/ R @    @ \ P/ P
 S   
 S  
  S  
  R  R. R  C    p  R. R  0S 0 0 . R . P       +p    R   R. R     p    . R  R
p~. W  
0S p  R   
  R6  
.Bo  S   ^/    S	 W# 3F  : Y  
  S  
  * 0 S0 0 Y1  Rc  
0 S`  
    S R+   P+0  
 Pj  0t  
  S  
0  +0   Z0 g  
 +80+0    P$04(  0   R,  + R,L9  
 ^7  
  ^AB ^ 1  aB ^  B  *   S@M . RP      S  .   R  +   ^
  
 R(  #  R_   p p 0 S0 0s  S  <e ej qj g O-+04Mp=   0 00   Rp  
 p  R P @$  2/0 ,   Tp! #q pp `p P  
40 Q  
   P  0 0  S S 00   Wb  
   P
  Z   
 4@0+0 $ 0c $ 09 Q7#2 Bl~ 0  R A;  
   Q  
     P  
0 RC R0     P0  S    P   d X
 0 $  XI0     R
 00#Q 0 P/0+0}00W0    040 Q   0   S   
 +000 0 4  d  P
 
 40 A  P  + 300  Q || P 040 Q  
  A  P   P   P B0!P `  0 #  S01   ^  0`` Q   SPp Q`` S  
 0  S  0@000       0  P00S0PpON!   <e 0@-0AM +   q(  (l0(  0$0(  0`  N 00 ? 00  0&  P  A1 SJ?
  
- 0    0  Q%01#.0 R0  f  P  }?0~/0 8000j  
   0@-@ P 
   0@P
  
0@00D00H0 0L00 0 @00D00H00L00  @-P  O- `M `p  P 
  \ !@ T   
 @  X   
,yP   P R  
  U  E 
 (      h  "      	`mn( .`. ."/ "", "/ // / 	4(" ((    8,4@0`C
p   `&   
   R  w  K  ( (o  C  ( x(hg;   ;`,P'<  "(   (0`N  "  '4`F    &?    ( (7    ,0    0 ,0  ` p l`t``h`x` &!  y  
 D@&@4P04?1f$0h 
(  	P  
X   R0"/  S R0 0  0#l0P  K  pP  E  X X ( (hhP  :   X ` %|  "h (p`P     h (P     t`P    h (P    ,P  p ,p    U    
 U  P   Pm  
 P  
 P `  DC $R~  OPN T  _^P] T\$TH  PB Q m  E  Qi  
 A f  J I  `  LK   [ZY X GFQ  
(
 PL  :
 @?  @rG  D  PW  0 PI    X$`( 08  
  ,  / U.  :        *  ("(*  ? UI GP ,	mR  Q  
 RR  Rp`  V    U P  
   Pr   X$`( 0
 ,  cb  0$`( 0!f g/ eUd  $, :  ih $ R   
4  Q  
 9  P 76" $  R; : 98   $  R""  $  R#""&'"!%"  $" $ gj j  a      `       @    j  	         $k    7 i  F     U  RRaArrAa-M0#   '  P   D0     0  R    \       _j A-	M @ `T PP  
 0  0	0@   0?  P01  ; #    S01  
 ~   ,0=  4p p$0    Q $     0 4 0     `(0/ S 	  S  
 P  
 P      
 H  ,0P I  P,0`   Q ^$J       ,0,0    Q    ,0 X      
 4pC  PH40 W  
 2  P4p@`,0PiPgO- GMM $K `S  P+  
 P&  0  S!  
-K$	@  0  S  
/ SP00M 	  0$ K` 	0  pPb  
0  S  W  
   KKAK  PM  ;2[  SJ  <"[ G  
82 q  *t @	 oK L$``Fd    S$ D  P' 
 PA 
 p   
D2L$  S4D?K0  S 42CA \0 *0 #  S+ 
T  
0 QPA0 0 
  P  
P;RKK4  @COo    PB    KK   K4-K BGK  @|4 pPp
 WQ4[ pGK @$ P04p4  
 Y 
 y 
0  S   	B pP  t  80C   S 0^ N0O00.J 	.C0P 0	S8R0Q    R)("L M   X 4s.t$Y!r s 4 Q"(l " m GK @4  P p  ^J`$404  0 0  S))400  0 p$
 "p3@K@ AK<"K: PP`;R[  U]<2[ PY
82@" SU*  Ss   DKDR<2[8"@0  P<2K@"   E
L$0 K0"M  P;<2[0<2K9028 XoK  
@2oK  S5  0	  \` UP!   
<2[<<<2K82@"0 R 1pW@82@"<"[ 00"K  P<2[L$0<2K020C U  T4K  PK 0   P8pGK	   @,K<2[0<2KP;RK4L p  
 P  
L40 P  :<2[8"@0<2K@"p  pP$p P<2[8"@0<2K@"P<2[8"@0<2K@"P 4"K^`  O-M `  p PP    V` V @@  W@  T          @  d  P @ P @P  U0 5  
0@0C S`1  V
	 0=  0J    Q I   P_   p  
0     K B PU  * 0+  [P  
t  
 R
pB0  0  P&  
   P@P$  [0
  
0  Q     0
  P$	|a Vp1   `F@1  S  t   
0)  P 0  $  @  W,0   Pk  O-lC<M  0 ,XNP  
<00  
6s 0 C  U  P    [  
 `  x H00< 0000000#H@  T3  
@  R    T  DP       @0    P  6#   P  L2#   P  828"   Pz  
 [  : [00300 U   S  3 ` V0  Sp  
1 0  P0 i  
0  Sf  
 0   0 P^  :P@^   R  
    PP  0@ T   
H!0 S 0400 S*" %1   !0 S000 S	 03/X" 0    00 0 0 
"0   0000 
t 0 S0`00 S\0\p 0?0  S  
3" *  P{^  
xj j     `    8e b      "!/! B @ P/8DH- 00d
5<M  0 $  0 T
5 0 %   0   
5  0 / 3?   30  S  
3 `SC0#000 `  0p  X3  LP0s $ o ,3 WS00  bB         r 0
5 0
  N00  
0#      0 
5 0 ; 0
Q
50` 0
  00
@0 03 0 0 ( r
5  @70@0  T70)  P	  A1   R<  
  Y  QA   P  
N? OA $%d ll1 0`0S0 P NP P(  P!1   Q   
 ' 0@
5 0  7( ( ,p   00# }   0 0# }   Xg    |i i      !  i j k  `  j j KzBi i j   j   	j         @- 0 S   S Q/6  : P"   #  
00Q  Q1121:Q  Q1101:   P @  ! P @  !!P!@ #!!P@ !!  P#2! /   /Q!! #  3Q!! " Q!! " Q  0/  P      Q
@-@ A//  S  R    Q  P   M `-   /O- @P QM P0 0 3 3G  : J    F   K{  Kr k8| Uk T 3 3  :@TP0 >  [)  
pf`	  0S@@P  ^ 	  
  T S*  0@^  344` 	p  `V3p  Z   	O/@-  Q           @/P !A"P !A" P !A"    /         @            ^/  P  Q/  R/0 P Q10# 03 	 R 00  0  S  
0@- 0 "QA0@ U@0 R0 R00 R  0 B  @A0 Q0/ @1  Q QPH-$M   0 P PP ` 00 "HA@@0BpD EH p4 	8
`, V	  0 4
   8( <,  l @P`pt
  p    /   0  0 e4  @  @ eDnand:/boot.firm sdmc:/boot.firm       a     x 029J.yM C=   (":	 e,;;=f,?@AAF
S@ UXZ\]^_abdefgjb,lmnpqstvwxyz{|d,~DE{    
 0 P`"6 Da&    } c, Z  0@Q YR[T]V_`p     N! 2!p!! !$0,/`,g,u,,d -&A  	                                           #      %%%%$%a%b%V%U%c%Q%W%]%\%[%%%4%,%% %<%^%_%Z%T%i%f%`%P%l%g%h%d%e%Y%X%R%S%k%j%%%%%%%%  ")"a" e"d" #!# H" " "  % EAAEEEIIIOOUUYAIOUtH"*-(wb0ZzKoG2:gytJiPjs%:_]z!MONFXD`;W3Ik3vzfdj& 6D1(Mv,P*!)D8uJ <z%NtB?z#RX1nu:9C.wHQ2]%FAT32   "*:<>?|    +,;=[]  boot.firm   FIRM    0:  boot9strap/boot9.bin    boot9strap/boot11.bin   boot9strap/otp.bin  1:                                                                                                                                                                                                                                                                                                              (                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   FIRM    *0`                                                     `       nNPGe4{~cU:*Kt     P     v=)9IS[[,2/ ka           M{y::b2>`Vp.wAw                                                rE1Hez*.E~5
D(Yu4*MG`P5{5s.|#JAb):$l	_x@*hM,hI[?8	Z@^@yCcFCFrU [a#jQCV@^^VO==kb[d3l=s]H&J2N <\:%Ah|]y:	! hh   P 4:X0/T0/P DDPp< /?O_o ( 0$	1	   "    P0404: !      0
("S 	 0@@@P@ T @@t@S  T d  0)  )  7   ' -   0
 PP a 
 0    ` 0      0   "        A- P  A  0  R 
   Sc   S-   ` V]  3 =C ^X    SNS(1"(103
  :SM  *#%0	;CX0-B("(%X` V   S P S00 P7    ^  S   ` V-   R S*  
`p W&  #60:C 0C S   ` V   R S  
`Coo Rb `  V  p` V  ` X  &9307C =C    1p@-  QP	
      
 QPZA  R    
 0Y  
0  R 0  
  $  0   Q ?  U  
0 
" @ 0  Sp	  
 .dB`B.h.`BB   Q     Q   / @?) 0 @  0C S/ @@@- P 
 @0@     
R #3   Q` @  p@- ` @P40Q`   
  T  5@   Rp @@-,<0,80,40 0 0 0 00@- H@P > """<01 T0"!0#100#0# 0 0 " 00@- @<@P  """<01 T0"!0#100#@0# 0D0 " 0 @-  \ @0  
@ \0   
  ##.20"200200#400 00000A S 0M  
0A S0  A Q 00 P   h h  i i i   /4   1      ht -"$!B,  S  \/ \/ 0 0"  P  /O- p @   
 T   `P( 	  0P     R  $j 0j xj j j j j j 0H0   0  00  0#0 P Z`@ H?o2 `!000 0}H0 s0 00 0sH0000G- @pP0E W `  0   w`	 VP PA- p  
 @`H  TpP   
   G A
@  U  0 0 @PE @D 0 SA- @ !
P0C!@4PU@#EK$@$T5 0P9 U$3 02 30-$4 0(	PT5e 0P! U P `pFT5G 0P UpFT5 0P U F0A`7  -   3! B1Q, b0#0#\ 4p@-@ P@B   PG0 
0C70C@D U$@D pp@-@ P0  P )0!3.ccp`A  Q/0@- 0P@A   Q 0O-`M0,1)1A0 P  U  ` Y 09     R0  X
  )0  [* )
  p0p0   0     Z	    [       
p XP H R #  [  
    `0@-4M @ 0P 0,   R  
     0@0@0D0 @00H $ L  (   0P@,@" 00040  -$M "!$!    (  0 0  $-$M  "  0  (     0$A- M8pP R@`  p  00 0b@00 0    P  
  W  00 0|G`00p `@0  @s0@-$M0 0@ 000 00 0 b  P  0 P`0pPP` p0  S  P    $0-$M0 0 000 0 0 =$@-P @(& 0 00@ !0"" $ (   S  "   P4`p 01 01P U    A-P@ `p0t   Spp 0 `` 0` W  
 0 W00000 AH  (O-@ P  B!M p   0    P @ 0   @	0   	P @ 	0   @ P0	    @
 PQP
 0@0 U   W  P0    @0    @{ `0  
  U  0 S  
0 U  V  
0    @A @e` XPO-|M 0 0 P
`@P{0 0 
  0! Y   R 00 x 0  S,0  ( Z   0, |
   0 S    0G [0  0`0p
 X00` V0
 
! 0 ` !   0nT` YI  T H Q  T0T   0q0 cR aT0 T0 XU  )0)
 !!
0S}  P0 140c1c4 0KE0K 0 0E@X @0`7 Ex00   `C U6   Xp   J	 U  9  0   G 0  S0  T0o
    T0 g p`0 W000P T0  Xp T0R  0<00C0$00`00 0 0`0	 [   0  [O    C   p0 	 S000F  H000800 S  0 00$0`0$0 00 080 H 800V0"@ D0a   0 C$0(0 0 UpX  DL0(0   (0  L00` p `  X0 Q0 0  #+"  [   0 [   `
 Z p0G040P10  U  P `K U   pK`PG  U Pe0f  S 0c S00C0
  f   K	 `V*p W P
 XXPU^P0@ X`00 S   Z  
`P%5PU`#
fpK 0 	 [	 W X`P U
  00 s;  1 0 p`J 
 
   Z P U    U  0E00H Y    U     Up   U 0p0e! R  S 0
  V0  `/ [00 \E\    ": 0G<      U   0  @ `  UP 00 xPE=
0   S	pp  E  P  0 S	    0  1 S00 ` [H
  0  0 P p0	  
  U  0 S  
0 U  W   0p SP`1	0X0  0 0 	  X Y
     Q  
0 P  00 S0`   
` UpA0 0	   P  p W`  
`   	  p 	 U* p	  tpp 	  m0  S0    e0  S    ^0  S`0 Wp0  pP	 Qp  ]W] W(` U 0  p@	 Xp  ]W] W(` U   1  Pp U
` B0    `   `%    0G-(M'0 0@P&0 Z   0 p! 0`00&0 0`0 '  @P   
9  	0C! S  R  :&0  (@       O-MP  P @   
  Z      p  X@ 
 `/  P@D
 T@
@  R*0D 0 <B   Hp  Q   0B0 ;/  P"4@- @P@M`  p PP@  
 d	 A @  0 @  A- M@    P 8p <  
` 0 P3/  P    0    P   / AV @-&0M@0"8 08#<$! ( E  P     0  '  @- $ 0"!$!  0   @- $ "   0 0  @- R 
    0 0   	 	 0# 03A-U [ Ea  p` P  Q P:p@-P  @   0  
    P0 0 ; 0*   Pp 0 P[ 0Pp !4p@-
ZZ  
p@ 0   @ 0  
    pP0 
" "!w*   P
0 PPp" "! O-TM'pp ` @x PB  Q #B   X  
@ T1#0   Y0  	 X O5I 

  p `0E Y'  P	@D T	  O5 $" p 0`P@  T  
 0  VO5   p @00 UT0  O- P`@pd  T  	 T1	!2K G2
 R 5  P`@D  @- @ M 0      A-P< S*  Y1 @  S&  |   0 E,B S  R  : 00R0  R 05 R 00  S   ` p C R    0 `pS   W  V      0@- @|   0++0?0 @   P   O- P@    P  d  
  P   0 R  R    T  
|   |  
p	` 0  0  X     /p@-\P ` @P@  @  @  @ 0900	
  V00p @   P@-@  
     T @   pG  0p@- @PQ l00    
  p0 T`  R0   0 3>  04  $0R40@ S,   p        0-p@-MP#>," @ 0%   `  \0   TL0 V0 0A0 #1 P ` 0    0 P' p@/  0   @-SMM p`h  P  @P     0,#   ^ , S  4 0S0@- PM  PP0  
 0 6  PP   P  
   0 0( 6@   P
& x  @-   	   P   l0    Q
  
  < B Q   R     0  R       A-0@M `   0  P@'  0 0  @P%   ;  @P   Pp, 0p  S0  P  
    P  
 W P  P U    
0u  S
 @ P T @ @ `O-LM, , P@   P V  : 10  S    :  U 0 0:P   C   
 @  0  S40   4    P0404 0B	S  *   
040 0`0000C S0000F	Sl#  * lPU P  0E  P  T   
  08  SQ  
0    P  
   !14) S  
 L0k S0  S
 k  p h 8 80 S0L9  U0P#T1 0$ 4  
  S 
  U]  0)#0  S  
 Q-  *
 M>8 P00       04024 0  8 
   P0   80? S?0C?p80p  S P 	 ( Y>  Q(   
0I00	 ( >0(  00 0 S  7 P    U P@ U$0  S  U}7 P
    UvP Urx7 Po00,  - \    00008#<00800 S ``h&lQ`  *!00?0 P0 00PP / 0 S    C ( $ % 0,00000200@0)0 l-P.P/P1P3PB0G U`UQ 0  a  PP0 S(  0   ,  R0A r 00a0 0!1Iz 01 0 QQQaw 0  r &   0\ S p P0 St  0 00PPPPPPPP	P
P0`V1#	0  N  P,  0	`V	00 0 Rp  0 RZ
P1[#0  3   P0Z000 S0  
80S0#  *0 S0000  S/  
  0    P020    P}      P   k .R  ' f 0 08#<00$0)0|&0+ E V 0 80@00 < D0   PQP< c	 < P  ?`,   q_!20P Z     V   Y     R@0  U01U0  10PU
qd W   	pp #  3 Y 3  RpI    W
    0?0E <<E ? < `"?   E F E? {<<  pE ?<'!? EpEP$0  S
  U	  P0(\1  Y  
	 R6*  W< 1?040@ 1 @ P 0 00 	P00 00#   40C 0c	0I S	0	0
2g0  R:0   0C 0C  
  C#<0  S80 P0  U ZP U    :     #>  Q,G- P`@pd  T y  T1!5
   2J"G2  	 Q0P`
@D  O- 0` P" 0 U
   0D"x <@H"0 pLxpG0 00 @  S$

@@KD F    T  PP
 ??!I<? ?+A<  0  G- p` P@\\  V   V010!`F0 @ WP 	; @	;P    p@- P`@   P 0p V   p  1@O-EM8Q4 @8  T   
 P4/ @ E4 `80   0xP %D@H@X0 P  @  T  
0  PHD 4/ @  T   P `H0D  U
  P  P04  0T08  0L@ @H0D  T=@\ `0d0    T<  P+<00H0 X  \0D0`0H00\ Col 0F	 S
0\ pJ 0d  0\ #_ \ \ '\ X p0G	 S0 0 V 0  SP
0\ I p T`  
10S7#S8300 F  0#$0%  *:$  
   (  p         X
  @  /o  X"   W 0   T   P   S00  SS@  0H(  X 0 [&   0I Z$    DK@ T   @ S   p@ p 0$ 0R0  T 0  S   T  R  P N L J ]000  $0  0C0C?o2,00  0 V!(0 01 Sq            L  \  `0L \ 0C, ! LL  \  `0L \ 0C ! LL  \  L00L00  S7  
 00000 0000 00 00}  @P  0 0 0\L      T  0  4 $\L   @     0(p0 0l L  p1!\  X0 S @0h   Sp l          t | x                a  
0 0000h 00 00   @PY  4t 4  PS  
 /  PN  
 0ht@l  Sd  0p 4%x0 p   @P>   0 p 	  @P6  0%p S1! Wp# YV   	 WY   p W  
   @ Q    Z
  \T   [w  
 ZH    K  pGppHh    Ph00C  S@h ,       t $  "          J  p  X! P     0 !  !00  0 	  Z# z J ["  3 !1

00m   
K00 S
   Z
K   b J _ p < Y  V <   P  s  P 
0 T|  0 00  Y  @P %   P
0 " Sq  0!A! Q 00  R 0  Sk  L  \ ' `0L \ 0C, ! LL  \  LL  \  `0L \ 0C I! L00L00,H BpA13  Q    W=  \L0
  0	 
 }  0
 x  p X+   p0 W/  0 0h 0\L  0 4  S@@
 \ $L D !1011 S@@v0A    PpG 0!
 B 0!0L 1!\ 0! R 0  
 R 0  
 R  0 \L " pP  P           HO-`[M0  0@p| 0 P  S:  n 
i) 	  0   0Y0  P 0  SS@%   U   Z  
I  PPS@  

0  `B 1 00  00  W  @    1.00 0>K  @ [n0 T  08 0`     0  P  	  @S@  Y  P   Y   
S@   TR@P J?B/p   Ue  	 Bp ,` 0 1$0$0 Z&  
 0  00(0  t2  1,`:#d &X2  1c#(`0 V 0 Y  P  `T8 Uc     @5  pP
1    0 100   01!  @     T` V0p`  $00 ! S0  :@ T! " ,!"4 R/!!	 0        U    Z:$ 04 (0X   0 E  00 0(0 	0 100 01!  g  @O- 0`@  IMM |0008000  S PD     
 < 0@?o P20 8@$   P0  
 P0  
 P0<0 08 0 S 0x006 S   p
0, 2  0 4 `p# #"$",,     !!  60 p W p0p2p4p6p0` 0604 20 M 0  S   Q  00 C  R  "C  R0  1C0 S030# Q   *44 Y     X     
  T  
@  W(  6 02 40   8 ,0( $b $  P   p p  8 0  W
  I>0q004G204G404G604Gp0p Wp p3p#   
 0   86 [0  S  848848848l  !  R  0 S @C@A 0F @@S 0(#0(#|0 J @  T@ @  TD 
= @  TG `u0P  04 
020 p 0  S  
(3 R
  (3 R  3( R00 00@ T( 0i02  R  4 Qn
 S|i04g08 S  2 8 R  40(0C?o26  R  
  R     R 00#  S
  
00 004 S04H00 D0020@8408;   R 0  S6
@  Tis0P  04 
020 S 60  S  
(00 R  (20 R  (40 R  00 004 S04@ TE@W 0  4 S 00# R|  03  R   QG    SE  
   |	 W   p0@ 0 0 S   0 R  :0 S     $  I@   Q0  0 	   P  
0    ! !0 01 01000Sp4  Qp0  
  R    W  
(30C  ( p  (00  R    pp0Lsss4|0` 0p
04 20 d   X  #3 S  # R7  
0|0  T"  #0 S3 Q0C0C?o2 Q
  Q  @  T 00#  S
 0@ X@0  \0p W0  S8   0p0 Wk W9 W@7@8  T      O- p  P@0 Q`0   [ 0 dd0 @0   0 Ne@0C@D@ U   4  x	 |4     Q    P  
 Z    
  /    `	 U @D  0  0 -0@- @!MP @  "> 0 0    0  P!0@/ pG7   0-O- `M]  ? $(0o  V    O/
 Vp1
p# _ DL2P18(  X h 0F040@@ S@0# @0 P P$4  0 P4 L2 2"4 03 P @00 Z0c  :F U  
0@#0C  L0 G:#PF3x3 0 0
  0`3Hm L V

   3  P ! 3J ?. 
040  0  0b 00 2 00      @  @ @D   @    @D~      z  
@ @R  V\ [ 0, > C  0   ` .   0   P 00  S 0 0 0 0< 0P 0JL"$00 J2#
 T 0  
 0  Q1   Q1  
 Q1 0<    4 0PL"  0J#
 T Ka0  
 0  P1   P 1  
  P00    P   
 P ,          * 0 0 0o  T @   T@F UP0F T  00C TPg  00C TPgP	  pG  Y{  .  R  K  c    t  \rNT0-O-MX`
= pPd! 0 @`P!  H1@H00 U  ,1D(! 0a 1      0  `  4 @1  
 @  }  O/(       00  [  0D  0
 0a  @0;# 
 S/10   01@  W 0 pG  0-   0-0M! 0h   800040   0	D0    P  
4   0/   0! -A- 0M  S `@0  
@ S@0 Pp 0 0 U  :0000  00   pP	  
 J  P0x 0 0 U  : A/ 0  B P0      00P -O- `MX@
=" T0D \   P  2  0    P 2 2 L"Pr!  W ! 1< P<0}`2 p#p1 ScL  @ @82	 0,2  @u  T0d0d 0L  S   	 R
P#2#   P 11#3@ D0<0 	 1H 0 B1 S 0$0 0 0!004 00( 00H 0000D0P1 0 B(1 0,3 
 	     
   P0   -  @   

00P@0 UPb UP  
 0?A1cPERPL0 P   

00PED0 UP    
@D t@ 
@ T @     
 O/   pG   `\/gfffO-,M p`  @PI 	  0   p,00E	 SW  P  U82 T   1$ 0  Q<i0 Q{  1S!u  : @P
@ 0 P   R    S  
 0`  0   p 00 B S  0 
   0 x  0P  (! TC    0 T0010@`P  U0 T/  1 c  R(  00Q!"  :0@@ 0L P  Q   T  0P = -0	 @ T@%  P 0@    g*  N  f  O-PUM `   @    P @   p0WN/ S/0p08    P*   X\   P
 HW   P
G  iS N0  S  @   U  X  
 E   P  
  Z
@0 
0    P @F? @,00 ,   @@0		0!  
0  1 0  0 Z1  
1 S
 00S 0: !8 !0G-M `  i  @P  _PP   @ 	 0@  @P  3  Sp    @  @ Tp  
00CS*
    Ps@0pt ~ 
 0    P  
@   0
 0	0  P   P@
@T@O-JMM  P5  0p `K  @ @_    ^    L  
  V 06 00   (0,000 B  
  L   P  /   P  

   P.0(0 
) w  0  0  
 =   P&     `P 
0)0+  
0
    
 P  0% 00	  I  @Z 	   	     0   J|xtp
0)0a  
G=  Cnq  @P4`   0G  % 
  1  P @ A  
 0hS 0 u$0 @    $ 40         $ 8     P   Xk  0  S   de \$ QX400q?0@`?> C 0$	  q? 0$0z
0 0
 U 
0  0?  
<
   w   Py    PuF 8.  PP(pN  noA  Z @0  O =P'4Pr8P4P     <   P    40  S    P`p D "
0  0<) 
0  06
i  `<   P  
 i ,F8 /   P=!"448#8  S7  
}0 !#"44!$$8#8("(  QP: 0j- 0< (   P0  
n 4 "   P 40n/A  V  pPp $   Wopp D 	 `!a  10       @ !P !F f"0B0\B So>300 R 
 R  0#0 @   R   P
0  S      R
 0@    !`v\G`6=P  !hO- @_MMP  0 p1 S(   
    P  

    P  
 P       P  U  
(0  S0@ 0$ X v    0  0   P   0     X    P   0     U
  
  l   P  

 W _oRc  0 ld  
  V  
  XX  ^ 
  o p    P  
    P  
  XPX   
    P/00   0P0,   >   P
 9   P

 I	 ,b5 0  S"  
/
 t   ^ 0   S  t
,h# 6  0
0 S0  P0 P  00 _P  U  
    PT0   
  X X M    PH{ 
f^   P  

    P=
 
fT   P7   0  ~   V  
 F   P  
  X   \X  f   7   P 0   V!  
3   	l   P  
  X   X   P     0 V   P 0 #    S  RP  V`q	p'`C ;  f> `&f5   V  
    0  !40,0   0&4080,0fz   P%  
 P  V  
4 0600 00! S  R pp  W  0   f? =   U;   0/    >4 80   P408  S P   !  PP 0X    
+    0   !  P  p p	   P   P(0  S `  V
 G X,`   8 ] 0   0  08 Zj=0@-MM P&  @P @  
  <      P      P  < <2 R @# 0P0  80! R  (0  /     @-0 H@ T 0   T20:? 0?    P @- @:   P  
 A-@  P  `  
  V   
P  /p`  P  0 0C S 0 `0 A/ O-p 0<M-0.0/0%0,0 0   0@+`0 X  QP P  
  S  PP`=  
 0   `P  
 N 3  `  _ p `00  6/ `P000 S
$8-08#<420 0 p 0 ,  0P0  
 0000 0  0[  ` <0@p[C- P``0$M@ p  0P   P  P   0 0  0  g  P  000     0  PW  P  T0	XP P 0$dO- @  ,M  Q0      0   PL  ``  4 QM  pH   V  4  RT1 09  
 0 006  	`81 0 0p$0 G P  0	  P&  y pG  0   P  0 0 0 0  P     0  P     0  P   0 R  
  , V(X D  0 Q  ( # 0 00	 S( h0@- @     R$   3(   @ Q,   
    Q   
 Q  
  Q@B" 	  \@      
0     
   \0  3  
 0'    00 S #3/ S	  
@ 0
!  2 04 0  0  S  	  
0.DL@L.H.@LL0 S #3  00 S #3 @ A-p`X2 @ X"p P SM    T0T  X;40 0 00(0D ` @q'  ,  ,O-20   
  0 @  p@p QP`
  *0 Wp!pG0  @P`F  V    0B   t

 V4<   0 
$PQ*9 W* WpA   ppG@@)gdd V 1  R
 FQ #{ V$  p
 0$	 S R:  P*  U  B @ $$  p  \"  $  O-Mp#>@0l` 0 8  0 0M  $0+r ` 0  h  P  
` <a Y S 00 
 6  Y X0  : ``	p@T	P  UT  :$0
 +B  P 0++0
`d0  3 `P++ D  
   UT:   0@-@ P0 0M 90000  S0  S    40|0 
0   R  S   @pX`0    pL
T;  0 0  @~    ??s@-B1111000P   0`0   6  ` 9P@ 02 0 
     o400
0l 0  

2 @    < "4  0000@p  L&   @  @ O- ` PCMM  $X   , 4`8`<`_  @  `d6lt 0p 05#}3	p0$0@4X\"4000   00c0BM S
rr c?@  @    D  H    L    P  0@@D <00!20"420H0 #( #$ ` 0T`n `c     	 0
	@0 @  Xx0	 S   0	 	    0 "
P0T=7
Z 0:02X0P028#81\0120@0  I0	 S  
 0	 	  <2   tzp   Q0 S  _  900-c0j@0    X0zI  S0<     

 Y0
0,|$ 	 W$  X `@0   `X0 S  
 0 ~ 8  0
 w0  S  
Y  0 R  0  R0 00  * d 0	S
  9    R  0  S   C @0   @XX v @X0  KX l QH  ]   ? @   encryObjO- P@" S,M R X(  P`Tp S R  *R0PT0  QP0 04
     
"`0 `e0` ,`	  
h2`   0 P     n  
<  Q`d  X   P0z0e d04f8g< R0   0h21T 0P0 ``U0V0W0i0  S  
    P  
 `   0    `  V
h2  S
  
@ `  Y%      PY*6 %  S R0 @$0 @ DP
  0    P
4    P 0    P  000 0	  0    
x0x  \  
  
 0  U T*PT	 S R  *0RP0P0  0  0 `  _   00@-4 P  0tM  
	  
  @ t0  
   E @
 d A ;     @P
d   1 O-0AM**  @    
{  P 40  040A pG  
|_|o  Q    P8  Q! 40  S  / 
"   
  
"     40  
(  P40  P(  P
(  P
N   >   PI >   P
 $ 
 P  
d>|`>\0P U8  ! P 40   
$> >`0  
>>d0  
==h0  
==l0  
==p0  
==t0)r  
 0 0
:40p=   0 Q P0  
L=21 0,0 u00 0 0  
  U+   20a
  r  
 P2  P0V
  $ 0"?0 0 0 S$  
 SI<"0D
 P q+  
*;P40 #   U`< 2  3
   r  0 s*
00 0< 20!
0 P s  
   *+0P4  0$P80 s
0P0 05S
; ubH@0  H;# 0  0 4 
* 8 "* < P R6  *1!$(, 0PD0000 S"    1  R  
0 P  <C<  S #3 0 PL  RX *0 0Y 00 $*"*?"   0"o ,B,  R0"#0 0m 0 0m @  
Y"  R
  
#  
2  S     `P  
000	0 & 0  	  0   Pb  
 X^  X	 e  t 020 00 S 0aP2"#4""!"44($$("(8 `  YY   X
8    ""4$!448#880 "4$!448 #88!$ $ $("((  (( s 05.1 0 0$0 0"0000
;:405  7
   
0     P   0'  [ Z7& 0
  0   P}$   0P  $!  00 S 08 $!, >  
& 00  S 0b"0 SV  
 SVPI Q6  
X Q6  
Y Q6 0    & 8   m 0|&  P   0 2 0 0$0 0"000:,  
 0e  S+  2  S'  
x2(       
      % _  0  S  8   4   x PP U   PiD 2  Sd\C 0C0 S130o00#0 B  U  !	 S R % P0    x280 C S  R  
"ec U    0[0 00! S  R$ P0   } x28!" U    S  R`$0   Pl ! 0 U    S  R($0   P] ! 0"") U    
#0   PM P  0"401 U    ^
0  # P< x280(0 0,01 Up  ^m
 ` Pf  0 "402R  
      	 Q P
00   
d A0  e0  e P
< @  0P/ S 00@    P  cd   ( , !  PP
,   P
  00  S  
  `P   0 d 0i   P| r   0:c5 S40l `d;`F$ 40 `l{
 00 S 0v  ST1`RdR  Up
8  -  0   SB0A0 !Z d0(0 0,0 0  S
d0 0   \+    
 0  S
S!0000	4 	8<0C(0p0,P(  0"$0  U 0$0040 0  SA  PP_   	\  <s     7  w pG   O f\kp !(= ( M1.  ( !1 < B @l  
   R  X
  V    R  X
r
 R0     S    R
iO-P `M, @8   7a  PP       | :408   P    P
P; v  PDD  U  
00  S  o	H     P
4`"     F   P0  
  	  
	  
,N
   P,N  40
 d AN  N   P
d  %   P      
 N	   o  P
 m  P0    "  P     ;  40' S  R0  
121 0,000N ] 0P   ` N` 	 *` S!l!2 q202 W*  :N @ 0P] P NP 	 (P S!p!2a2  VH*p X	   U   N B    P  
` Z   V  N0 1   P 0  
p ?" 0" ?" 0  "40;40x [@-8M @   P  
   8 q  0#3  
 S  
  / 0 $0#31 	   # 02   /0? 0 4  /0O-$M  	p	`P@8."(#8 0X2 A \$  
  X  
A$ R	   @JU  E RG  N@@,  T   \  
  Y  
A R	   @ J  F R;  @pN@thA @  
00041!!!!  !!   R  
 ( !( !( !18 0$A$@LL$$LL@L@ R

 R
@	xA @@@ @@@@k `  a           L0L    ",,,"0   R"()("/ `   O- P`0 p 0  S'  
8@$0	     0 < 0 00   0"0  (0 0,0l0  0 Q P0  
T0 01 0,0004`40P U  0 `L4X R/A-p P@  4  `P@D T@#G  @ aG-MbP<082"n(>@" 0
 @ p  0Y0  P 0  S  
 0 U  T 0000	  	 ]   0     0  Z 0    P
A-X`P @  Rp  
  $      Q  P0 00 4@- 00      C- SMP`(h@@  P~   0 X  P   X0  P  	        <q	       N  T0   P  
 SI 00   P
<     s  Qp@-UU @0  ( !   0 p@   <LS PA P0@-TMGP10P  
E PB P 0 040 L    0. 00 [  @P   0  0   T0G-PM P@` p( , }  0PA  
	 W   Z `	  P C0@C`F
p@  0  S
( 0   
 R  R\,    P Z  R80    P@ TD`     P`0@D  Tp
   Q.    0  R,  
 T  k   P0@ S   
  0  PpG@B# 3 X  Y  0 - 0MO3!  P' 40@D@T*  O-M,MP:  (    P  
P , 80`XB\ c4# C.0C0, s 1(  0!  pP`d#0  S
X1( 0!  D  @P
0!     P  
     P h   P}	0      P 8   P *   P0  	 X  0  0000 B'   P      P    P *  PP     P  G-Cp^M( P@`        0	   pD  0 0  1dD    P  0 S  d1 S  !1/ ^/0Pl  X   $  pG@ W 0  T 08 08   p(0
 @ d   d*   P  
 Y ,   T  
 0  S
  o^w? "448#8  S
  T  
 "4$!448#880@0 `  Q  "4$!448#880@0 $  A       'C-NM$Mt1  p0  @P Q  `, D 0]0   !	"N  ,B S0 Q  
 @0 T\   s 0\   A  	 i @0_ 	 P A   ^ @0     	    40  0 0@P   N$SMDH8Q0@-MP2     @P   0- .   P @ MDOoBb  $0O-MM p` 0 V-   P  
P TQ\1 PUP  Sd1(P  S808A<P c4# C.0C0, s 9   00o0  P4  @P
	!  c   P  
 0 j   P=
 0   P  0 
	 1   P	    P &)  PP=00$!$    
 !   0     0 $ /o 0"    0$%   P$0P U  PP  
 
  0- 3@  )  P   I  P  ( F 	 .   P	 O   P (  PP  UP  O- @MM7``[ 0 p   @/  P0Q0  
 0  @/  PPP  
P  80I	 c4# C.0C0, s   @P
 !:     P  
 }    P
     P  0 
	    P	    P t(  P=00  P   0  P$   P  
 I ?   P     R P  
-   @ # -M   7  P     P=0 ) 
  	    P	    P -(  PPP  O-MM08  40   0    pF   P    l(   )   P= (0U(   P x   P'   P]}   Pj> "448#8  S0
  4
  0  4 SB S0 0  R$ X 
5.&,0 0  S,0 
 '   P  
 0Q4# 0$"44P/8$"RS/#8!$$("( ( 8   > "$!448#88A  
6V (0R  S &   04#$$0S!448#8Q8P/$"R/  $ $("(( 0& (    0(   	 6(0  SY
 S  A ? l :1<5. &Q4e H`, V  0/ G1   P>
/P& $0  SV  l%  Qh50E,0k0#$$!448#88,  n  R   P   "4$!448#88H! R$  
  &> 00#0#$$0(#.448#88"(0\ ( 01      0
 S 00Z 0#  S0080 08 <0@0D0  0H  P 00  S	 &  pPmE`j&>0  S  
0  S#  $3  Q#  0 # 4 48#88 
 0#$$!448 #888 	  `G#  Pi  
M 0  4#0Q4#$4P/R$"S/@!$$.$8(!#8"(  8d (q k   R%  
 &   P
    P
 0Q4# 0$"44P/8$"RS/#8!$$("(( 8 ,0   P,0
  &   PA ? J Q$:1,0p S 00W 0#  S0`Z  `P  
0  S"  
 0  S  
=0  R  0	! -   P  	   P=0  ( h   P	 &   P 0#$$!44Hp8#8E8aH  6    0  ? %  P  m84ZcJ+@- @  P  0: S  0/ S  S0 0  <   \  1TP! "0 S  A- @T (  !   Q   T  
      V  *  ^  : \L     V
   \    N0 5:P Wp%P5   - 0N02!0C0C 0  PO-P1P1,M @  T   ,    P

_  PP ``
 0 S!  `00 0 00 p00P0 0 S  0`V0J C  %   P `  0  P`$000  1!   P	    0j  Pp $p@-@ 0  S  
   P:6   
    0 0D@ 0  Sp  P:6   
    0 0p$ O- @00P p1`0
 w    o      v (   P ,    U  
 
    P0@P  X  
2#$$!448#88  0 	   0   U0" 0%p@-(P(@   ,   0  0,0 0p4A-$0` @p@ T  * P K     0_@ S   R  
0  S  $0(     0% PC  q40A- P	`  \0  
0  @p   @ 0  Fj  0  @ p\<0p@-0 P  P   
L $0  @  P   
F  000 0p4O-|MO `@  p PG  ` ]  S 8[#< `$`(`,`4 `2)
2*   
*  0  S R 0 $ .%2 `a 0P@     *@ P R 0*p*  S R  0$"#0 #20%2` .{ 0P    @ r *P*0 0  
  $" %2 `.a 0P    0 0 |hG- P @M Y X `pP8<  
^  * Tl 0   @ Q P	  
H0H    D0
    P @  0  # 4C-,(` ` Pp  @  p0 Y  X  
`0   P0G  S  R@0  00 0    P @ X4O-NMM?0   
 0    00y 
 ~" Q Ps 
L P@n   0D   P	  
   
 0 000D   P  "[  P  
  @	0H    P
  H    P  H    P 0 ;0<   h ! A   0", 0"000 0    U T04  
  L8  EH  0h00` dl0 0 00`<Dp 0@p@`0  S  
80 0$ P   R;  
 R;  
 R; 0
    0+   ` $(`,P0 Up     0P(0H  
 `	 0P `P]  0[ S PP  Y P  U9  (    Y3  
$0p8@T;@p0n F   * 1  4(0;$P 0 Q P0000$0,P4PpPP8    :p0 F   H* 402;400ppK  (0P   0P  
 `     ,    P ,
 	o p9   0)   
       S900 50015  0    UP9  p$8P$0 q0#P0 W
  :$00 S$0 00 S 0,    0  
   0P     ,     P
 8  `P8000 I   T(G  0$`0 01,`4(004`8`008   x8 000 I  '- l0pP2;00001t  
 H" Q P  
      7. @ 0
   0p'
   PP  
  T7  N       0p`" 0F  (0,P0p4P8  X` 0H0C`0  \PdPhplPp  ` 0F0C00PPpPH 00  S.  
800p ! l&      ($ , 4  U 80 `0   ``  x 6 0#  % 406;40 0P` U 05   ^ 
 `F# Q P 
   0 u   0L    PLP E   P@    Px0  0   0L    P L4 # 5L  @  PP   h"  0  g"0  Y,P(0P04`  
  8  0\PdPPX0`hl`0  S  
80C#  d    P $ (, 0  S  
80C#       0 $ (,  P0  S  
80C#      P $ (, 0  S"  
8`0   t   80   0( $  ,048   P+   $+B( ,04*0  
L`=!"448#8000 0 0$0 0<0 0m`(0(00  R 00Q 0#  S  2 P" 040	 	0 080<0 1S2 r  
0 #"44 ",$$8(#8"( (8 0!  SR 03p  : 0,0$0 0800 0 $0   k   P2  
 <   P6 0,0'44(ttx'x88p40h1040<! 0 	0
 j  0 0$0$0!"80, 006  R400  
 
 " 0 040  0 	0M 40, 40P     $  $ (00`0(0j<|  @T @  9DO@S\go}D\H -*44X\P.  :!CS]fvc @   
 $P# Q P  
l p`   0P *   PVP   @PR #     1   P(   0  P" 1b4S0`304@(0
  :  p8  * 0e`&hl@ 14S  :80S#   o   0   `P101$01  S  10  S/  
80p0(0
 1  0<2 0 0` 00 1  0$"$  $" #08 8		 = 2
 0 0  0	 0h 402;40@ T2 `  
   S  R  
        q `P P ,   P  H3 @1     oob  p   !" 0,  p"1  SP  
  8  0P,0 0% 0+  V&,00h03l01  S  
80C#     0!P$  ! $(   , 1  S  
80C#   t  0!P$  ! $(   , 1  S,  
80     0!$ ! $(    V, ,  0 !4 !"! P  
88      \y 40P;40 1  S,  
8p0   j  0 !$ ! $(    V, ,  0 !4   a P  
8p@8  V    H 40P;40,6 P 0!  R
! @ 0D, XV  0    P 0     PL6 @ Q  P  
 tF  S  R  
  V  w  P6   0   P    \x   F S  Rr  
    `   Z P W   P    0(  %  H  P  0( S   ' R  0  S  : 0 R	  :0  S  : 0  R  *   0%wW    P   
     P  l
% p ` S Rf
    P`%  0% $ 0( 0 !! 0 $0, 
 x  S  R 
 @X @   P-  r  P)  T9   `\ p  "  h Q0  \,@(@4%  
    0    8 T  0h   0%= S!-	  
 S%-  
 SI-  
* S  - 0 @& 0,   P*  
      0    0 Y80c#   "  0    ,    
(   \,   ( ,  @ PT0  S  
80c#     0 P @  T  (, 04 0  S  
1  S  
80c#   l  0 !@    (, 04 <0  S  
80c#     0 0 @  <  (, 04 \0  S  
80c#     0 X @  \  (, 04 0  S  
1  S  
80c#     0 !@    (, 04 D0  S  
L0  S  
@ H0 R  *80d&     "0(0 0,0@= @
,],m  Q P

 0  $L= pD0  S
L0  S
@@H  T*x0  @C  P   
I  @   P  
  @ @  0y  P $ 0@-  @  P   
0  0 0O-$$T0DM  S0T0 0  S      P  U
    5     @  Pq 
   @m   % uZ `H``  
p%  pj  t5p `C+d5       P
%      R!           #5    '    '(  , 0 ( 4 $ 8   <   
%  8   4 $ 0 ( (   $             " 
X$  0 0$ 04<0000	
  p#3X #\0 300  p4p'\  X   40X00\0 0 3 pp4 0X0 (0\0,00 0  D3p$p  3  0 R   0  R  400X0 80\0<0 p20 4pp0   3 pW  F z   P `  `P1 z  [0  Z    [ Z!0!03  S42 @,  @ (  D   H   2 sP  
 00 0Q  0  0 0  S
     P
0 S(#? H`$`0  S  
  0!0 \ 0$  0) Q P:*
  
  t  P
! H S  RIAo        ! ! ! !;    P0D   S` 0`8  Q  P   D480  4P@  ,  8? 0 @ EDCBIHGF, , ,  , 	p@-@e `P e0@?o  P20  S   @  // R 0   0P    ` 0  0 `p  p 0@   !$0  P 1 S/	 Qp@- @@ Q@ R@  T P 5  `(  V   `0  p V   V @  
 V  0 0000 V0 00
 V  0 00  V   R    S  
0C@ T0A !  $! @- 0 P  0000B  @P'  n  ;   P   
!10  0 $  
  P  
  ^  
 A T  : ^ 0  Ro! R 3p @-(0 S 0  ^  , |  P C- SPO `4MP'@0@r    A   	0   @ 4@-LM@ P@| ` N  h0   P  
  L pI  <0   P     0%"  s2-A-   P"P%P5LE0PPPP P0(5000;005"$ .. ."/ "", "/ // /$  $"l$  P  PPPS  4T &~0 
0  S  t0 C   (l0 ;   (d3   9`3S  b2(T0 #  #h`L0   2h#882T8A00  l`2< 2,(40    -Pb1      ; PU   P 00PPPPPJ  "0?Qrtbv  ( d0 
0  S#?  U S0 0  0#0  0  "8(00   Ph1!p R" (0@p  x(d  hL0  @0(0  0P0 P  W2882 10  
@0  x  02  0,0"0k 2<2 tx (0 _,XX Z a   4   `       @     	            7 i  j F    l0  P@ C  @-@"  LS$ D(O00 00000 00$ (C   
 @-P@0  `  P      pA-p@ `0p  Sd\ P<L L08#800$  $P 4 `  a < A-p@ `0p  Sd\ P<L L08#800$  $P 4 `  a < C-(0 ` SPp2    Q @  X! 1  Y@      ? X 00 X 0  P 0  S @  
0 	 PpGl 0W0  T 0  S  
0     @  T  
  S   0$ $  @P S     m S @ $  X U@ @    p @? X0  a4@-M  0    @P       P    0 PA-@  
 Pp U `     ! 0P 0 QP)) PP  R@  T    @ T    @  U @00 0 0  
j K T:4 0A-M0r @P@ Wp`  P p0 B  0P  
`  X'       d `P p 0  *   U  P?PR~?E S0(
}_E0U8
   Q   0  00 ; `P	 X { 0 @ A- PAE    a\0 PS p	 pG qd  P
  
 0     P    1 0 1R  P  
  0     P
  U  
00  S   99  SZP EP  Q7  P  
  0   d  P
0P 1 0   PY  P
 `  a P  0 10   PH  P4   O-Mp?@0` 0 @  0 0U  $+$  
D2 00{ 	 D2 0 0 o P <a Y S 00 
 	  Y X0  : `	p@T	P  UT  :$+  
D2 0
 0H P 0++0
`D2d 0 0 7 P++ D     UT:  @-`@M1  S   0   80 S00  \   Po4O-P2ZZ Ut"  @` MM\\r   X   i  0 <28(,0  Sf   0 0c0  $00 " 0 0 0+4 0 0$ , $04  00
 U  ? S    S   R SF  
40  
  P
4L    
d ( a 00 0 0P "H  (H v   P", 0"40  
   ( F 000P"H +H(   P 40P4P P   0  P
 
 t  P
 0   !  Pv 0$ 0  0$  0B "\  8<A-p@ `0p  Sd\ P<L L08#800$  $P* 4 `  a , O-M P#` 0  @P 	  
 P400 U  :   0 CY	p1{#0  0 S V   @0 S*           0? S    @0 S   u 46  S     Y   P   Y ,G [@0 S   0   0
 X @0 S 0h   S0
 |<L L08#80t 0$ 	 (@p 4 `  a ,  O-Mp?@0`
 0 @  0
 0c  D2$ 0	0+Z%  ;0D2  0	0   P   
 <` [ S 00   $ D2  0	0 9  P   [ Z  :  
`p
@TP0  UT
  :D2$ 0 	0+  P 0++0
`D2pdk 0 	0 H  P++D  D2  0	0   UT:  O- P  A0@ SM  	  P0  
 ,X  X  " P 4	 T   R    @P
  	0   ]   P   001Y  
  
  p  (S   (  `P  
  X
  ( `0p0 lp    [$ \!   0q{0 0$0  S  :   
    P  
  	0      P X   0 s/  
   0 0  0 0<V X   0P $0U  Q 0B/V8  
 d  (8    (d   P  
  X
  (: `$0p0$0\@-4M @p`:v  PP9    V  T  0.0 $ @7      W  
    4  D  P  T 0.0   \  0(    <   8  0 0 { 0 PC- `M pP    @  T  
L<    }   P    u   P  
` V  U  
,    @O- M`/ P  @PY  
@.  A0H pPp St  (00,0000 0 d40    P@@  
  < $0   W P     P@  
     P:  0f 0< )   P%  
    Pl f    0 0p W       P	@  
  x   P @
@  V  
  TS  @ 0S0   R0S@A    $0   P   X
     P@  V10H0 Se  I 23 a  (,04pf?  p   P00  
 \f?   P<  
  @   P6   , ( @  V
8      ?1`s0 WW  

0D Sc    pP
 T       f? 08    P
  X  : t   P  T0< X<  *  z Tf? P  P@T2H XOI03 K00 0 0 $0 ;  @o  W    P;
  D   P5@r?1   :   P  
pp0   P
@
 T    e @ } 7	 T    =   f4   P.+ 0f      /  @ h       0 0<    PP? 0fd 0D S   0]  4iY  jU  (kQ  ,M ,mI G/ T   (A  ,i= ,j9 . T   r1 ,-   )  $i% B/0rj 0 @D T  ,i C/0A0C S@@@\;s8@-`  Pp5 0P   	 S  

 S  
 S   @  W  
 }   P
 0  00 8   0C S @N@0   ps   P @-  @0@ S     P  
   P      P  A-M  @$    PB  0   n   /0 ` 0 P  `npX$ T   P   {   P
 v   P
   Br n0  S  $ K    `   
  P
   P
   P$      P
 @-M 0   0/ \    @/ T
0 S	    \  S  
,0C0 !S/ R CO-@A$@,Na   [ Z  	@_`  UT  *pW~    <p S0@ P^n  \AhbG   -3@- @0   0M  P s  P P0@/O- pPM Lu  
 00  0   P5  @  T2  
@P     
   0     P  [ `  
  P`  
  [`1 `!  Z   V   V        	 8/pFo`PF@D Pr  U  
 	 8/O-  P`/MM  P4 002 " 0 0  # < | xP$ <  8P 800x0  0 PP  
P    Z   d   P     /qO@@k
0   Pq   P9 
 a   P 0  b   P U   P9 
, ; y  9!p pKt'   P#  
 r   P 0 000 0
 0   P  
P 0000 0 0  P
   R    0    PP   >C>C<<= , K 0+u <   PC   P  ;, ;  PPP>O- pM{   P  
@(  W @@  ThS  
1  S     P  @    [      P  
 @  "    P
@r1  S
  W4  
   P/  0"H   0. 00H =  `P0 (  40xB0000,0d"0(0H  00  _  pP
0) pH j  P9  
 Z  T  N  `P
H0 0  6    P   pH 20 S  
 B  @ W   ;   X
1 `b` VI  @0  01 0200S	8s @ 0   @	0 $0 48    $("	   ,   VR  0 80004 <000!0	  
 0200S   (s @
 TP 5~  @,    0   S   P @T@N4d  p3O- Qhsp PM z   P     0)  U 00  S8  
(C1  S     P
  h   ~   P  
       PP
 ` 3 0+ 0@$  
5>   `T  Px2 0200S m   P  
  U  Y
4B1 PRP Uv  x   0& 0;  
h  @P
6 ! @s P F  Q   %n  P!  
1 S  > " "44u/8.#8.$$("( 0  
@1 0200S   m l V 6 0% 0
(  Pf
0  0 6
  PP   ` 20 S  

  T$N@$@ V  
 |0 0200S 0 0 0.m P L O}  `P8   `0  l   Pz
-4d 
  O 0@- P @DM<   P   a P      P D0pC-BM P`f    	0  
0 0=  	 P  
0ST   @ Bp 	0  
  @P@ 	0) 	0  
 0   i   P9   on  @P4  D   R   @   P@=  @+R   P  	0	  
    P    @ 	0  
,0   :   P
  (   R  
,0S     . @G-MMp @`  0   0   
 ~   P@  @L   P w  P   [ @  T pp  W  
    
  ,  ;        P   @"   5    	0  
=      P
  0      P=  
@ 0 #20  00"# #5>	05	  X#-B2@ Q0B   P  
 @  T    0     0  0 0  @ n  @P J Rl0  
E Rd0  
P R\0  
D RT0	  
F RL0  
I RD0  
@S R<00 0 00 n 4:F$W,7@-MM p=   PI 0  
:   _  P  
 @ P)  0  SB@ P  < `   N  0P      
 D   
 r  @    
 j  @P }   Q P: P@0
ADp@-#M ` @P0   #p  s   P    P  
 s  F  @P s  O-MM?000 p   0 @  S	  {   P  
P  `,( 1 ( 'aow  P
0 0  
J  PHbd0
 0	  `;  PP@090400>$0  Z  
     P  
    P  
@P0P$0 S00 +  
 T 0 F  0 0 J   P00 	0 AJ  P( Z   6 J  Z, [1   P    0
 0 0 r   P  

  ~00 	0
    PP00 !  
 [ T#0D pd V  VJ00 [:@D@
0K  T	 T18  :	 T T
@KT
  :
 :q   Pa  

 om   Pa   
a 0  S  
  t 0  S  0  > C(  !` ( z   0
  (    PL  
( z L1	`K 0 !   P   $;   P1  0  ! 0  0!  Yz:p0XH$0	 T T1*$ 0XR! 0IHI  
 XH4 T(d".: I#:  T0\   [Y	 ``` `I ^ GQ*y
  i_\dxA-!M@ ` o  &  P 1v   P   -   ,z   P     P  
0  S
 |z 
  pP\ 0`  `  0
  0P000 0 0   P!@  G-BM @;  p P 8 % 	0   $ i 	 P  
/    P9  @ B  0    P.   `P  
/    V  *  0 `!  Z10 !  u   P
  dy   P	0  
PZ %_ `PP  @     1!   0
  `4 @ H   T
 0 0  
 	0 	 @   P
 { @ 0 0  
 	0 	 @   P
 3)S	R 	0 	 @   P
 P   Qp@- P A    p  R `   
  V
@FOo  VB@ P@#  T    P #3  R  \  ^ N      P  
 @  Q  U p 0!0 #125/O-M$00p 0   0P@    g   P   \  +  `P)4*$	
%4T$
8*#8H	X00$0h 00 0 Q P   ~  Oz   pP
, m  %  0#0	0 0 S V 
  :<   ~  k~   <  T00   SR& 0 <0
 	 s 0  S  
 2, vi 
  0  0 0
    P
fO- ,Mp`IA  @P   
    P U  :   ;    o   P ,FZ#
 0 7 T0	
  0 P0H 
  Vp@-  P   @	D ^	  5    \  :  p \*" T  
@   @@ @ @" T ^@3 @#: ^2  :  PpXt  p       	 @   P4     ^  #  2  P  p  0@-MM   F  P  O@@ \y 0, 0   P   n   P  
 } @   m   P
  ky ,0    P *n  @P }  0  -M?  Y   P    m G- RM 0  8 p  \   P  
p R\ 7y /0\   P  
  $8 r \ _} PUm  pP)>).0  #D4"DDH$HHOT
l  P  ? 	 l G  PP
       la>  V  T`1 
0\ D   Y   
 ?l    V-  :0 0 \ }  $    W   P
 8    P
   (   Y  ?/	 al  Vs   P
  ?   v  pPp{DZ#
 0\    Y  
  ?El 
 ` f. HA-M 0   p    @P  
 x P P    P6     0      P m  PP?``,  pH   R  
@P _  P  
0d     X0p   P  8     P        xG- @R P`
  ! @`F U	   p   W
 @ p 	    p 
    PP00O-`pMxxx P 0  SP+  

   @P     @ 00 0 0 ,  P  T       R  
0& R 00  S  
 
   P  
      P  R	   P   P P    P
  @P     @ 0  0 0  R   P  W
P@-`Mp P  U+  
 0  SP'  

   @P     @ 00 0 0   P  T  @@  R     P  j R   P G-1@ 0 p0   T 
  

 n   P     P `XX  V
P 0  S

 Z  @P   3  @ 00 0 0 y  P  T 0 0`,    @ \ B   
 R&  
V   P      `   0 R     ^
 S  *0* S   0 0 0 L  P  
  T 0# S
` R	-   P Y`O-`  P  PO     PJ  [   pPE  ]   @P@  q 0  S;  
  
    P5  
Y  H2   P	      P
 C  #   P	    ~  P
 4     P  o  P
 %  @ (    @ ,  
 Y  \   P, D   P0  
, ,   P000` 6 C-p0 PAIM5    RP,  
0  S?  
a}F@  1u   PC  0  S@  
0 0H1 D! 4  S4  
0 1  
 $a0@S,  4  /u   P7  
040C  40@0!u   P* 00    Q`
0@  0  0  S  
  IP 
u   PPt     P
40@0t /    P
  p `I| A- @PhM  
`   P  
 [   P    P H DP $ $P < tD  P  
< \D  P  
LF  F($$ ` T$R$r$     D  R2$ 1 *   T`PP  
      P    V  >  P  E   0$  00!0,0!0(0D  0$0B  D V  T	  
 H   P  
 8   P   c 000! 0D 0& 000  0$ 0   T  
    P  
    P  
    P  
  pD C | Dc  Tl $^  Td0	 0\ D  H DShZxSa4		@-0  Q `p$M      P @    0P  @E$P 0  S"  
   I   P  
@T^ @p   $ 0[ S P   
    U  S
P0] S00` 0>0  S @`O-MM =O~0$=p(0(= @$00m  S p  
00  000 0  0   P  
@ t 20 0 S  X0 C  2    P  @ Pt   P  0 U   t   P  
x  x 0  S   ` g ,<0   P   
 00t   PP
P
 @ug  rg 0   0 0    P@  
 0K	@,00  $0  S	   g   P  ?o2 =` c   P	HZ#,0
  $0 @P@  S  

 =0 c   P@0  S  
0
 	 ~   P@(0  Y 00  S&  
 g  0P40  !  R  
+   40  0+0    P@   0    " ""+        Y

   0  S  
       0 *"0K
   <0  P@
 S@  80 Z@0  0
  0 0   P@0$	 X 00  S~`   ; (x  &x 0P  S  
  ` g   P0 #"44 "8#8!$$ 0("( Q P80`8#0C s    `" O-KMM  ,0 @,  0P$0 0`8@00 0  R 00  St  
` K 0<8080
  
 D0o0C?o2 0C?o240$0  S    I   Ps 2 X(04  S(00C 4$0  S(  
4 @xs   P  
w  w  (   P  X 
  ,    P_s  0 T Vs   P  @P
,0(  0 0 <5 h6  `  `> T6    
0#40P  0
f L0,  0  P`  S  
 4P b  f  PP P  1   
0       P`PP e s     0  $!!	 S R    V 
  000  R00!  SR& 0!`L0 >  0 P ~   0   
V  X#  ,8  0000D0 !D4Q  000 S008 40  R 0  S  
V  X#   0/ 8  yf  P  
  f   PxO  8  SL  
  Ff   PF  @0  SD  
V  X#  ,	   	 g   P  @  	 @g  0DH=@=  S*  
D=  S  
H  Y    Q  :0, S
  :A,H @@g 83  PHH=  S  
 0  @=f   P     0    Py
$0  S  AYr P0  N L0  P S  P0 S<0  0(   ,0 0 0*   P
`0600 00 0 $ S  R    V-
_v $0  S  
 Zv  i w$$  X#  QF X 0C H @L F R !0-   P8
0/ e   PL
   0`Q ~p00S00	00   SR& 0 L0
 <  0 `P`  S  
 4P =a   P`  U  

  0~   P`$0  S  
Aq H0
   
  P `~ L0
 S`  H0
 S`<0  ,0  0 0(    P` B     `0@-PM  @ a  L V  P  L q 0< L   @PL   <  0 R  
u    u  0p@-M`, P   0/ 1  @P  
@. 	   P@DT a  0 0  5> jy   P  05S   _   P   
 p0@- PM0  0  l0Sy   P  @\0 T   $d   P  w_0#00       T  # 30     O- `@2IMM  0H0 $ P ,
 q  0/
 G1  P  
U  P  P  
$   S  Q @?    d  @P0  Y0@@ @  
Rv  P  R -`   P  
d$ coR^   PR_   P
w?0  Y#ttx 'x   cV o0 0
0Cl<c`0 [[3  :   I  Y   0  X000  0 # 4 48#88 ? 0  
$  00 `   0
   P0`($     :Zc[@-0, @p0  0/ 0  `P  p    PP
$ pP  w? "448#8  S     c 0#,448`#88@F,  PLd$          Zc0@-M P L   P
  L Fp 0  L    P  
L rt @   0  S `  @P B` L .p 0< L {   P<  0 RL Vt  0O-@YMM P} 0  T   S ?  @       P	  
/    P)  P Y@  @0    P@@ j   P
0  S  
 0 	0  
,     0   P   P  Pa     5%@ a @`n   P
0  S  
    `P
m  P  
   	_   P	 ^  P=!}"448#80x 0 0p$0 S 00X 0#  S,     R  
TX  ={Pp 00 |"w   P  0 |">w   P)b   P  PP  0#  U   Qm
@ d j 04  !00R3   
0 4$0 0 0p   P	0ppk	0  
  pPh
/   P  P , L  .
   P  m, } / ?   P
 @ #a    P   
 	  P.   0 	0 #80<0C^  Pl  X`.  0   0;000 0 0 0+0`/ PP0  X   S    P
00 P Fv   X
co	\   P	]   P
w?0
 , 0,  P0,#$48#8	 S   Y  #  R
` ".$$("( ( R0N  
0(	09  
L1@2  P
  0  @  n P `  	  0 	  v   P	 c  PP 	    0   @o 0 	  P7v   P  0  @a 	 0/	0
 0	   P0_ P    vDEC O- M  @P  
0  
4 w 
   P  
4      `#  X K^   P$ k]  PP)a  `P4 =00#tt 0x  ]'x P XX3  : _   $  Q" 9  
	 
  0z  P0!  
0 B"- 00404 $(  8d4   ) 	 
    $00PP  r@-#M @    P   m 0,    P   {[  @P  
 q @   q  #C-`M @p , 0   P  
P 00  S  
1%001 a  PP  X     W
1  S
 m , 0   P0	 ,0 y   P _  PPP1  S
 fm + 0   P0+00  Py   P
O-MM0( Pp   @ v  (    P  
` O@@ k7m    0  P  
  U  @  o  \q 0  WpC  U  9W  *  U@  m 9  S:  
 
	   0^  P1  
9  S    UH@ p l 	   0G  P  @ 5  0P40
 l 9  S  
40   0 01  P  
  U@  040 ?z  pP  
  U|@ 9  S,0	  
 l 0+ , 9  S0  
 l )
<0 `0$'   [  
 l  0)0 `0$ (0   0 0    PM
9  S  
  t   P  

	>00	 W  S  
  [&   [# 
 vl <0` d 00   Px 0` d x  0P0m d ]  P  l   0P$0  
 `Rl 00l $    P   0l $ x  P0x`L|p 0  
 `Pp o  0P 0  
d \ 94 $l  00  q   PP  
00000L 0  
  P00 C  P  
d m\ 94 k 
00  F   P/  
 0$ ?o  R20  Z0  S    [4  
$ )   0  S0  
904 k @ 0   pH0 	   ;0x   P0	  
 ;&x   P   0`p  $6 `  i 0I7y V 0#03  [ 0  S|    h1h 0Hb1c0 S 0#03  [ 0  Ss  d [  94` pa  #  B 	   
 ` V	 ` c  C0s0|1r kk  W 00  [ 0  ST  $0  Sy 0  S  
    Z  

  ,0   U``     V  
9  Sx1  
, p  Rl1 0)  RT  
P!  QD )  R0!  
0  [$!     @ u  bo 40  S
 0  0( <r  0 $0` r0  0	 0 00w 0 0 00   (         P` 'B^zq3C- pM 0    8  @P`8P  
  p  @ ` VP
$
  	 o  P
0 `    @- @x   p` 0  
 @V` 0  
 @` 0  
 @K ` 0  
! @gl 0  
 @Fh 0  
 @ @-M P`p  <  @P  P |j  @  0 @P   
n @   n    @-!M@@ 0    P    !p@-M  `  PP  @$1  S  P U@       PpG-HM px 0 P@  :  
\t  PP  
  P  
 s @   9Z  @P=00m#8(
`
 X 00Z 0#  S
0   
 U  H	   P0`
)0V* V(V$'0V48@    
  @@    
 L    
 H    
 Q   @ P  @-MMPP0   @`p  D P   -  0- 3@   	  P C-@  `cMp 8  ",   P   ,  0  SPy  P   y  c0 0< q  `P<  q   PH  ,0 0  <xq  `P<< T xq   P  
< 8 pq   Pl0   0:gq   P-  
   h X  `y  
2 0 )  
0  X K ` P2  S  
   0P'  U` H  < h  :q   P
|0 0L :1q   P,0 /]}F  s@- `"S  @P  
 T  P  
 Q P  7 PP"<,  Pp   P A  pC-p0 @S`P(	   	 0;  @P  
 h   P
0	 S? X  0  L A- @MM 0    c     P  
@ 0<`c 00   P    @P  
d    c l  H6S85 2:  Td   0 ` ~  Pk  p>02F>C S0S(  p W T  
@0 cC 00   P  C H   P
0| p      P
0  ` H @P	  
8    c l   0tW  P	 U  c l  c    J  P  ]   P 0  `   P  
 0  `   Pf`0c 0 0 (  P  '  PP
0$   \ h@    0- S    \   C  Q  
 P
   \   	 \    P  

 \ \O-  SM @3@`"  : X   Y P@    RpC  @C T    0@D
 S R 030#?
    V 00 X 0  S@   0B S   : 0C
 Q` X    0@
 S`F0  0
0  0o   R   P@   
0  
   @`F X 00  V 0  S @  T 00?
0  
   `  0   T  0  J y `
 0 0
  @ 
    0w0`  0@O- TM0D(0 P08 DX010 @0 ` 0@L0L 12# \0 0 Mp,0H@00P D 08 0G0 D0  8 j( H0 P@ 4   @@ T010!P0(0  0S0  R 00  R 00T00  S 0  (04 0 S 0#03, <00 S  
X0  SX0 , R 00  S  
0  D8   0 0@@# S   
40 S(0@DH0  T [ \"0@  0@L" l P0  S  
 (0 0  0G   R    RT0  S  
  ! <0  S  
L0   0 @  00 S7  
80 S1  
U!
 Q10,     |!l      T  H0   @ P      4100@  00l T0  S  
0 00@ 0 0   0 00000 0 0 |   T<0  S  
|0 00\ 0h h0n 0 0 U  :L>0` V K 0P
 S,00,0`  \_W[  0B  1  _  KO- `Q4M(0  
 @P) 0P0    x  00 4s   (0  S  
)3 # #   0  Xs  `3 L  `0      { 0  @ p  Ug  	 UPj  @ (0   0	0
   0
   
,02 LR t"  M ,0 @ J  
 0     X0 0   Z 00  S  0  Z 00  S
 Wq  0w
 SPE Z1 $  0@	0 S0 `  [  
p       R  1      0y0     p@  j  7    ,  I3    [/  
  
0  D 0P 0 0$0 0  [ Z   @  0 , r     
  X  p0  @ 0  00 ^ 
   {0
 SP Z e~`c    p@- `Pp  @PP  
 0@  r     d 0@   P b  p O-@ MM= 00 @000?0F?>>0F?^> R000l 0 00  @ 0 0P(0  
 [\   0I S  /T>  ST0I S / 3 0  0  	0C0 S   13 
 0   
	C S Q0
  00  P  
</@  !0I I ` p R Sgg P  @ K  P  
 00
 x0p   P  

 p   Pg   0' Yf   _oR a n (0 0# S
@ S
X U9   l   P
 0  @  `P$  
0 [p0C    # R=   S   `^(~0 (8    P=8 )  P0	 S  0  90     Y  =P.   U	   b   P@0  S	 T U hV   P` VH   S- R   W W
  0` S a0C3
  0 0 8   Pa  
  2   P]  
  ,   PY  
  &   PU  
      PQ  
     PM  
     PI  
  l   PC  
  X   P?  
  D   P;  
  0   P7  
     P3  
     P/  
     P+  
     P'  
     P#  
     Pgx0a0b0d0e0f0h0k0l0n0~o0|p0zr0xs0vu0tw0r Y  $ g A=0	1'<C080a=8P0 `a= 00@ W   0 0 80*0E S 0\ S  a   n R
0+  
 000Pa=0 0a-0  0$ S  a  0PH0  
 H0  D   a=D 0 0Pa-0C  0a=0 0 00@0  SS
0I Y S  0I	 Y SK  Yw  Y      P 8X.P^   UdTX.  P%  U4  
$   Y  hX>P  S0B  
T>  S   
 c   P TP^  U
   Y  @XX>  S  
T>  S 00T>   Y   XX>  S    0P>   P 0
   P 0  0CT.X> Y  g\  P  
8  0P>8 0B  PP     T^T^ Y&  w P\>`  S    0P>  P  
 0    P 0 0  
 0  S0   0   0\>T> Y
    x6  P8` Z 	 Yr  0    0    ^=00  C{ * v  ` p  pP@  
y>01v0@ S  Y00Ipa=0       0G(0	0L0 S	  _ \    
  00(0 R  h:3    
 0   S   ^=01  P
y>01` V0	  
 0  5   P   |% & y>0 &4`.
 Y     P  0<
} Y     O 	 Y   C  `P  
a  $ PP  
$ S     7 $I  1    P Y  x  % l PC Y*   Pa=a  0 P  } a,  e=P083ad.4  RTP#0 5/ PP  
h  }   U
 0I SJ    X ` ,  a, i e=a|  0 `  Pd
 Y!  a/ $   PD
;QP%`0Pa-0 P 0  _  P C   U 
b PPPP
0[Pa-P 0 0 _  P Y   K PPP Y"  a,   0`i-   0"  PHa      
<   P $
  0 0a   Y  a, ~  0Pi-   0  P,a=0  Q  
   PC Ra  Y  ,    
 PPPLl_oDRh Yz      
\  P _[ `    
X  	T/5>M[cjsz  &>Rl     0
x!$4ARbzk@k &4A\Khvy"6E
 Y7   00a-
  0  
a=0 0a-0  0  
a=0 0a-0  0  
a=0 0<a-  0a- 0  r X P  
a=0 00	
a=0 0< Y'  
00a-  0  
a=0 0a-0  0  
a=0 0<a-  0a-0  r  P
a=0 00 Y$  @
   ` pa  P`  
 0	 x0  P`
 0"08' '   Qt  Pc
 ^  Y   0`Z  p"p0s  P     P 
'`  U "p"pZ  PP 
a  v   P a _ "0
  a=0   0 Y X  *R	0 $0"  SR"& 0"(   P 

(     0  `} "#   0#" S  R   Y    0  `}   a c \# S  R8(>a 0    P P  8 [ P  "   `f}  PP   "  
    0  `Z} " `  
 Q} 	P00( 000, 40040( 800S80, <00<0 h  	 Y  a-  !  P`a= 0 pY  PP  
 0  W  P Y  a0  Wy a{  _  P Y
   Y   P  
 ] o8P { Y   o P Pt Y    o 	 YY    P  N /   `P  P    U  y 0/  0  pP
 ]  PP/00a=0Ppa  ]   P  a=0 0  S   ] 0  SP 
    P 00 Y 0  S   Y      P  0  Sa= K0  b   YE  a   a/ 8   P `0    P  c   Ua? U  ^>` @ V 0P  U  V~p	  a ]   PP   a  ]   P0 0F  S  9 R  S
  0C! Y?  0
  Q P  a  p0  l '  Q P@D 9  PP
 x`|    V  l / a0V0 Q
  PPC Pa}p`  0P  U#" Y-  a   '0 0|0 0x g S P* :   
 a0V 0/ Q    P 
 0a 0 p0 e   P|g
  PPC# Y$  ' ' 4e   P  Sa 0   k   P  
a     PC
a   M _o$R2$ Yr  ' ' e   P
P:    PW  >!$ $ $("((  ,!  !$ $ $("((  ,!  !$ $ $("((  ,!   !$ $ $( "((   0 4 48#88a A, 0  0 0 0   ?e   P
W% Y    Y `  
 \  P?o2 0 0 (e   P  
 0  0X 0e   P9l& Y  xy  7_oR' Y   k  0  0   
N_oRd( Y   j  0$ 0     
 _o Rs) Y   j  0$ 0    
 _oDRa* Y   _opRU+ Y   j  P1S   R   `p ``0K
cy   _oR:, Y Wy P~  Ua  ` a UW   P    P #  U  
 \       _o 0R  SP  U   
 0  S  
    Y  
	      0[   P
0    Pd  [ 00  P 0  SH0B 
  0P00= 
890 98  )B+     X0  \  00D0DP0L0(0 00E  S  (0	0C  S$  L0( C0  H0  S 
P`0K0(0  (0`F 0F`PE  
( `F0#20PE V    U  
  RD0 `Cd=  0 0"z   P   Dv  pP>  0=   0  0z  0  z (0( pC 00B80D0C 00E Z ZV  ^=0>C` 9)P00U 1  @  Z d    S  R  @0 S8  `	0G SJ   0H0  Rd`  N A B X   R0U P   R0U P   Z
00`T0 B0ET Q  
r s  Q  
@0 V  
 V
@``0P 1  `	0G  S`E L 0UP0GpG 00E  S  800 S80(p8 (080SR1( 0B
 JL 
0E SHH4PE0`Fb`GGpG`0H000p #  3'q! J8  J@  JR  3 #
 [  X)    	 D0 (00   D0! B _ @8 1,0
 K! a IZ    a
0 	  	c  PP  
a ;Z      	  	   - Y]  t  `, `%   P  
, L   P*   8, oo b  
)  Q	 Z     PP)w    P     _oR x  P
,    P    
Y   y PP\xw dq  P    lDh  P
4M. Y$ (Xp
0( `b   q  P(  
   t/W d.0   px d
    P `   	  0
     Pd> S   Q` _opRL P PL A PL T PL C PL H PyL   Pg 7\ Ud.f    P
p P  iL   Z P p
p\.d> R  X 00  0U  P
,	 d   P   	 (q   P/	  X6  Y	P1 UP1~C Z
!1 G[Z   GXZ   0    ?x  OZ   X   Y	1!  K   P
	 GBZ  Y  *   	EK   P
(0 6Z L  5 XJ  pG ,Z  m   y 0 px   P    Ld  0P  
 k p d.  00x 00 pd.\w L   P  L   PX
000L 00  \ Ud.3 QM* Z1K  P Pb\.0  \ 	p   P  pp  P~
 0   w   P   
   P 	0    w  	0 	 w G	 Y K  P  K  K    LK   P 
K  / Y     0^ _oR0 Y    0^ _otR1 Y    hX P2 Y
  a iX   P4a ]X 3 Y    X   P4 YD    PP
 0% Gg  P2  
   N  P-  a=a  0 i   00B S   0 Rax2x"0   @ e= 0( @  a * a,      O5 Y%  8m Q  PP    wQ  Q 
k u a  x  
  
u a  x  
 
 |  P6 Y   `k   P 7 Y  m k r 8 Y  m }k r 9 Y$p m Pf`\a=0 	     P 0  a=0 00C?o2\  S \)  PPi  AVUYN` XFOE  j,#5?
 9Nbq     [  O- P[Mdx 0  r 
X^`^\^T^P^     Y `    
 P	   
0& bf 7 @ R            P   
   }  P [0*000 Pu   X@h  
,h  /h gQ   P PTTWhLTHHQ2 0 $  07 S RQ  0S  SN  7/  RJ  /7  R :6? 626&S6  Q)& 0  [-   ct 009p060600 X  :X>  SP  
  t  _}  P\n  VP 
\    W}  0  )  8h Z   - R 0 0
 0  PP     P0 S7  
o0C S  [  
 t 0 S(       P<  
 0%	 e %0@ S     h0D       Z(  
  h0 0D0Ps 
    4 40  S  S  )  
  P5  
Lx &  P P  :  0   p C$    	 xx  P
	  4  P  x4xD Qh$23  0  U     R
 	0@0 S@ P# P  	H Dt    D0WT  A R   Ao	  C P'  D , 0P>090#   0`   0 0d00 0	G  p0  Q'    P  HD  0	P>2 \.  Zc  P>  S0J  D  Z  
  P  
 0  S  

 l| D0  S9  
    Qh  \  Y  D  0	P>  1T.D    0	0C0 S  L13    U0   U0U S0E0C  S  0!"h  h00D0 0  0  /|   
0
 

 U P $   N  !!h g  Y   
0p   Y   0
 Qp R p	  U
Tn  P
 0  S
 {   Px
`  Yp
0p   Y   0
 Qp S p 0  X>`>\>` i\g` oty  0c    ,N   >     qA- `Q P p!  
 @p  0DS    0 R	  
  D   P   0 R @ 0? S p   PG U   ;   O-@ ZMM 0 	 @WK  P 0l5  l5
SP@    P ; `P  
M   P       Q
  @ 0   Q P@`    `b  P  0 %  % 5%<5  P  p pp-  U%d$ K!  VT$ K!$ KA@-  Z$8$ K
!$ K1$-$-$0K1$-$0K1$ -$0K1  W$,$0K1K$A,y  P M  @\  NKD    0 S  
 _O <  0 @NK @i !h SNK @D 0  0RNK   VKN    0))  R<JRK `8pF  P*	  ;8;$  S"JRF#Z  *  z 5  S   "RM ;    P^
	0 ]dcF?fF&j  0YK AA 0@+'@" ,+#Ry 0@ SS   Pp  
 P   0o  =KC0CVK @*A@y   P
$0K 4[(  SN>K:0Ce*K ;* KK  Q @:0@*
 @3/  P
 @/EKTD /%KTB IKB D @j :8 0555|50=?0: Rx5tE  0BSt5*  *  >z |0@ S @*   Pw ` p)@Y>K C0Cx =K0C  S Rg
=K0C  U Tt):Y>K0C KA P910  SD
 W>K0CCI>K0C  I>K0CWK  A  KK W>K0CCI>K0C   IKKB A @ =K0C 0  
EK  @  0y   P
 q V @P  
xK  @ E.K B PP|5  S
  
/K  P/K   P 8 L   pP     0'HeUKmKA F 4 85@5P5<5L5  P`FP  K _oR  f   |7 U X
Y>KK0CA   S  R  05	050  ZKA  S  R6  : 7K   '9x  Pm  ` ` PP  
P  Pe  
0T4iL    0ZK AvA5%4; 0 0   0K P #  
  Sy F     P
=K0C  Y X  D&?K   &w  P0  ` `P 4y `0K 00_  PE.K	  Bqg   P
5%@055Z.K 056 B
 T B   
=KYK0CA   S  R*;f `EL   PK y   PE  U6  T   0  S  
 ]M 5    0   =x   P!  
-p   4  0 0   
c   @P'
  . `    V
   qK   VP  `    x   V  4thTC   x  `P   BP   K   0  S  
 M     0   e   EK 	 P}      @P2  
 P    @PB  
 @p   `PS  
    X3  
  U3 0  WpC  
ll  T @@  QP#  
LL  R    <#< 8#@    ,#lx $o    `  V P    P_oRo  z  `u  V @  n  POopBt{o `t p  Y `	 j  P/o"  Z-  4  PPD P @@-  PC @ U0  !  S%  $ K1!$ T  K  Av  @  T'   U@ @ IM   PE
  nA  X  EK @ok EKT @  P
EK @k  K (/K  w  n}X@    e8x. ` l    4j~F,  0%>ERY\y3&  G  3 I  r pG7    (Q^QH  `zx 6Kh [e5  S  K  i   P   0 T2 59n 5@Q
0C S5 @1n@#l  0`x D 0PH1 m   "A18#8U!08#8PP```	 UA P1
   \ ` tZ`  
6
:C
 6:.   S0h!^  8( C65 00H2 0%0ml   p  t P	  
 00 0  01 0]m   
PD	  `
P           P u  

 U
P UP T  
 Qk @ @ m _ Hk  EK U TA@
 Hh E5  Se  0.l@4 P2L2D"82,"(2m   3 @n cs  T    >+  
h 00c
00a5w:  0#0a5w:  0H0c
00a5w:  0E#0a5 w: P  Q  p   	
0/0 @_K T  4  P@    
0 }h  4  Q$ n5 P E  PP  ` 0T4KE>K0Cp
  TT K ( @OKN 0  h   P  
K[ QTK    ph b2 E>K0C  DtK* @tKE>K0C`
  , %0Rv>0}S  R A P   R@ \  R \  R; ^	   R< R  P   (&B 10f
  0E>K0C)  E>K0C
 09  E>K0C
 HI  E>K0C
 `Y  A0v0I>K0C 0  0 X   P   4 S  
B00I>K0C 0  6X   P~  4 S{  T![ R	   71(E>K0CI    03K ` pE>KK0CA9e0  S0  
  C^ PZ  0 C	 P  0pG0 @  p  X  
 X`^E>K0C90K  A   $K  P X 0  55p 
   Q
 a0 50 $K 0#C  #C  Z  
 0l(Q
 P 1HE>K0CY  g  03K  Y  V  
80S  S 
90I?o0 V9 Y2 T4[  S  
E>K0C ) M 10h
 0E>K0Ci M E>K0Cz
 
 F E>K0C
 0	 ?    >  W  `PE  QK0#$$!448#8K(0 # 4 48#88 0  )Q OK0#$$!448#8NK(0 # 4 48#88 0!0 
 <*6 IK0  @y 4!04	 04t* 04%  
 |KTPLH E>K0Cp
   E>K0C`
   I>K0CC	 0#$$!448 #8(!4 4 48#880I>K 0C0#$$!448 #8(!4 4 48#88 0! K+  ~ "4$!448 #88!$ $ $("((  "4$!448 #88!$ $ $("(( !d,  H2!0L2 0P2, 0T2 20l
 .0E0?K a ?K
  \   .e  P  E.K  B_ (S  Ke   P  E.KK BRKS E>KE.K0C BK4)0 5E>K0C9 KP/E>K0CI Kd)E>K0CY Kx#E>K0C K?K K?K KKE>K0Ci K
E>K0Cz K/KK E>K0C KE>K0C KE>K0C K$   0   M    R@0 Sdo1 V ``  V|
T4[  S   
 S   
 S oE>K0C)  p0 Y1 V  >?     WYKT`M  X`M `  
A  P    0s <?   P@0@ 5PP5 00  @p0 p  5 <5  S  
  # R   T1A  P U   0@ @8h `05!0 p002"02 0 p  2i 1     R W03 0#  : 5l   TI   5F  
q    P
500% p  ! W\19 50 A# ^
	A Q  ,0 
    0
 S S0 0 L      0 5 % h 0% 0p0    @0
  
 0  T@E@D00% !   
@ T @ #IV `4  U 0H   pG  KO- P gMM  Pt >"\0pPT00I?olP ZN2(@@5 
Pk ^ 6B  `^E_o  0FSR  * p  d\ \l  Yj  0P00040 
 9, $g M`g `   Zp  

 )>.nw  P	  
  2 01h 
 i   V  
 g   g ;aj 0 `t=x`!h x+0( p+ `$ h+0  `+0 X+= P+0 
 D;0 ` =h ; 0 `<g ; 
0 `<g le 4 'E  2 00   
v  :  ` `P	   h  P  
0 
v 9n)  0  )v  T
  0  )v 08*0S*  0     Pj  
: S  R R  C4 7##u!<#{'0#'ap'90S  S 
9Y 090  0} 9 0`pu  -u  s t9tp `u L90S  SX  
 0Y  |  u  s 2 0  9`&   YPi
  Y	PiP`
 808x
 0h:ag .2 0   8`00R  S  
   P  
`00  0 0   P  
 0Y X| 2 00  Y $ |   9N	| 	D x c  Ph  !0A S     P0 0J   p pi   ~ PA  
 .qDd   P:  
1W S7   ;d   P1  
p "} w  W+  3#8<#0#4238'C4232c23238<04233L2c2)32Y     0'x hc   P  
x e v   `P  |6|&  p@  J   P
  
X6P&  p5  J   P    @P	  
(@c  P  
 h   @ T@  *K   P<  ~   )n     0,0 0@ 9  P(  0B 0 09 @ 0|%   P  l5,?9   Q  P   Dp   P  
8@ @P  0$9.3^  p 2 @@   )d 2 S  	 Q  
 #2 S   p   P  
)  P	  
)hd  9O  9.op  Y  
  |9 `  `P  
  + @P  
"9OoB X   T    $Sp   U    X  
h ^ ^E_oRh  P
`
 4sc  Q P0(  U80  
Ch 040CSc  X0  040% d p    P   ?o  W20  P@@  T P  h   pG  0/ @   R00  3 W, S< 0 +)      )n  PI  
 PM  
 P  2"9a   P
  9  080   P	  0 x9a   P
9 P
 PI  
  P8 040<30h0 0X0 0D080  S 
S0 @  T   o @n^ UB  =G 0p@    P  o 4 g84 80  S
t 0800  X40
  ?   P  
  d   \   P H  o X 080, 7       b  1;fp  <8KzB     !U<Q  r    3eq  GM i$U}>0N(5c      t  VRR  Zy+:AJ0s4ua pG    1  P"        0`XI  Q\ @p 0  0 S0Cp0RC < Fp0@0P0D0  S  P00! RD !0D0pl 
 @d 0h` `F1a0` "0=c0\0   ? P   @1?@#  RP P0q  SPGA   P0 0P1 00 0P\0/ S0 0P`0R U  
 e `P  V?  
0?d")  ` t2)^P0 `1Wd F@0 `# 0 c P00001 SR  001 SR  
" SRP `L2)~0 0lp `2d 001 S
  0  D `mc 
  P)  S   2p#  `)~0 p `d  B  
P0/   P  
,9G /9 0 `9 ` >c X3" lp0 `0c x3Xs  T  0`# D4  Q0 P0@4 0 3 Pc xF?  ##  Qd  1 S`  
 Sd` 0) SF?##0   00c 
  T40h0  Pc  U\4 0 0 S  < 8%0C% )>04   X5 0 0^  0p5c 0  S  
4 0 0  Sh 
U `5    S;  P0   B  5!  5  5   5   5   5  5  5  	 6	  
6  
6  %60 $&   0&   <&9  0  090)F?@ "> $  0a`p!7# Y X*0  &>9  > 0`  P `00U / 0R   W V,  0 `	   / 0B  `p `0 )~ `7\0|W/ S7P 0g`? '  P 7 7T'  9N '  \  ' '`  '0 7 [  tb  0 ` 0\7@b 8 0	 SP   SPP7\0>;   08	  88  <( @8  / H8~>  00 0\>[c 0  S  
8F  ? P  10? #9a 8\0>;   8	  8  ( 8  / 8~>9. )  0  0b   09) @ $9Bd\0_Od>;@   d9	  l9  p) t9  / |9~>). )	  0  0^b 9   0 Q P<   01.0 7_ 9! _ 99  @9 0 Q P-   01.0 !_ 10*#200_ H:L:0  S!  F TI   Td0p2@!R  
Z `9 z_ =  Q P|_  0" Q P*c TP bP@     ^    RE    P BN	 Q  BT \00<  
 ("l   P  
 T ,> \0T0T Qa 0P0 ^   R 00  S  
  R
0   ^   R 00  S  
 P R
  U  	 \0
qp0  R 0  S
 P R00 e P   
001 C Rt P0  X@@A 
 <@ h=    0``0`  S`  0        P  p0 \    R]   `0H  `0 PPH T  
\PQ  0  S  
 E   P p 0k   =          2$%-2DXdPl	t;`  01M`5B`O pGvN^rz x5XP   Rd
  
 `0H V   P`H `0H`   `H W@g1P  Y  g>`0	1l  Rp10gQ4H0  S  H g>0 1  RF?@ " 0)  0 `  )>8!i  0G?o2``0\0 P  S`  VN  
2  W" 9L F@0 #)0_  W- 
1Q  1  RPl")>95/  P  P  U   X  
K} 
A   0  S  
 B?   0 P  U  a  ZB 000e 
0 040TB~Y W    P   
     P   
    P
   Y   w Tj d0  S  F?@  "   P
3  Q#  j H0  Sx0l C <0  
3  23290q_  p#9>)Di  PP
 @,   UA  /    P @C A 0  S  
0 0 S  0p0} S  h0l p  u  QA  
     U 
001 S (4  XP  
 @ @A l@p@^/   @,9M   T  A 3  SM
4` P  U0EFp0E
p@  T  
d ,9    P   0l08@Dp@0  S Un   X 
 2  
<   P  E=   P   j   PTE N r<  A 0  p0 RE*W    0  S
 JD   P 0  @ 9  
p0  S6  
0 0C!D y0 $  
,h  h0p    !l !&B?C B? Rh0?  / S  :?Ch0h,  h0 !1p l0x6 GA    
6 @A  !> Sp00C
">  S  p0 S030C;0  
6F 0  Q  0D00    
F<'   P 00<S
  Q  
  
001 S  
D0 s  000 10#1 
7X  0   Q    | 0
/ o; 8\0T0I` <0  X@H   T;  
  Sc  
o    S_  
001  S9  
\8P F0  Q    U.  
  9i   P  
	w`  `F  0 S   	`   T  
0   d$i 8 M0  \Pw#00  S  
  C   P@`001 S
F@0 #90]  9.h   P

;` P0   C   P  $9.h  
_ +  
 0 `  VF$  
 0R0<!A  
p  h 	   P  
  %0 F/  P 0 pp`:@@   00 0`: @ 0 P S  U  001 S  
P0F/  !00 0 0  :X  0 0  S X <|<!4<J  
  R
  R
;P[0 ;t@0 0 S+  0 9c] +9>@)    < <0    
 +)>*g   P P{(   4). `h  U  Fo&CoF/    P  
 |,  09 0t 9}U   P   0. 0 S(    >h  0   R%  F1!$ 0] t0 @0t0   B R@0t0 U@Fo!t CA lV   P 0. 0 SPP h   P 0=    ?   T  
< ;	U  
  S"-
= 0=-0f  @P#
 T  
 Tm `-^ 5 =}  =  Rp0 .7/  P
 T2 0,.   af  0   Q P 
 =   P9 
 	0 :   P2 
FlN I? ` 0  S0Cp0p@ Td#,    P
@Dp@  S
001 S
FO@0 #@)0\ 0 /9 (?(O  ,?  R@8/)>94/  P
P09   A   P  h).g FoxO ? P 0  S0Cp0p@ TT#, 9?   P
@Dp@o/x
Y 
?
_P` @00'0@"'  T`p"  
g. !g. 1l'l#g>d'01#g>T'01#0	  )e  Pq
0K S   [   0    [  
 V   9Y   P   
6&91Y   P
9 6 >  ]     P [I00A W  9X   P  g x6l&t9Y   P
  9
  T9D @ 5  T  
 > k  @P	  
  1 00@$]   U  \  @ :\ 5ad `P 05\ @  U0P @9] 0  0 3]  0% LlP. TP0 S @DUDe u   @0 ! @| TP t  4 q  ,` @y  `Pt ^   P
0( 04^ 1 SZ   TC   X0@!@T U03 0# YP0	0 " R	 V03 0# T@   b<@/@< H0  b3@\    6 U	 V$  
\0 SP@ P@X  D%X Q3  < H`h&h@
 30\3P 0T3[ U 	 83 1 S    83 AWh S	  (7 b##0a5w:pC T  
  P    
<0
  
 f 0  S  
<0
4
H2 = /F  
B8   P  
 3 W8  e   P
n8   P
Q( e T S t8    0  S  
 6: 1  0 @  `Q,9  , a `0 2b<  == 0   R  
  Be 0p0 T :   P  
T!0 P) )96 9  P  )
7   P
90$ tZ  9>  e   X 
l p0 0   S*0 !D   0
P`*(M0GlX  0       pG"  <Ih!    L^@  !G- `XM:   P     0(  V 00?@  SxS@  
2  S  * 2  S
     w (?   P  
  X #e   P
b2  S
  V   
  M 	0$ 07  
 ? @@P@	 T p     @ 0G   P	`@  
	   Z  X
 @"T0@ S|    T~     0  S  
 ]o +  P `@ Z	0$ 0
0 	 0 /     p	 x N0  W0{
p    Pu x0 H  P:  . b   Pi
 p 000 X C R
 0	  I S   V R
 0  

   000
   07   P   

  0 o  0    =G   P9  P
3 |0   P, @ T|FT =  `P#$  0   `F   Pr
Xd   6>$O- Qq p  9   P  `   X(  
	 > 0@S P*`1  @P
0 	  `F   P   * Y    X      0   F   P   
 < d=   P
0 0S0
 S  	 n  	 @-@  0   Q 1+      L  0 S P  P  0  P   VX JX   O-40 ^	    R    RA \* @ B     R 
   R
 @N \  R    R  A \* @ B P@@D@ ^PA \*@@N   R    R5  A \* @ B @P@D@ ^AB \*`p@H  TG @d  ^ nPPEH  UDHN Pe TXEX U   T```N`  R@-  
 R @2 2!0010@- !A tP@ 0  ~ 0 \	  *00 42#    / R  * 0A S  
-0 S     /  @-A00A TC" 2  ^*  Q   1 S @@- ^ # @%P!
  *@@ P T P` V    ^   @qA  T  @@  T  P@P@@BP  U  P`ppAO- Pp`@1BM0080  T1     V    	00     I    V1    \  0 0   0	  [80@D 0 0 O-t>AM X   `> 0 S00   20U T X u<  = (  
 	J  Oo	F T0B  S@  Tl     P  T B   T0  S  Y  
	 : l0  S  
 5 @ ] 0  S  
 ,b  @|kY +tT ;  0 `00

p
P<0P8$t 40,-0 @ T?  
< 0 S    "Z/b4 ".b10c000P@$00 0(0   So   T 0  
 0 0< 400P00@F0$ ,000D<  0  0808<  0 00X 0  S  
 X t@ 5 80( @G0C0 S
  80 S @  80@ @D$ @D V  
  Z  0 X 3J P  0\@00P00 0h0p00p  S    <[   Z `& 8  

  a a p@ pp= @  
 TpD8  T  
 T   
 T2  P.b4 !#.b0B000 0$@ @0,0  	 c2>c40 0@00P 0$  00@!ab02A 000 000@$0 0 0P,40 h  !2>c0000Z/bP@4 $0C0 0>40@0P00$@0+T	C~ `<0 T  :0 <09 R`(0@ C0 P 01P0<00F00k p  p 9   `0`p0##P `h0 S|p%  * Q00|00  S~  
 00\  Sx  0  St  0\  S0  R &     0   U0 0$ V(0 0h x0x000  0xx`F}  0   UO  ,0 s  
\0|07'0 0x   Q, 0 A7 0 |V 40  S*  x  0CH0 0007H  00BV  0`0 0  X0,    Z  
  p0 P  7   < >;H0,XP  U  0  $000?0]     0$&| S  *  Q    06   H08#0 <0 0|6  0XQ0U t $ 000 t  Zx AH "  
h00 [>;  
$ P00 00& P000  S5  
 5 0|  \$  *    %      U H00H0L0 0L0H0 U 00  Sp00p0h00h0\00\000C0h0%       U    
 TpD  	<	S  $ 00 0p  P0  S   Z  
   0  S  
<S  0 X 0>A   pp    t_  0p00  S  
 V   +T|   
(4 0  $}^  P    4   @a0      S  Rpp0  S+Tx| \   P"  0#  S03  3  Q0A#3/  P  
@  0   X @   pp  $_  00p P0 # 0L  P
00 0
 (  
l  B  0I? ^  Q  R  
 ^_  P  
 `(0< 	 C	R)#<0X  `A  P  hL_ p @`7 0   
  S000C  @ 000	   000    <
000C 06  S  @ K       K  [   UpDp P08  [ R!0P  0B80 [:( 0 S80C
( p0 S0!0C"C K0 U  U T  	  l   AX :4  P
( ?0	R
S#  :C< <0 <0)	X cG )	l { <0p0D00 00 00 pGp    0
C  !  
D    4  4  4I\x<O-UMpM P0 l S   W/  
	 8   PP   0>%   "HB 4 {> $ ?0 0@4L 0 $ H2$c0`  @"S @#? R  @`Lp q 0  # W80<0U  2  , j  0H W4<080<0b  0801   P   Z   $R   WX   ;2   0	 R  1   0
 R  1   ,)2 ,0  X0 R 0080 0"<0m   V20,02000x2040  W/  d20` =L lOU &  W   W
0 0 m  
  S  
H2 S	  
   
 h4   PB    l ]  T   U0080 0!<00  X0 0 X  X p!  X   V|!  Xp  4 $  0   ,   	 @!   VH2 S
1  Po   P0/0  t   P0  0@$'@0#00 0Dl   P
  S
 
@ P@$x
   P@$t
  P @$q P@$nT\|;\svy pGM4ehO- LM28  P 2 ` pp Wp#   08  @ S0  8  0 S  0 0C 0   0  R   S 00C 00<0 0@000T0T0LM0@ D0 0 0	 Sw  0F0PM0H080	 S  
F?#!  R  1 S  
! SF!> 0 KXQ  0 0X0F
 FH R F? ##0 S  
|! S0K H0h!D G P D0 0H1	0< 08R <00<0@0L0@0<0 S p  W/        P `! `3f G	0 0@  ES  0b 00 =S 0 00 `xp 5S  Kl0 `0d 0D  0       c    t  NT   0  R  \_O- P `FA # p4M00  S  
 0  \#  0 R0   l\   P  
 FPT8  00FOt$@0   YQ   J   P>   i\   40  ^ 0 0#  0  R  
(  @  	   J  pP  
  0P0       0 S  0    Q  @ 5\   U
 $0(  .\ 0 \9Pgp@-  Q @P`M  
 O WO  0  U       	  
0d  0`00\ O p 0    Q P
.O 0  Q P  {    tpw\zC- POM0p    P  5  `P  
V    W  
    [  O  W  |  @P
 0  PD  P  
  W  
   [  |  &5 [   P   +   P *   P
  W  
    )+   P
   T [   P  
 k+   P  	< 8K 	 W  
 000C S   1   0 DZ  P)    	0  > P  00B S"  00 R 0 08 0  07180  S
  X  
  6        8x D0  PP,8 ]  h}T 9\O-AM,MHX   F0>00\0\? 0D 00 X10J   P  @ A, C  / , PD   08   0  
  
  8  `08 `  0	  
      
  0``   ` 0080 48<0P008 SP0 S R0008  T  8	<Q	P 0  8)<3S	R 0  8020 1 18 0080 0`0 0d0< 0 014  S0 0  S  

0
0S0118 01 0 *48      
$< 00811 <0\12S R  2 0 0   
 0008  0 +8  < Q  P ( R  8  '   
"   10#0008  0!+8 $&   

0
0S0  11p80 3080 `2080 2080 8080 '=B370 080600
0
0C?o2 00 @$c} &0$  
 <10  ? 0J `P   x4   P  
 B `0  0c`&`001S   R    0P001  0	0	1	\1	0
0p@@0@0N FH @:   0"  @  R  
  0 P    T0 pp 0110\108  # 0 00 0`1   P 0PP00d10P  S 00:@  @ 0@ S
  1 S  , }   P@`    `D . 1@  S  '0 8
   08   X  
7'  Q02A=(0q7=A=(0	7=	A=(0Q7=0  S  A='(01-0  S  A=p'(01-0  S  A=P'(01-  V  A=8'(01-  X  A= '(01-W Z' =   X \1   S   7D  0      \Y
 6 68   68   p68  \6 P68 0<6 0 (68 
 6{8 	  6u8 	 5o8  5i8  5c8 
 5] 5Y   
5&P8 0x5L 0 d5F8  P5@8  <5: 0568  508 05*)05&)04",05+0$T500  S  0  0 # @r`1  S   ,  p0   yM    0B  : BN  P@  4X ;0$$} b 0   A   P ` P    bB { _oRB   { 0TT#$$!448#88800#$$!448#88 H0"4$!44%8  V#88 ",$$("((!.!  X,',.,	..A
)	$DH$H  Vp
H 
bP  Ph ``  X	 H0. 080(  40,$P `@0 W    
0B 0   0: ! ~ B  t 0  S 1 Z21212"  0  L  c@   Q@ P    t!t  P@ @X10T!  0  L10.W   
      =lV  P 
0@ S9 0X HD \4 A/  @ @  "8K1@Slb!^s1FXmQvxV|^N\5I6a\ <    u;'"<JT`n pX
`1GW~\#b ~b^ @P(PS    8  P   b  Lz o0UU#$4!$$("((0#!448#80#.448#8P.4%448Q  P#88bRP@  P0 .  V    @5b    P.
d  V *    P@  
  0@ S0      PB  
 Y     Pp;  
H0 `8 `2 P 0 S  #00  S4  
080 0V%P
  PBO   P  W0    T?  

0 T  V   P
     P  
    P  y   P "3 00   8  `F@p   T  
0    ]V 
0  4VV )
0 DA d1  S   X0  S  XH   V(  C^ 
0   K     4 Pp  `   W  V
    0    0 -E   P   V    0  w  X@  / d}  @Pp
0,D  "s 0H  0  B !X D   Fo!  $  / Q %!>C"DE 0%0%<{ D  x-  0X  P 00H  0H0 @ 0 T  :0H 0 T , |   P8
H0@ @1  S 80<  0 00P
PX1X10 000PP  S 000PP  S 0PP00 0PP00 0PP00 0 080P  P0 000PP  S 1P@ @  SP 0 0P01PPP  S 00111P  S 0 080P P00Pp p  S 0PP00 000PP  S 001PP  S 0 080P  P0 001PP  S 00P11 1 Q0 0	0P10P10 0PP0	0 0PQ10 0	00PP  S ``PP`0 010PQ  S	  090 A( =0  S   A=4(0 10  S   A=T(0 10  S   A=t(0 1X1 S920  S   A=(0 10  S	     P90 A( =0  S	     P90 A( =  T   y:0A(=  Y  A=0(0	1P0  S  P A=P(0 11  S  A=p(0 1  X  A=(010  S   A=(0 1  W  A=(010  S   A=(0 10  S   A= (0 10  S   A= (0 10  S   A=@(0 10  S   A=`(0 11  S  A=(0 1 1  S   A=(0 11  S  A=(0 10  S   A=(0 10  S   A= (0 10  S   A= (0 11  S  A=@(0 1  V  A=X(010  S   A=x(0 11  S  A=(0 1 U    =\!R  P\!0 SV     L    0  S>80  
 [(     0   `&0 > 8P@ M(   P  ` VX  S   > ;  T
0 |-S   P2
0,D  p 0D   H0B 0 1X0 010 = 0? Q0%!.B"  %,z =D  =+ 0H  0 0X  00 S  0  S0@D0  
D> 2L> 2=ZR  0PD0
@COoB Zh  
  S   Pb  
 P
J p 0   R  	 O  

0    wS D0 S  W
 >Z  Fof"    R0  
6&` ; 800 1 01F? 0"  
&0     P  H0  X  P&0      Pp  
0  %H  P.:S   P
PF?3#  0   
0 +S &0    P-3    P@  T  
.  P>0-  o >-  S 0 S  0  S@  
> 2> 2=Q  PX
@HOoB ZY  
  LR   PS  
 P
8,J p\ 0   R
    Y@  

0     R  X  WcFof"    R(  
6&` b; 800  1 0$1> 0  
H0  X  PM&0  6 R  Pp  
0  G  H.R   P
PF?3#  0   
0 	 R &0    
A  P@  T  
,  P<0-s"<-rIo T	@@  TP0   S   Zx|      S
 Z\|  
  PhR   Pi  P0 S
	   Px  ;   00-WR 0  S
Fof"    R$  
6&` : 800 (1 0,1J? 0  
<  H0X  P0 S  
	   P  |<@  F?3#0   X< 0   R   -0   G 0 .R   P  X  

0   
R   T  
:   R 0  S  
0J S\
   @
0   pQ   T | J  Q Id;D  o)  @0P-  Q 08 09
 ,-Q  P3
 ) P90- W   Z  
  Q   Pk  	 I '0 m  
T)  PD90-Fof"    R2  
6& 08 `< - 	   D 	 
  `CJ   P%  
D +: 800 01 041> 0@  
H0  X  P'0  
 h  P  F?3#  p0   P 0   R  T"  

0  l  P
0  KF  .`Q   P
-0
  0 `I Pp$
0 L'  P70-/pHo1r U00  SP0b  
7 X  g`_ @P7 XlH  Z@    Q '  P60 tF/"8   Q  
F?S#P 9  87<0 81N? 078 	  
     *7  P P  	 R    PP    X
  
0   L70  P ;   pP 0 SM  P  @PH,H  Z6   }%  P|50&080#D0  Q  
%%P I9 4 @1D= 0`D0  
   0 \  Pp8P   0 S  R PP    V  
0@h%  PF`p0<% 0%0 S   Z  
  }P   P    @ P*  p ` 0
  E  0 bD  V0	 D 0  U T  Xq  
-jFOD"P     RU  
 4$0@X0
 0 @H  P'  
 8 80L0 H1R? 0p  
 T*     P\ $   L*  0	 P  P 0 0\ ` X P 0   R$D   W>&  
0 
0  dP   Vm
0  D  <.P   P

 0  @  H X  P   0 p`$ 0 
0 O  U T-
>  0-O   P9
 s  P-	0-O 0 SA   ZR0  
  TO   P*  
2   0 0 cH  0F` @   R  
0 w(  Q  
C#0	  0 0JH H   hj   P 0`	0FH0 0  0 Xj  @Pt-X1 S  `    PP
0 S <sp  @P
0  ZD   `P  
  .jO  hp ;Tex9TeTPx=#Ob<R  a} [EX pGyP  rp<  |aXrxk  \+>O\v3 G^u  F$$-b eHp         :. }"TT.>! X     H   %X 4 48#88\00 #"448#88 D0   P      P	 @   P p  rM0  Sn  P0 0T Bk  P0M0e  
p   M@ U   R  #  Pf  o  X P0       0H p S  R  U   Qb  
 n    0#B<0  X?X0  
 X	
  W  
 W	
 0   Q P43  
  00"H300D0.0\0` 0H0X 0>0P`?N #000   0   0  #Pj  P
 / R   Pp 0400Q3 `    RP0 0P0 0@D <  P@ W XL  
P WT \ S  Rd$d400 0x$  As 0 S3   0pTP: T:S"  @PPZT4 @2K"   P  
A=$(01 T@-V   $=L  @  T1
A=(0AF #   P  44- :  P40 S   Z  
  tM   Pe   0P:T:D &0  .c  Pe  >-M  26 80T0 P1> 0@  
H0  X  P&0-  
 D P>q  `P  '   P   	 P   0 S  Fof#00  S  
 &&`
 0 `F  P  T  
0 N    PF?3#  p0     P>00C @p(D0
0 <@-N0 S   0XWp1 t1!  @PpQpWp7 @2!   P 
A='(01 T-^  
 A=(0 N g"   P  
 pb^P, t $6  SP#w7  P   7 7   (=K   P]
0 4(Br 0 D(=r 0 T(8r 0 d(3r 0 t(".r xh|' 0 b5  P  h 0 Z5  P  
 0 S5  P  $9P+ R  
P;0( 0 0]/   0 	>5  P
"N' 4& 0 D)	q  >^	-5  P     0^*@Q 2B02`02)02  00q B )' b   < l1 0)*q  `bp0	   p&q 0 *
q &' [/
*: `& VH
C 0P* &q \
l && [/
 :  7 X:-<0 S  2  P  2   
  CL    ?L   P:-$
0&   P  
 2L   P

 yK   P
` 5   P
 =   PPb0 P\J  P  0 00 P   B0   q 0P80  
* B, 1o   PJ  
 P8` u  B>0
 0
	0H bbbbbb	0oH D 
 *xD ?o  R  Pr2  
  U  t  K  W *
n   PP	 U   P }=   P K   P
  0PP0
l  pP
   0  ID `P PDB>0 0 80*5  P%   ZP3  :0%
 V 0#02  S  
 T  
2b`800 S80 ~l k* P0  .  
 0      P2=1 T   :JY#0  0	0!0 P	  0 0 0 0	   P PC   PPkP  U0 S   `>~0S\  SP>0/ CPjn >0mO@B C Dh 0 Z, n , 5h B  0h >0 D *h LL/?<) 6
7(9d?d/H9L9=P9t?\)T9: X9`9?8)49?Di 00@9?d9? ?0h90)9#  SR\  
 vT $  @P
  
P?-L  J D?D  ]" q 1P: S:     P
<   @9- .  P>0 u= D     P  >Fo.N    -J D  6" ~ PH0 @ 0 T :  X0   D b   P    <  P M% \ *> Z  @P  2 S  
 s) D e   P
\0b  Vp@
  
2?S`p  
OS ``p@ @dk  0 PP@80B>0,0P0\08 2 RV  *  TT  B *> aZ   P@  B@T@ VB  B>0p 4 Pm  0P  00]4  SC  
B>04 
 qm   P  B>0k 
 9m L4 S  P4  S 0L4H4  SD4:H4  T  B>04bD0p,  co b
 ;   P"  
b e @80080 V
@  U  
 k  (   TD;CB>05 0B808 S   0  B   @ @ 0H$	 S R    T  
(   TR	0pt0'  SR& 0', \ pm B>0 \ Cf P$\0\ !L4XT\\! \ !/  @P@	  p  \m 0 p  d
 *>N_ p  P0@ t 0 0H$6B   P@ T#   /p   P
H0@ @0 S2  	@ "pj  P"mj   P  U @   nj  lj  *  P90  - ^  P  "<, ,   P", l   P Mj  Kj 891 U   $CI   P
 S (  P80-# 1 SK  b   Ff 0   > 000+0 0 J+ 0  P  b+ d  P  tI ,8l-  ;   +   P  
.@   I b+ d @P000+0 0  0J+  P7
. 1 UA   # @ p0    @  P'u  7 27'27 p2=G   P `)
i  PP  H G0  @ @-0  -H b0   = *> 0  5 j+   P  
    6  Pb.   H @E    Q
    @P,6 S6  P e B0" #M 6   Z0   6/ "  
  P  b.  hH   
0  {  P  T*2Sb.
0   UH @ Ri 0,6  T @@? .  
i  P*  
, Ko  0/ #9o   P$  
  @0,b>o   <   *   P  
b. F  Pb.  H  0PP0}
 eG   Px
  T? P0  S	  
0  :  P   6   X  d<? P0  S*  
 0  ^  P  
4  G N0    0P  
    G 	@,(  " $($  P
  P 6   Xn0    0P  
 d,(  " $($  PB" Pc  P
0 S     0 S   -G   P	  
 "  P$2  0-G 2D    c1 S  uh  @PM
 0( /  P  
 8?  c0 SG   /  P,^h  ` @P$hPj:  
0" /  2 @ R    P`'  0"0
. > CL  PP
$80CS*P:0C S c  P: 0$8P|= pu>   @  
 sc ` )h  'h   V
4-4 U  h  PP  ,G I  <   )   PN  
@ h   T G \\&> Kj^6u p e?_ U        0"uXXi,N:D    P 0L 0, T0u)   PT 
PP%  
   `P#@  k  ` T0)  @P@ QQ"4$,448QQ#88,$.$$("(( A0A  S0 S  Lq ` 0 SXqg  PP`
  psF L!  |oF    0   @>. m   P  @  @  m   P  
  m   P  
  l   P E    P$8S
S   S   9C9    R<   (   P Z  PT $L R1 i 0	   (   PT`
VV f  
    @Pl0   @(   P,  l   P7  80b 0@<0 # Jk b    P0S83$( Rb<  @ (   P4     P  : S@b.  4   Ps  b 0 G(  @Pj f   T#  VR R!4 4 48 RR#88  ,! 
 0B S 1 S)0

 T   PP
f  @P
  0   ^(   P   7 P  f P0  S-  U
P	Pdt5?   0b.  T
YO-M0@0 !`00 0a X    Q  \  l0 R0 0 00 V@ R@0 0  S 
   R
0@ R  S    V  @ R@0@ VP@ R@@0  S    V;  @ R@0@ V@ C R  	Pp@J  TI @d  ^ nPEH  UDHN Pe TXEX U   T
p	ppp0$ ZO-`Ap@$ML\AP@PAD1D!D 00   L  0  00 I	       P     
	 Q     X 0H  0 0 00  Q  
   PT !  T  ! T    T$C-$`P    ^  @@p.   R  
 $ R     
    ^&  @p@    	   R
 $ R $ R  $ ^  A. $ ^A     O- Pp @(W`XYd`[d``  Q
  D d    0@<0 \@ @ T P,0@0 0@-PQLRL@@S@U  P  
 \@ 0  0p@-P@<@   P  
  d  Up  0  0(0$0 0 000 00/ @-  @  (  0@ @, 000 0000$@  X  0 4080<0@0H@L@D@T0P0h0t0p0l0\ `0d0x @    R 0004  /\O-tM` P @0p(0@  SA  
 0 S  
0 S    P  
,0  S   0     p R   0  Q     ! S ]  8p "d   P   S tpGp` 000 Z  @ d  D@ L0080000  00$ 0 X0 L0  
  \   ^  :  0 P  ^L0`p X  0p  p S  0 P0 0c00	80 S     `0 X
0000@00 00	   SX L     0 p 0$0L0dphp c   P z
p W p00pp0 Z   @ @c  TU `8$0000  00 0 0 0L0  	 0  04c  uc   X 0  
  S  *p0 X  0p p S  0P0`0L  0   P ,@- @ 0A  0  @- @ 0  0@- @   P   
4c  000   0 R   0 R  0  S    S  
 0 R   0 R   0 R	  0  S  ! 0 S   /  /  - ^0 S p@-@ P    0  S    pb   P 0 	  0  S
S p  0 S P   x A Q P   /A % /0A0A  S Q  % / /p@- P @Hh  P    0 R   0 R
   0 R   0 @o  p    p @-@1  R001 00 0 0!R!0 0 /G- @ P`(pB@ @
 T       Y  Y  @    G- @ pP(`C@ @	 T       Z0@00 A- P p`  U@ P O-M8`P 0 R  S @pU    Rp   
 R-  (  0  X00 0	  
0  S0  
0U  S0 00	@ U   X      
   R   
   $   R    0	@ S 0 [
   0
 `0   X      	  
   R0  
0  P0 00	@ SH  0 Sp W'p :  
 U
 0  X 000  
0  S2  
 0 $0 R,  0 $0 R&  0 4 S0 00	@P   X 00    
   P  
   Q   S	  0 S0 00	@P U}00 S+    0p Wp
  R    
 3 0   R    X 0	@   !  X    !          S  0 S 0       X     0 	@ S6!  X    !0 	@ S* S(0 S 0  
 S"
    X   0  P  U 	@    X   0  P  U 	@ SG-0@ 0P  S `p(,7   Z  0 0 0 0   R  
  S 0   
 0 0$   Z  0  0 0 00  S0 4
     `         0  S  
 	 P   S2  0 S  0 00 00 0   R
   Q   Q 0           P
0 0 P0 0 P04 S    R   
 N0  S   0 0 0 00 1 00 10 00 10 00 0 S  0 S  0 0 0 00t1 0 0 00m S0 S  1 00 00 00_1 00 00 00VO-lM @ P`  P  
 
  0  S   @ l   0 0 S  
  R0   S~  p  Z7   @ 0 S$ g  Y2    Qp   Q   
   Y
0	0	0	   X!$0  P  0 d0 Yp
0W WW W  $  022110  0`0 "  2  \#$  0  
 \  #$0 40!4   0@p \!  #0"4 0  \#0 40!40"4  0  S   0 S   0 ` kz S  0 `
 p"p ppp Wk
0  0`p0 " r "  \    R  
 R0  
 02 bQ00 ,   \  0    P
        0p   00 \ 	    $  0P&    R0
 \  0 S0 
 S    \ \    0    00  R@0@-  P @ T  * ^  @ @  ^0@ ^  0@- @  _  
_  @_  00@- @  S0 P^ 00  8<  0 /A-P0p  S@01 T6  : `  a   P1  
 @D0D%, @%80%4P0 0P000000    R     P  B   P , 0 (  $  0  0M S p@- P @PP  ^  Pp0 S  *p@-@ Q@@ P  a   P  @ p /p@- @P  PP pp@- P@0 0C$  $80$40@pp@-P @  P 0 PCp 0@-M000 0 p S@P  
  S%  0  S  
    010S S  PE  U  T @   `0 1` U S0  S
     P@- @ `P@@@0T	   @  @ a p0 S  
0 @UA- P`p@C t    ~07$    0C @D!  00 0A- @Pp ` V    b86   0A 0`20 00 0O- `p P0 S   0A
  1!T    LD @D14A 00
  0(5000 0 
 1!
  0 PP\0p@-S P`  *A T@@  `   Pp@   `pp@-P @  Pp0  1C QpO-LMPt0`
S11405@03t0% 40%`5%0t0| 0C	S0H *t00F ,5 R01800@(0005Y>0 0p0 U  : L0  p 0P @0    T  p <0    S  0! S@  
     P
@D8 #8
 0 $0$ 0p <0 S00p<00t 
 D   4  ^C  

 \D JB S=    Q(  
 E T0    00  T01 0 B0 < ,0 R  
0 0 0  ,   @   @   R
0,  B  W  *80 p  S  $0 0 S  
 T    T  #  P+  
0 0   R   
0  SB  
0# W 
  Z  
2  R01 W 003  0(p09  p 0 S  00S  S~
@D|0  !  R0  S  
  U  
 0E  R  *   P  S00B  P  p !(!t0 W Yo   W     P
P(x0 W:0G?o
Y2 0  S   _`1	  15 GLU8! !&  I 0 	 00p0\Pp0	  p	  P @    T  	0 Q ! Q@  
 0  \
 @D8#8
 0 YPIp0 S  00S  S
@D<0Z0Q0V0}  \  lp@- P @PP  [  Pp 0O- @ $M 000000[   P   PSP[  P   SP    Up  `q [   PSP  h  
00 0! p W;   0 V^  
p qJ   i[  P
  U 0 Q   0C   R  * 0  R
 !  R  
 0           H	 K2+  S "   V  : 1
 S0C   \01 00  X \0 \ $ 0 7P  O- `LM1 3 X @@  P @  T  p0	 0T^   P   S@ LH	 ]   X  
0p X  p.[  PP
0!  R"00@ X0    Y  T00 0  
 T  0  SA0 0@ @ [   T  @2 $0[ 00 0 00  00P000 T ! 1   T010! 0 0  Sh   T0000 T]  0   
 $ V  Z p0  9)<0 04 (000Z  , Z p0 8 	 Z @  	 Z ?o   Z20  R0  PD     PS@#  0J00 [ 0  (  0 (  0<@ D S5  p0DC
 X4  D0 	@  T@  , Z 8 Z @ Z D Z k00y0 S    2 R  " Q	     000}0 2  , ! !0 0 ( 0! !  S@ 0P@A- @pP`7Z   P 
  
  11  U P`A7S p@- P #Z  @PSP  
0D|  S 0   P Z  pp@- PZ  @PSP  
0D/ S	/ SE.  SG.  S 0. P Y  p\0    R  
  Q   : R
  
0  S	  
   R  0: S   /  /  / 00@-M 0000 0  QUU S     R @2  \= #< = :   U  f;  0 :   0= ;  0p@-<@ P 0  
0P  *   P Pp0 0   p(0sC-`0 S     P +  *1   @  `  Y  X@ @0 S@  T  + 0   <  B0 1 @ p     @-@ P0 `  S
   0    y  P 000 u5b  
 {;  q:   @   U<00 N rC   P0000  C-P 0CMM ` 0hT   P  
  C|ABL  0G  pP   Y  
,G *G 0	  < $0l@0 0!0000  00D]  6_  p8 P  0P/  00p8 P   P  1  S  
@ _   P0 
 I	  b^ 8 E 0  S
 0@p V0	  
	 ^ 0: S 00  C-AM @pP t `T  	 `^ 0   1> 0 0, ^  0 00 $c  P  A	 0@$ !  Q  
  S01  P /@- 0 @  0000Z   P   Z  0P     
 $  
  P  
  \
  : 0  R P  # 3 p@- @PM0PL   0_T 5.  Z   WT , Z 0 S0  Q @~\ < Z ` a  Z  P w:T L Q!b4T  Pp  @	.	p@-h@ P@3  S
  ? P /S  P0@3  
 pD, XS  P
!. ;     p?  (7@- `0 @0'Z   P  ] @\   P  
 0\   P   P   0   .		O- PQ   Z    @ `p 
 Y	     S  X   00 0  Y   P @ ( '  P
 p@- @Q(M   ]Z  (p P`    TZ w  S o  S 1,0\ o 0   	O- `yW  @P Pp     0  U & (   P   pP' U pp  W gW   0 @S   
 R  Y   PH    U  
 o bS  014 O\ /o	 "k  P
 	A-P0 4 8 <  
 0 @4 8 <5S  p `*  P    V  
  }QY   P    U  
   P   
 p 0@-$M@    P Y  w S  o S 1D 0\ /o  " @P@    S  $0	@- P`p,M@@  R  
9   8  0&"[Q  ,p@-(P   @Y 
<05>   P0p    @-MD`   @$p R    R  d Q  PP 0  d .J 0.d %E :d &J 0!.d E d J 0,d E td J 0,d E d D 0
, (: <0  S   QX   P I	j	?  <  0 A- `w?0p#TTX%X,  `` @*  Y <0 Q00  :  0 S/SrS"SS"d"S"'$t($ $ ("(`(p        PA- @P  
  CR  0 ? ?0@0? ? @ ,00 00? ? @ 0 ? ? @    \ 408   
 p ?`? @  <0  \@0A0A<    0   0   0 $ (0 2  D0  T0 R  0
S  05S  00 <C0C S   00   / /      C- L 0`0N 00C$M0D@HP 	0`  
`@VP0 0 @0@L`p	  
@XP0,@  0 0@`p	  
 @XP0 0  0 A$C- @ P Q   W  P3   0"# 0p` S R)  :4r `L<0 l6,0>,	 S R  :Lr `L<6Hp lD`0>, S R  :  U  
  0 S  UP3 P# PO- @0Qa  Q0P     :011`	 W V`*  ` 0a`a` p
 ` [ Z
  a1a  !0 1   0 0
  00 Q000    a  @- @M   Q 0 S  0   0C R0  R   $  Q 0 {000$0 0O  P  	 @-t0 @0
W   P  0  P  P0S  T0@  S	  S
S   S    9C9   .SAV  QO-1# M
 PpT  @PP  
 X  
 [W   0 p   0` P    S  R  *  U   T   [ Z
    X   
	 l 05I   P  0 Y   
 P 0
0 000
`V0p$ 0zC   P  0 Y
P ,@-HH  0   Q
  *4   @0  0   @@ 0   R  *-( 0 0   /( ( 0  S5 2 5  5 7  #/O- @,M P p @V  00`  V  
   Q#  

	 Y  Q#     BV  V     P   R  T0
 `l @P U H  W  
|G W  :o,    A-P 1R  p0A  `0 ,   @V   O , V 0 S0  Q @X 0 1cO @01f?P%81%\g?Qp'81'<18#<$w P  ybV   O   YV     		O- p `0w?0#DDH$H? X WP3 P#  :y0	,
%7  0[g!#TTX%X  07 p$p@- @P  #V   ~O   p @-L0 @0U   P 
  M (aX   P  
 \X   P   		O- p PP  
P w?	,y@M  P0$ddh&h? Z X*0Yx!#DDH$H	 M  P$p@-P @  lX   P  `0`  0>0 HP8@ 0  S  
 000 0   Q  p p	 @  0F  W?@-@$0 T   =  P  V   0QC-   U      @ R    N  00 0   Y X
   @-  @U   P  1<  Q4  
! S  0  Q  
! R  :0  Q  
! R  :0 P  # 3 	@-` ' RM  ' Q@(`B  (@ap PP      (@N 08 03    p(0DL  0@- @P \M  3U  ( N   :8 N   U	  
0 ( 0  :8  0  6   8 T   P \07@- P @ jN   T   P0   "4$!448#8  T8  
 T#  S!  :1#DDH$H T  !"448#8 S  !"448#8 S 	      P  
   P 0 p@-S0(MP S `P     $N    @P  
@ (p5  43  &5  _4  !3 1 S@@`  N  T  @P5  3  5  E4  /70
     R/0 B Q  /@ <   Q  0  R  /   Q  
 Q   ^!1 Q0  R  -G-( p @` PP  	 	  ; S 0 ; R    R   S0C  @#@D01  T  * r P J FPE  R0 !

  K 0 0S  0S0 LG-  @S  0P(   pH   R  
@PER Q  `   D	` Q  *	 Q`!	`1 Q  P 10 S0 | 00P0  S     ?   @-@  P  
 P     T   A- ` PP  
P  P pP
 @@  P 0  @c PS0 S  
1 S   PP5  92   X	  
 X   P`5  -2   0 4    Q0000O-h R 0Q  *P  @ PP  Xp  
=0B S6  >09 S3  ?0S S ppx0S  t 0 Rp` 0 $  H   R!  
@P 0cK  PD0  Q  !  * Q ! 1 Q  H    R  * R ! 1  R  
 [p Y0`0  S
  X
0  S
PPO-gM00 p`0D   P
  . $0`>   P  $0S  
 g_O@@P  L `0  (PJ `A P0\  R00CP00  Xf  
0 Y Xa   0H V0]  * Y 0#03 V0  S_  
 VP!P1 ZJH C   P  $0>   P 0H Y!   

 C   P  $0>   PP  0J	 U	P!
F  E&L I Z  0E*" 0J
P	 U  *0 E
C   P  $0t>   P}  0vJ
  I L 00 S0 eC k0PKP00 
 K  0H C
0 ""WJ @   0  0@- $P<A  P@    T   R    00 S0(@- @  P  
$  eR  @= 7@-@ P 0/ S  0  S/ S  P	  80@3 (  @S 0, 0@U  9@-@M   F @- @M  F C-IM p` PP  
 z @ P @    1U  P    rK   mK  p  	   J I0  A B P     R     
 P 0   0  2 0  ! P		 -AM  w  0 @	 P	  0: S  0 06  S  A  p@-NM  P  @P  
/ XU  `P@  
 0  0 @P  /0 08 M8 CI  @ Np ; p1p@-  P      U Q  
 p/ P @`.  
   P    P  
0@ S  ccbcbbb$c P*  
  P  
  -   0 P"  

   P!  
P   
` T   P  

P
 ,   P   Pxtplhd \ T  U 0@ @P
  	+
[


%,X0 00 /0@-N  P/00   00&  R  &  R  &  R   
   /O-@@Q@@M0  R 0  S  
@
 TP @Q0! @0  @ 04# $J  P0 00  08  S	 T 	p  `0N   P    	  pJ  N 	 J Jo 0(h0x a@- Io0 0@-  QP@M   
 0   5R  Cr  P     0   T U   C^A C; C   Jo0 0  R  O-@YM `PS   T p 0  
g @PKj   Y|0  
 0
 0 0/0H 0 Tb0    0  P @ 0H sb  P 0p 0 0t 0 0  0	  P@0K0c0  P  )  
  
   /     S 0     P @0 0H DE  0P0  ^
 XiR   P

 HdR   P
^   R >: H   0  00 0@- @ 0P  
 A  `o  0  
~     
|0 C0@@ d0 0     
T0 0  S    
80 0  S
,0 08 
8 0O-M @0 P /o"O  
   02  `0h! p =Q   `>  PPN  `@0H T   0 S  @ ;  p8  
 P8  
0  P0@ X:0  U @  04;$@`  V  
 9   P   40    R  0 `4@X	`: 2@`PP P   A- Pm @   P    3A R  3 0  S  
2 0  S  
 Q   P  
	 T'    T  
 T  2  0 0  	 T  2  0 0   T  
0D S   T  
@D T~  P2  0 0z     yn  0  
3} 0P0    
F?o2  S
 hn Pe  
 Pe  
P Pd  
 Pd  
 Pd  
 0@ 0  S Pa  
Pa  
P   
1 0  S1  
 Cl!` Q P  
    Cd1(800 0@   
(1  0& 
,1 0  S&        
0  0$
0 0  S$
 0
  
0  0' 
   Q 0S      
   l h d ` @  	@  ii!0	     d$  )  I  1  Q            G-M P 0` @p_1   / PP    / \
0 S    P`[  3 _  Pv  
  38` P P" )  
          43 0,30, Q   PP Y U 	 X U0 06   X  U9  
2 0   
B U@ P>1TA0" O 2 00   
8    lA*   P  
 K  P  P  8210  S(  ,* , P   PP, P _oR $  
000 018`     
A   0 00, U 00  S  >1DAt!0, P oP  
D8 tJ K
  
,8 mJ J
  
8 fJ I  
8 _J J  V  
8 XJ @  
8 QJ K}  pP   P  8 FJ @r   
8 ?J @k~
|8 8J @dl  ) u@   `@   `  @  t->JY_CgZt  0@-dM`  @ F    0 P  U	  
o U  Q  0S  Q  0/ S  d0@ \ O-M t {F  P  t0  S  4t I ,3 0  S  
 3 0  SG  3# 3  Qd N  pP2X0\00X 0 X \0  P  
FO0`@@  1  @ L \0" wN \0  7B Q)  p    7 RL"  
HH8 R   F    ," ZN W  8   "   "   " 0d |N G R  W   !  	!2   $	!+  (,	!$  04	t!  8<	\!  @D	D!  LH	,!  (P   T 	 !   ! N  lF?#>  0P11p WU000^:  U  PC Rd   
0 R  t  
 F    }18\T 0AQ9P	+#IO-Q @ 0p  SCM]  
 Y  
  0 0 0  S'     P  1 0  S  
1   0 0    d` 0H [   L8  0  S  
 81F/>F  0 S;  C0 !y qO   P 0 	 `    P
 }T  P   `O 0 0S   
  0l^M Fo  0 0   R     P    E!0  FOiai\  pGDi 0p@- * R   * P? P$  
    R!  
  PP@p  0@  S  
  Pp  R     P p  P  
? R
 \    \    R
 p*O-M$M0=0 = 0 ,0 N  0/1=0 000=0 000=0 00 00 0(0=0 00$0 ` 0p 0 S   F_ "AK  @%1 S#  0  S,  
 0` SF_0) W 00  S  
P#>B G @  T.    W0  0N  T/c'     S  0  S e  P S
0  ,0N   P
 ) T     R,0;  
G  0	@ S#>01&>0C41&>081&>30<1?@1&>u0D1&>0H1&>0L1  Y?P19  
 T1(  O  PC  
= 0 
@  Q
A T<  $0  S)  
,
 N  0    Y   NL  0  S  
1 S  .LN   P #0     6>1  p@h0 h %  =0 0  0
 0  Pj
$ TA,   ~{ A- pX P`G  @PP  
,0 0(0 0 0@ P G   -AM   M  A0@- P<M  U  @ y\  P 
  
(0,( 40P0@0 0?\  <0i? A- P@`p   P   P   P 0  S   
^4  /p@- @P4  #J  a  P   p@  p@-M @i  P     A G-M @vi  P 0  
p`  P   
D0	   8G  PP
& I  ` p # S R   @ 0G   T 
R  YX  0 [ @Pf pm A p@- @P9i  P     P   p@e@  p0@-<M P@(i  P  
 "`  P   
  T  
(0, 0!0040P0@0 0[  <0 Z-GM  P    Gp@-`M/ P%M  @ =    T    
  p@@D  L  d L   @P, `L   P 
   P
 o @-oC-UM8 @  P/  @0 *  
 L  P   P#  /0``0Np8   P   K   P
	 K   P
   BL N0  S    00 U @-M @  P  
  fL  o-GMI  P    G 0  S   
+4  / 0  S   Q  : /9  /A- @, P  `*   0Y~p,  0 6& `0:   P      U   @-a@ p P  00C P   $OO   0## 0 05   P     P   @- SCM  p @  `   PB?@ 0 1D @P  < _E   V  
0 0 40@ J  P  @ C0 0 80 J  P@-M0   @P   T @ A- @pP  U   U`1g#0      P (0 0C R  0   W  P   P  
PE     @-P M`0   @[  P    0 p >  8 ^> L 0O-M @ PP  0` 80 `f` XP3  :  Y  8` Y	1#pH
 W
p 0 0 0  `  P'   0J0  [   (0 0C
 X   0
    P     P  

`
I [    0(A  0K0P PP7@-P @  P   0    c40  0 0   40?0O-P4Mp - @\`X`G 0  V0    `  Z  
 F  B:5  <0 0aJ 0 @    U   *   @/ R HD  O4   `.  0 0$ Y  $  P  
P 40  0  0  P    F   PP  PP$ 0 RP  PP0P (0 PP`p0 00$ 0 0C0C0 0   p`W V  Z  
$0	 SP,000,pYD   P0  00
P0  0@-  \@- @`0   00C  R  #  * 0  Pp#1P	     P  
 13/  P
 @- P P  @-, @ P P, 00 P   C-b0    
x0 0	   
 0`@	 S& P RiN  
  0 8   P   0  S R    0@- 0@  S  
  ` RP     08   P  
p   P
 0 S 0  P   (O-gf 	@$h (i,	   p(Pt 0`x |) T* X+ \1 Pd2 h3 l  X Q  : 4&    0  
 P   [F@  Z  	 A   D0  P  0   Q !@!:*@A-Bp0#  
0` 0	   
 0x S&  R  
 0& S R  :L  < 0]2   P   0  S R      0t@- 0@  S  
  ` RP     0=2   P  
p   P
 0 S 0  P   (p@-P @T MX\ C  `P  
  04 8 , 0P  
  C      &  B 	 0 4
  8 ,  P  pO-gf 	@$h (i,	   p(Pt 0`x |) T* X+ \1 Pd2 h3 l  X Q  : 4&    0  
 P   [F@  Z  	 A   D0d  P  0   Q !@!:*@O- PpDK A  44M@T@ [2	  @X\yIB  
  ^892 0  \  
0G 0 0492 0 lB  `P*  
J
00  T   hB  400 0  S  *   E  0
0J0 [  e0  S  
  
	 0P0  S
  
 FB @0
  U 0Z0  % 8 [  0 $0 (0< $(,   :  P   P W @@D0    0Q  P 0  S   
U /A-`?O0<1 @  SPp  
   V   j   P
    V1   E% Ha `,   @- P`@Mp -D 8`` 0@4p`  @ 82  0  p  @P4  0 0 0  @P+    C   P@$   : @P   000 0 0C0C0 @0   @P  0 S@
  A   P
@0  00  00 @-!M0  @  P%   0 .w  P   $0 p  P     P   $   P  0  0 0 P  P  , 0 R !@-M0   @g P    P   0 A P     P  0  0 0( P  , 0 R @- @  2A <1  S  
Oh3  S  
5  S  
Y  00C0A-MP `pS 0  U 0@ @0 4/ @P  
0  U  
 T0  1L30    T 0   UPP 5/ @P
  
 T  

 TD0D 1L#H   <   0h<0@-MM0 F P @P   E @P   @ @P   0@0 00F/ @P   @s  T0 0 0 00@@- @ S  h| |   t |p zl x L \@ T4 L( D < 4 ,', _Em0    P/     M(O-@0Pp1 dT2   XX3  `,(P)MT*X+\PER5RPRQ  
!  " #  U  ` % $04& 8' < S:!0  - "0#0,04. 8/ <0U000	@  P
 c  P  
	 @ ! 0	 4" 8#  P`  0 %$0 ($0 ,4& 8' `P`-0, .0%/0 0$0(0,$04&8'<0 000  V  0U
  '4fpg0'8'|	 h0ip? V00100 c2  
 0  0(g  P
`00  SO-M @80  P	L 
  `P  r  ?  @P  
  0(` p `!&h 80< (0   S80!  0!! S  R  0!0
0S0000 0$0! [ Z0 3  # s 00 9  
0P,0   SRV 0
L ,0H0 L \.  0P`M  H  RJ    R,  
000,0040$0  S  ! S  R ` p*     0    ` p!,
    0P$0  (0 S   "? L   (   @D0MA   PD0  `$0 p  S<0< 0 0S  00000 ` p O-M P @ ?$ `c   P  
 @  0 Y X0  `[
p$ [# >  P
   0  Pu   e"   0  @!` W
 V 00  S   " $  >   0  PZ  0  0! Q P  0$ -        0 PD  @POo  B" 0 000S0 000A-P 0#M`p   H 0  @P   3 @P  
 d #0  !3  @ Y  X 0 0  T 0 S@@-M @`Pp  P  
 (0      
  9 0 0 0   P    @ o  A-P 0#M`p   H 0  @P    @P  
  #0  .-  @   X 0 0  T 0 S@ P@-  
  @ 0  P   O-@ PMpx  :  p :  h 	:  ` :  X : j   @   U  
 < `    P  
 T x 
@   P 0  S   0""" W
00pl0  	  
0 Sp0   R
> S0 ST0"40"80m"<0>    P  X?   P hq?   P `?   P   SD R!  Sx R!  S R"  SP R"  SCR#  S R"1d01P0e0<P 0P%$Q %(R %,S    00PP 0
    	 0  0   S  Rg000000(00
0,0" S  RV 0  0 10 0000 0040# S REl QB0    Q
0 00  X4,40,8000,#0##<00 p'40'80)4!0)8"0.4%0.8&0 0p(0 0$#4)0 0'|#8*0 0)#<+0!4-0.!8,p#'.0 40 10! 8 /3 20P0L  Q P0   Sx R1u@ 08 <0# S
 R1 0@ D0$	 S R2  0 0a  S R:P0  S  2 0 200` S R$R0(b0H000L0d  S R:0P00#4Q00#8R00#,S 1D401501601701801901:01;02<02=02>02?0,2#$@0A #(#<C0!4E0!8F0!*4B GI0*8J0(4M0(8N0.4U0.8V0,4Y0,8Z0 4]0 8^0$2H#$*LT(.X\ , `0a #(#<_ K  OW[b c0L p [>   Pp  WC0p  S   0"""  
004	W p$"(2 T` 0 S R} G- PQpM @ `p    P  
 @ p(P ;  `P
0 	 z  PP  
 ; 	 &a `0  P4b  @8c < S:  S@C0PQ0S R0e0  S  
  o  P @H  V
 ;  0  @O-   S pPP;  @P	  
6    @P  
 ;    	  N P  
5. 7 lP+
 V   [ y;   ` 
  O O->M CF! p y7  0 D  D0 S    m7  ` J;  @P`
 ``2`,0\2\00 0(0,0
 	0d ?  d |6  PPY   .  (04 )  K) 0 4D  P0 0L00H0d 0D0 0	0f? 1) @d "1 P4  P= 0h=d$00 $0 4 8 0! S  R  $0 	 	7  0 	D  D0 S    6  : ` 0P S V& :   P   : | 0 @S `P 0	 S E S  R   
 6  0 
D \ D0 S
 P  YA-p!0 0  R 0  S @,`0M  

 Q`  
 Q`%`P  
 00  
p`   6   6   00     , V    X  +  X  $   P
  
  <   Pp  > C! Q P  
  s6    0PPP      Nd6  D E    w  O-$MPpHPT ! \\   p $`  U V` ` Q @@C@`A  D0E  B RP1 P! 0	 0< . 0 PB     "6  Y  
 Y       O  P  
pr R00 0L0  04   
7 pP0 0L0  04O-@1 0!,M!04	 "!	 S00  pPP`  
  ,cQ  *0cS  :b?a0)$ 0S	  :c/e 0%	%000  Q:1  S3  1  S  
    ,1    4V  P/    V  
0 0  [*   0` S!  R
 1$    @46  P  0  0;  0 < &  P
 104   $0<J 0[>   P$0  
 U>   P $0     @   P   @ 00<0  0   P
  R  Q#G- `pPA   ,.5 D  P> 0 ; 0$; ;  S   1  S  
$+  R  U  0, S  :I, 5  ;p!   
 \   P$$;  0  ;
  ,	
   P
p@-1 P ` @  A!0D  P@     @P@        P       P  pA-M/0 `Q0`Z\@0    pb  P  
P 0 S  PP  T
 != h M  P0!S0 C R  < S  d# 0  S00@- 0 001  P 00 O-M p $( z4    v4   r4 0   n4 7  0h4   d4   W9  
 f/ P > _O@ `P@  
`. >   0 V 0$  
  x>   P  
  X 0, XU?o1#2	 P03  S  UQ  : f P	   eU0#  *U1  
 0    =   P 
  =   P 
    P0  
   P   oB  -:   P  
B  |':  Pr/q?0 8s(0S    Z0    P  `  0  Q U0#e  * 0  )   PS  Uz     PS 9V   8  P   % 0 S  U:0J    P  !0 ! U: x  P 
  (9   P 
 1  P  w? "440 8#8,  R 0
<0 S 0     P  
 =  P  
 U  P#  
   9  P  0  9   P	77   9   P  
  9   P  
 Z  P0 S0 S  )9  R j, U    U   001U  @0 U  0  S.    <  U 00  P 0  S  
  `9   P  
  P<   P  
  <<   P  , ` !=   H`0_  $3 ` ( 0P
;0?2C S   <   P5  <   P5
  <  P5
  <  P4
  lx;  P  `  <  P   0? S4P	 |  P
  
U*  s<   P 033]  <   P    P;  P    ^<   P  . 1`4P ` v<   P8< <  P  h0;  P`0, `F`<  0 8 _12 `   P|  s10<;867:9
2<2U   
  P
  8   P: 0SMDH{\e`>I @  	vO- @p<XM0  ~:     
p
 WYyYaY .   T  
   0  
   0 7   0     0 Y]YaX@   0g FY 0  x p l h d ` \ X T P L H   0$47   #   "   "	   !  j  
!  5 6  P  l  
6.*  6@F  6+  6/*  6+  6+  6+  |6(  t&; 0l&< 0d&; 0\&< 0T6  L6  0@  

0W0 0
p  0 W 00  Sp@Uf WO 	    P    0 \TU     P`E  `  - % y;   X     P
N	 &!'  R  ;X   0  
 $J @P1  
8 I5  P0 $0
d PP   YX @* 	0`+5  P  
2= 0  @0 @ P P 0 T  :  S`HP 5  8  P  8
 0$ @P5 4  P P`    (  5  P#7 
j $ 1 0'0C  
  $ @P=  HP 4  8  P  8   @:6$   4   L3  0 $v  P$4 $C  P    8   
4  P:6   
4  4  0" 0 0n4  "j7 
j $ 0  @0 &0
W4  P  
tR T7    `P  %0$@D&0H'0L 4 ,2  P      
0 ( @P  
Wx4  `P+  

 6 ! `P   @ P1   
  	 . P   0L! P U T  & 0     Pd B
  Q4  0 0  SS  P0!0   KW  0  S   
 @0  ~8 00 0o @0t d@<DHPLT|xX4hp   $ ` 
    O  pG
 @- @ Z   
      Ph0h`hp   0  -8 0  S  
 D   
  / 00FP
 Uh  @  O- 0  @PM
    P   @    X  
 %  P
 0
 ; 0 p n 
  9  0 9 0$     X  
	@H d  
0 9 0    ;9  @P  ?
2Z/ S(   
   / 9   P
@  0#9   PE  
 *     P&   p { pY  #   0@    0"0#  P7  prpp 0D  S	0
0 `"a3/  P
    P
 0   
 #N9 /#9   P  
 0 0#&03  pP'    2 q pD  W
pp !0a7/  Pd P 0;  
 P 0;	  
 P   0< 0 PT 0= 0@  0 8    P 00 p 0D@   @  
 0  0  2  00 00p  
 # @P	  02S  	p p  
  p  08  @P    2  P
  W  
 4   0   0	@  W @   
` *xiR#C-@ P/ uM8   P[  
 0d!   6  T  P&  
   P ` pI  
	 K  P   p L  P>  
	 pfG  P9  
, S R	0     P.  
0   6  0  #  , S RHP0$  O 0$ p J ( 0  ,	  , S R  $0p Q   P  u@ls@-  \@	P   iNH`@0T  S	  
0  6   !. 00PUp0@-M  P $  @P  
@DOo0    l0B	    P @  T  
  H   P  
   $   P  
  0$ J 0@- @`   
 @ O-MMK>4   S `db`Pp0 @P   @ , 7  0P  0   V  ( A   P ;   P  
   P  (  .   P( nk0   0J`"  S  R  R  V
  00	00 04  Q P  4`"00400 0 Q P     ( tz1  P
   0  P 	  ` p [ Z   X    0  P	 	 i1 ( VT0Z000   SR& 0 0	 0$0  0^    P  
 @f p	 $0( %   P  $0 P   
 0 P  @P4  S  
 0   
`1    0  P   
   0 P  @   (@kp@-^w00 @@` R`N ~ Ap0   Z  R0S/ 1    
P0!0@-0\ P #3  S  ^0\.DP R"   T$  p0B0 00@0 @  0 @0 @ @ P @q@  @  T00   08  \#8     /  R08#< 0 0 S"( "$ / 0 P4   $8 /  P  
 0  S  
    R	 0  
   P	    0 0/ 0	  0  #    S  /0A0C S0,    / @ R  P0S 00	  
  S  
0C8#8  S0  
  /  / /  00@- @  ^  P U  P U  
0  S   0  ^   B@ " Q@   
"  ("(  0  R  0 Q"   R, 0 0@- @  T  
 P T  P@ U  P@ U    Q  
 00  \ 0# Q   Q   00S   0-  0  -  
   R   	  
   R     
   R"        R  ? S \ @ R   6;@S0!03  S  P  :,0(@  3 067      @-  @0 B |   S0 0  S1 S
  
! R	  
 S  
 C/, 85   / /p@- @P` /:2 , H  P  
  T0  0 p  p@!14  S(  p@-  @R 65   Pp6P  /5   Pp  t)5   Pp  `#5   Pp ( 80   0P p / pU  .? 0 R   0@-ot      S     R>"  @( R:0 S    /U  RX  A-M0@ `h  Pp  X p 0 K3    P   0   
 ` V  #p@-BM @P `  P  
 000 0 0 BpA- p@ MP ` @ 0P 0  P  
    P0 0 @ T   /   s    
.1 p1X  2  ]  0    o  P0 0@C- 0P  IM@ p!) P  
!   
 	 S R  * *  I `l0l0h00 p	 1  2 0 0  0  1  P   ` V  7@-@P @  T
  < 	 0=0@ s      0A- p@P`  P"  
 pp @ 0`0:  S 0?  a= @  006  Q   =*   T p@-A0     `L 1 0 @@  T  _ @ 00C ^p   pC-P p `@  VM
  : 	 0#=0@ s       00  T   
T`1j#p`  = 0 0  6? 0 R   ) @Dp$00@-@P8(  S0 0 0        	  
 000   
 0  S  
  D0           0 G-< @P p`  	0i  U  T       00 +0 Se  	 Qb  
 #2 S]  0 SZ  	 QW  #2; SS   0 SP  	 QM  #2; RI  p@-08M SB   	 R?  
@#2#}N0 S   	 R
P#2#   P0 S   	 P
`#2   ` 0E T S           0  0  d h   Q   h o U 8014    P  3 #8p@  /3  #  s@- ` @P P   @ p0 S  P U00  P
0   8<  PC- ` P P
KH$H T8  p	KH$H T    @LL S  \0C \@	  ,S?p\@p  *@D@P  ^  
p W   \ @  
 \P  
 \`Ll  T  S @,?P\@	P  * D@,L@?	`P  @-" ; 0?  ;@-" ; 0?  ; p 0@-0  
 P   
 P
    ;p@-P(M,1(@ `   0   U T    (p@+   UT  *0  @ 00 (pd!5 0"E K U  U
T #  3 S     R  ( 10 0d  03h  
  0.h d   0 (h <    o0 $%+%@P0#$L1,@- @RM  P ` pM2  P T  0 H @N0 0 SpD @D @  0  @ P@0  8A-P ` @p)2  P   0  A  X0 0   "0 _K0@0@- 
@    PL U   S01 @5 1  :  ^0@@P  \0  ^ 
 ^0A- @1 
 P d0  p `  V  @E T@1,0    @F W 
p1S0 @ `80p@-
 @J0 (0 P  P   p
 @@0 C- @|`   Bd0 P1!\pn  T0w/  ^ @X `   UP.0C  O-@ ` P NMp0 p P  Df  P P1 @8 T    [  
 ?40  000" 0 
0@  0O-M P`@D"p ?0@L T *  @@  Q  0  
  *  0 @yO-@ 4Mp  P8f @@ 0  0 S ( P  0E S0E 0  `,   V<|  T D  301 0!`P p T > |  p`000$ 	0x x0 ` p  ( 0 0C P@, 00H0@04 40`@@` p
 I4\F pG  @-  Q@   PA r n  P \ #3 ^  \^ b!! @ P    p p R@ @  0@-@ b!! l  0S8     Q.A-P @0PM$`       U 0   S<  
 V    S    RP  
P  P S"  
 S"  P 1,2  .   0 `p (   `C0 0 `pG" ` 0 P  V0  
a C R 0C00 00P#        pGc  p@-P@0  Sp   @404  P>= Qx  1  S/  0  O-M@B  P 0  S0  
p ? 0UK  2  L
` UNM T@D  @@ P0b` ` U R bA  0   ,0 0 0 0 0p  0    -0@-M B X   T  
 0  S  
P?  0K    0   P%0@/ pG    Q_  G-@`t  Ppb/   P"  T1# 0# R  
 

   Q   
 R \  *>. 00B 	 P  R 0 Q   R
  
   S*"00 L 	 X
 \ 0 Q   P ^  R 3#  \  \@D T  V   W    R ^   @DT
  /O-  P$M     0\!*$  P    $0  @P
0  S=  "b#R P `!  + 4  e2C< 0200      p10i01pW9 [9 	00
  V0@0^@0D  0 0
 S
0# 0 0"4 0 $   0   ($p@-0M` @P P       -   P  
@ T  0p $A-  ` ^  # 3  V   P      \   p   W
@ T   X
  PP Q  @@ R    \ p00?0  S"  p@-P@# `0@N;Ch   N;C6L  ^ B S?88,#8 0p  /  0?  /O-p@ @ S  R @3@"M  T `@  
!Bd d0 @ !	0;d  <S0  u` E E !b? +d 	0 J	  
X 0"!d  0   
	;# 0d 	0  
 P!  SR 0#"%!!! 0  
p2 : S   `\2` 00(D 00l 00
0a  0)0cP `r0b *p PXb 0d*` R  
c  @? R? #0  0!@ 0`  0,   b   0`   `n0( @T p X0  
<  0c   0< c (! ` + 0 `    1   0@"A  p_0c 7 0000*  0|0 -0 J   E0 00 00T0 c ! S  RG        
0R  0  [     (   pG    O-YM ` p20000$3 1 00  S E0 , 0 E @  
@  V  

 j 0"3c  0 S  V  A    U6(  20 0# P  
  SGG Y(21 0 Q  
  SFF   @ E  X:  
:#:SJ, x,0@0-0!0.0x 000010 0205+  00&  `P
1!0  S 0. |%P0- \D&  pP   P &  &  
E	0

 0 b  Y  Xz ]0 0C! PC C 
0 P 1@11! S<!$P(P  
H10C SD0\1  0 S=0  81 S  G0\1 P        ` H         pG    0   P P\L X 1L     0X00 OX \0hPtPpPlP`PdPZ0  S  
.X *\\1  S)  X  P  X 0  9&  Y   P   YS0 P\1  >0> 0X >  P\  0 0 L0($ ,) "&  0\Q40 U<080q  4 P4 N4 G4 4 
4 4 
4 \@ XT@PHPDPt@ q@ 
@ }@ z@ w	@ t$`4 @ 8X0 S  X4 1  S  
X00 S  X4 X0 S~   0` d [7    \q   0@0H0D00 0$ (0D@ w% PP  $4  P@   U\Q  0 D4 X l$ % 4P8\eOc %   Y  
 % 0 0 L0($ (l!  \+    QA   P
0P  U
  [
+ !  $! 	+$(( 	,$,$( 0	  x +\y! d$du!  Q  
 Q	 Q  RX4 X0 h0  S
X4  Q
O- @'MM  $0!hp0h# )   $  0 0!0& 0"00$0@ 0%0) c&P 0 @0 0 D@)  TP@ l )  R P l 0`
`@D@` 0]eP  0 3p4@.@4S  *2	  Z!n$  Zw  	 g$ <0"0 S  # 3 S #  P  C X01 S0!	 0Q$ 	@||d0 So  h2hB0 0 ( 0@ 2^- 8 .  P  
^8 0+2 0 0 01@k  Pa  
 (00 0@0!0!0"0 0$00%00&0 01( 1 X0@P1 K0 I 0 0`1 01@ :  

2  	  (  0
 	 0( 0	 0 S	  #  @l  	( 
0@  
0( 0 X	0 #  
@v 
   
i 'Pm pG    "{y0` *O-MH p `@0U* pP2D  "xE H0 S @ 0CX0 0  S  
  V  
X @* m_   Q  
@0   &  00 <  VX@ 5  0 S 1 !P 0#`201 Td L0P Ph5 LX0 PT5P%0 VP0D50LP 045( B05 P%d  0  P\0`0 @   @ X)  U 1  :0E SE  [  
0J Sx  P0  [<|L C Z0J
1# S>0|0T00Ch00e08040T0 Z0T4 0 04j< 0 $   0L4(,A  TD0@CI   ^ D0 P&  *P0\ <0C`T0 0# Q PZ  * L08# 	^  	bl ^ l 0@	 Hd0^ l  D  X(   $d0 Y&  :    
\ `0    :  
@0
   %   VP@xvK@D  T@0 0 RD0 Tx20 @ 0T0l D0 SH42l  0,0  <2 0T  0 =u  

 V 0#03  V 0  S  
 `^ H0 E C  L%  J  U.:PE V-@ @    (  
  V$
H00C
 S  B^ H0 E @   C  -% @0   ~% @@ 
  
  D  +^ @@000   
00@TD0E@@    
  UPE 
H0h 0C SP
 U:@0   R%    @ H(  0  p Ao  W #  Q    w @ 0 pG   \Bc      - 0  -4M! l  & <00080  0D0 @  P  
,  & 4/   0! -@-0000  00%/ -O- pM @? H"0C   W    O/ s   ` 008#  1 P1 UP1	 SF  U]e2 P#P1 Xh T @ @@1 00 @,1 0` 2"1`01  @   T00000 0    0b"0 0 W    {    @   
 @] @ 0  U P10    
@   T*  pG   YK\r   -O- P pM   Ph2H`1l" '> 0C    020" P @Q 
 T
@1TMd2 @#@1 Ue  W0\   0	p0k1 `0 p
0;10 K
0 p2   P10  ,$` R<  ?1? A0 P0$2B `0   $000$1 U B0 0 p	0 `	 X U'  
   :#:  S
/!" SP
     U
?1 2  P0 p0 00 P
 ,P  0   U  3 #O/ R   pG   (      -0@- @!MP">" 0]B  l h0  Td     X0XD  Pa  @	   
   !0@/@ pG- ?   O- 0  Q 0  Q  S ( 0C`c0c01 0  0 00 @  Q   e#  ,  P00  S(  \+  pl@D pHor Xp  Wp`Dp0pDPp QD@ 0  Q  
  ,  0C`   G  -O-D&MM pS  P   00 O/ F   P
, <0  0P0
3^>X(0 (0A  5  @0  T @1TMd2 @#@1*x5 0 0 0\`5PX%@ $@h&  `0S^ S!  
  0  QX   H @=  0J 0 K	  $0S 0,0         b         	
"  b  P  
 0" 00, 1 P
,0 S+    Y,A   X  
 XB  3 S> [ 0@0 0 ,0"  >  P=    S SS Q1  R 1 ZS*  R(0 Y
 5"     P  
   , 0   0"0  X
a0H S H XM   Z  l0P` 0" 0S>, ,0 S 2l" 0C 8#8 S 3   :  CZ  ($0  R00 S
  
  R@S $0L 
 u?  Q P  X  $0  S0C  0 S00C S|$00$0x XX  
 XT  
 X    Tu
 VD  :  B ! `F@j X    T@De X  00C S@^ XS  
 X  
 X0  
<C<  SQ0 C R 00 V 0#  S  0   YC    $0Ss   C Q: V`1 R   B
 N! `
@  00   | F     $$ pG     R  0     #  /  ? P/O-1;4A 0o,1 R!1 0  P 080 0  \ 0"  p  0 `N V`#0RP
 S   Y0P PR 
	 S   [0 ^p R P0TSXS\PP0%PCC%%\CPC    0@-M  @0 P8<P 0PR ^40 @ 00# 3 R0*0 #, @#( @#$ @0@  ^0(M00 @   R0  
  $( 0,0(/  C-LM@@ p P`           5  S2   S    0 03 P0B/00!/0 0 0000`V H  *L0E  R      V     Y  "   5  G- P`@ H  T	 
 Tp1
p! 0 
	 [Rb@D  @-(M  0A@ S@0 P 
  	        !(    
%  (0(  2     S0   @ P @-(M  0A@ S@0 P 
  	    !(    
%   0$    0 S0   ` @-@0:  S   ,  0000,  O5    <   P0  
  $~   P  00:0
%/%O-X Q Pp,MB  
Y QS  
N QS  
? P   ,I Q
 0  00  S
  
@ TX W0Z U0Z  S `````` `$`q ;  O5 7 
 8   P|0PT*<UPZTX0? U
  @ e1 E30 0 `00hB%`p@-(M  0A@ S@0 P 
  	    !(    
%   0$    0 S0   P T0                0   0    @ A- @P`tp? VH  ? %R" 0   R@ A  0  $@`F          0   	   /  p@-P @   p@  0 /  @-PAM @p02< 0     A 0,< 0`  p  00 0, lh  0  S0 S0  R  0S S0  S  o    $  Q/0 0#014 # O-M @D0@ b0  T  Y1001Z  
  YW  D 0 Sc  0P S`  0N S]  0G SZ  0 SW  0
 ST  0 SQ  0
 SN  P  P^5     P/  
      R  Pp`(r]$b    
1  S
     P      U9    [ 	    Z!   X"      [D  0  S  
P0 V 0 P  
\0D2 @Y  u p!Xp`p\p
 T ``J Y`3  Vq  
1  S  0D2 0d0l0h0 2  S1  /0040D2  S  4d   PS0} 
D2  S  X0A0\0  T(0[ 
> 0 (0hd 4/ @  TDB 
X D2  S @   / 2  @PS0D2Dr  W0   m 
d DR  U 1  S~z 
  P  10 S  
1 S8Pt  ~/  PPS0D2  
000~/ 0?D  @DR] 
 
 PP  1  S?0 Y  :00 T  @0
 p3  P"  
\X Z  P:  
  U   `10  
       P      U  
90\X00`
 
 `P}  
   P4  
,  P   
 ! 0   U 00  P 0  S,  
 002S06`+ U     0 R   0D2&0(X, ,X,X, 0
  `P6  
$b V  02 U 0 U   `Db," ! 0  V
   U0 42	04@2<282 V   U  0 42	0482
 04<2 04@2)0*01  S  0    E0`ap_  VDR
 E  U  
0/@0A 0  Sp  /	@ 0'`/0	@ Sp  &Q/'P0/`&A 0P SP  @/ @P0 `/@0(0 S 0 @PU   Q   T R20   S 0A`(0  T0C,0   
> 0 ,0hd 4/ @  T1  S  (0 C0  h @d P  T:0  0D2h04  Rt
[0 h0d $1(1,0 ! A@ !	 Q  :4@ 1d0$1h01 S0  0<01   S0P00  S  
  S @7     Q   )    SQ,0p ! S0A D04&0 S 0  P 
,0@ S :0PP0 X  A A<0  S
 @0 1  00 S@ADAHA`AdAhA  3  T  	0 - P P	 0p  P  S@$"  T
 	 R1@\   8   0   !p00 Y2@3:L AAA
  0P 0  
0 W  
1     0
 0@ T 0  @P p    p    P  W   
G> G0 R 0H|  R80 P08 ";B0C$0000
00000 U  :  Ty   4  S@@u  
0.| @Pn  0  u @g  	0 - P   Z
0EP P    Ui  
 10 Yg  : 80<0 U
0E 1E21C"!7!'0    U
00 SG  
 Z$0!!P P   10 YG  : x0 0 U
0  R2  
 Z   $ !P P   10 Y.  : _0 0 U
0  R  
 Z   $ !P p@     Y@#
@3  O  M  K 8@u@s@q pS@6@2@ 1 Pp<@0C SF  !Q!! 10 Y  *3@	0 P.  P   p@ 1 Y@#
@3$1  1 ! 10 Y:0  Z  p
Cr  P

 U
   0 !  0 U  0   P4@@8@6S@4@20D20500U  P  Hl  PM PP00  
 2d`  S"   U  pp X  
0   P, 0P0  0  00 <0D2j 0  P 0000p> 0 	
 P<  P1!   0P0 U  !0 0  p W000}0	P p>-  UI   1(000$p1q480 P4010000 U'  
0(  0   ,0    $0     !0  00# 1!(0C#80  0 S 0(0 ,0	 SP000$0 \0$0po0<024003$p,03(03  84    QH  :4  Y 4 $ 0 $ 0  0 ,  , (  ( E$     ! T ,  p0   !!p(      <!!p T L H09  PH0L   
p W        Q:   8     P PD
~ig  U  
   @   0   P   @0   D0   0RP0R#125R10@- 0 @    0000 @, ,  O5  0?o20xO-DM V  pP  
 ! 0R7 @ 0 0  S   J 0o  T`D? ^   TI0B0 S  13   
 7  D0  S  1 n3>  N<100000 0  
I R
  
0T  S  T  Y	  T T  P   0 @0 0  Y
0T  S  
  `0```0T  T`0  0  I i`X S2a	   
 
 `D 	 Y S  I
 
 `D 
 0

 (0 
   C
 `D ph! ,  0  O-Mw`@  	0IPF   0tR 5SP  
 0 p   r  Pr  
	  P  
	  m  0 Z%  
 QA R  
   P Q R  TI      R   R   
   R0  S  
    P	 v 0%I V 00  S1  
X V<1  
8!Y V410(!  T@@ !0     P PGU 0gX V9S@   vP*T:	PPTZ v
  
     P  U
I V  Y V  H*L:	PHLZ\X*\:	 0X*\:P*T:	 0P*T:! \W 0@-@ P$M   X' @P @  0  02S #Q2002S  R   U$0)   P@-  0p:  S   
 0 P0  xp  ^  Q   
 Q  
 Q
  0   < 0   L 0: \  \0 0
 0t  \A-   1p:  S    
 0"   R #  
 R     G  P     R   0
 $@ R  0t$  X  
  p@xjP U T        \0  0@pJ  T@  0 G p@-4`0  @0  PPP  0$0 0A SP  *0 S   0  p  \A-   1p:  S    
 0"   R   
 R     D  P   R   0
 $@ R  0t$  X  
  p@xjP U T  >    \0  <@pJ  T  Q 
@  0 D L2L" p@-0  S0 0p:0 0 P 00R  S2  R  0`00 0 VM0	  kB  P  
   1800p F V P@ @E   V>  
@  T  0  ` D  P  
0  ` D  P0 S   0  ` D  P0 S  0  ` D  P0 S
   0 	 ` D  P0
S:000000   D  P  V  0 0
x0  0 @ V  5t:L0? 6 0x,   0$+  0   @-    RE  	 QB  
0""00  R<  	 Q9  
 "" ~   0 R2  	 Q/  
 "" ~   0 R(  	 Q%  
 ""     0 R  	 Q  
 "! 
   0 R  	 Q  
 ""    0~~& @ 0 Q0/7@- P @P     P   0 0 0  P
 @ 0   S  
 : R R   : R/  0 @  	 R  0 \   /  /00 S  
p@-0 @  SP
  0  4| 0P P00P pY 0P 0 / P    R?  
   /P
  * R8  ?0 3?   0  /P  * R+  6;@S(  :0 6 00 *?  "- 0  0/ R   88 
3 #37@PS3  *  0 9 00 '"-  *?    "-   /  /  P/A-0 @  SP   4p0  `,   P0 U  :  P   P
 0    PP!4 0!8!0/p@-0 @  S0   0 S&  ` V#  4P,  U022U032R0A r4050a07 60"2"  0  0 a 00   (  P p  Pp@- P @P/  0@@,  
   
 0   ,C  P@!  000$ p  @P  (`0 00   Q  0 @@0 @0@00 @- @  P   K  P   p  P  0 $0  4/ QA  0A- Q P`=  * 0 S  
 S*  
 S6  @$  P  
  $p@ @4@  PpP4     
 
$&  P\4P00 $  P4   /     O- 0M 0 @p `P$  `  V!  00` 0  
P ,PE UP!  U  
0! `     B$    S   
     P  ``  p  0 `0     P
 U p"  : P4 0A 0  P!0  R     @ P  *,
0t 0PE0 0000   R  
1  S  0
 F  P000 0 
   P p |a Up1   O- @TM  T P$0 %  Q Y	 !  *
  0
` [ Z p  *0	`S0p$0  S ``  
L P0\ ` 0B$ 0  @ 00 T   
C  
 0# 3 [ Z0!03  S  L  4`1H  0, 4/L 	      (  
	L0  
  # 0#0  0  0  
 `  
 \ `;4d  `  
44@  
L P0 0  
 `  P 0 l P @  
L"0   	g 
 a  
L2   Qy  
 0  \	      J  
O YI  	0(00,0"  SP RP0	`SA  
   Q	 P\  	000040# Q P   *	`P `0	   %  
   YH   	0800<0#  S R  0	`SG0L    P @  L0#(H J0#$G0I K0H0 	R@ ) `!$  
K  L A  
  \11   Q  
0	      Q P      
  p $0A  W @
 0  S
4 p4   `   P  
0	  	0
   p	 \   8 $	RO-`1f# M p  @P 	  
P 	   P  
     7 0     0 p     S  R #2  [   X g 
  Y X   0  g  P 	  0  S   
  <  00 000X0Q  : / A-@    P  R `   0 S  (0  S  0S(00
    pt T  *  0   S
4K4`K@  0 @  G p    
 P0  S@D  0p@-0 000 @  P"  3"224  S  4 00 R S  jP`  > P  
L  8 P  
  P  [ 	 0 P pU  n xV4O- P$M P pPPE  3A TP@  
 @ 0 S<  c  PP5     
 
P0    `p P  
0 0  W0  S&   W   	~o`  Q   W``G  Q   
  P 00  W 0  S  
` V P  
P $ P  
 P@ ?04SK J` d  X  `D00J S`A  Q
0A F0E( B(H G 	   T  } C0Bp t

(
 P0:
@	 qI  Y:p0 P `  p
 Y $p,I  _ ^0 4 (B(  R` O( V: 0000 Y0   e d04 S   #  P  3"22 4  S  4 /0 P
  *0 P  % ""   008#800 0|   T0  S`  X]
 Y  p (pPS,	 P   U  RRaArrAa  G- p p0 S00 ` s@^   P.p  0 p  Pa  
 P  U	 W0 	P P  10C0   PK   P  0	 0 S   U?0 0  
 	L 0  SA   0 0 00  S	0 0 0   040 040  X  
;8#8
 S   e  P  
 P   p0   P  X P 0P0Pd P	 e  P
 P W. S   
A C R       00   QG-T  0 p SPO   0` S,  
 S8  
 SG  $@  P @  ;P;4  "   0$ 0+ @P    U 0&bj0`&n `00 $% @Ph40P`h &l`$
 @PQ40_P b  @  A- `Q p @    X  
0 S0  S      P    pK  
0  S X  0P SP   p P  P  
0 S    S1P0P S   XP    P  
 p P U  U
   Y 0V0  P 0  S  
  O  P   0 B S0C00 0P0 P  C-P @ `Pd  `  Va  0 S  *  P 0 Up0&   P 0 S 0;@ ;   SJ  
   RG  
1,`  S	   0   PB  000 0   `P7   P/  0  W   
 EiG pG  dG   Y  : 0hppPE  Q
 U0   000;;  S
   P	  
T  Q   1 P   ``  p   `000pE   
  PP    - P u
 U00 SPPO- 0M 0 @`R PP"  P  U  0 P  
0, s`!  V  
0" r   ppGt    S    Q     P   0@00  Q  PP q  P0  S1  S
   0
     P000 )  P
V '  : P4 0A   P   0A Q  *,
  0`  0  t 0`F0 0 0pp S0%p5 0 S  
0 Q  0
      P     |` Vp1   40<<0  O-p 0 P  S`$M  0p   , ! 0   0  $e @PC  
 0  S@  
 
 a   P  0V0 1#0  P
 @4 }4 ?0 @ V     S    R   0 0F[# 0  0 0 0  * 0    0   F0 	  0	G-p @ pW 0#0%0  S `  
  X2  0  Q0  0S*   00 00C4"    P P    p   0  S    Y
  PP  
 U
 u
 %  P P4 4``  p ` 0A- q @ P`  p   P
   0 p0 S(    P
 P 7  PO- M @ . PPx   0	00  PPo   ` p  Wn  
  W?00  
   
 S  
 000J   SN  /0@ =  @ A  
0p000	 S<   048  0   00?PPE0$  S   *  
 U %   ; 0P  40 P  0P 
 Q 0S0"3  
 0P0  S	  pG  - PP
   X
` X
  X   	 P  
/PP  $O  P P))  O-  ` M0\ S/ S 
 0 S  0 /0 U   0P   S@  0 @\ T/ T@ @3  
0  U2   0 U   
I 0  R
. B/o  S"   R@ p. R  
PU   $ !p 0   P  
  P  
.0@?o Q2 0  S  
@000 s  R. RPE Q X+  : R  @$0 S0$0 Rqp0 S  
0 S   @    @ @ /@  P/0I  
 P   Q  
@q p P  0 0 0   
p    	  P@  
X0  S  
  S_ @   PB X!@#*@ $0$ A0@8#8 Spa0@8#8 S  @ p  D0 '  
04;;    P 0 ) p  
P0! (! ! 8#8P"/ S S/\ S0
 S% ,    R
 P   } t 0@-M P    @P  0@    @P  ;03@    U  
  0@-!M @    P  0  0   P"  2  S  0    0 0  0    0 0 0f P  0  S  
 X  P   
 ! Q
O-P `@ p  Q    T_  
O    @PK        R\  
. R R0?F  
00C?o2 S@   QC  @ :  
0P 000 S5  0L  \.   0@00C@  Q   
 S  0 Z Q     
 S   00B 	 W @P
 00   Z
 \
  Z   P   @  000@  )p@-MP @  P  0    z`   G & P  pA-P  @ `  P   p   P   0 0  S S0 0
  p W   P
 P pp@-XM    @P2  P   O`0 0 S#  0 S$  
  V  
0F   R9  
 0$ $0,~ @P  $ %  P.    V0D   0   
0 0[ @   P  :@ Xp P 0    S*  P
 0  S  
 P P  
 V  ` P  V
$ ~ @P  D  D0 D  	 VX00 $L C`X00L C`u*O-/P$MPT   @ `00C   R  $p  >0   
@0/0  2 Z
0I  
0  P 00# P    R  09 Q7 S@ B#!  ~ 00C#  0 R  
  \   R      P0  S   PH  d Z	 $00 A P p   P 0     A ,    P     P	 	   \ P  
    R   @ 0  0 PPU   Y0/00  PP!#QP PPU  P  	  (   /0  0000!   )ONp@-M       P]  0  d d0  PT  0  P  d s  PK     c4 d0 _ 0   P	  8 l0 R  D x0 R  
 4   P2  0   P.  `P@  D0P  00`0   
l 80 R  
     P   
 _  P   U0. S  8 T0`d   P   pA-PM p@(   P  
 @ ( d (0 @      P
  TJo  
0    ,(    90  	  P
,  / Q   P
 @ h(  c @P
 O  P ,P  Pu  QA-@ P*  0 S'    R `  
     P  p @P     T  
 t  
     P 0B S  *00000 R  A-M    @PS  0X  P $ $0 @P@H  
 TF  0 0 PP@  
 U@  
 u @@  T `7    @P2  .@p   4  4@?J   4   4T R , U@T0$ p @P  D   D D0 p @    g@-M   u @P  0x  D D0L @P  D & @P  s03@  Jp   
@ `d    P  D  0U0  P 0  S @  
  D 0 @  T  @  ` @P m @P
 T7@- @o PP(  P  U%  0 P!  
0  S  *  S    P0  P00@00     
 0   , PP000  
  P  0   p  
 Q 
00 S   A- @P	M	`  
 P `P !  0@   0  P  ;03       X  
  P  
 P	   0"  R   #  PP  
 0 ` 0  0  S 0 G      +  
0,   p    ,0  ,    ,0 W    0  
 0v  P o0pG  Pp @P0 00$0,0 (0   P      P0 Q   
 
 p,    ^0 p0 0,p , P0 00  $  
P  U!  
  P U 00  P 0  S    P;;  S  
   P
$  0   P m 	  , P     q   PE ] [  R/C-   
 \  00 R2  
SS0S "1  
0S 00 R  
- \  
00\ 00  0 0/  
-0@P`p \  
\   /                Q
/ @@   R
 `03/@T0!L0L@LP3/4/5/0   00 00 00@R0/t0
X ' '   0  0    x@BO O B f     PL@F_O|`OpF  X
 /'  0 ; pG 5 A  L ' ' '(	  (  (  (  (  N(N\    !  O<@     0!         !  " P*/   P/ P/O-lM        \ 00 0#!0 $0  0  P      P0C" PP  
( P@	p  /  P  /  P   /  PPP  ZM       0 X  :P0 0@	   pb
 /  P`   Y5  :`P@   0   0@` Y :
	 /  P    X
 XQ  
	0        N  P 0  S@`K       0  ` YP* 	
  Rc  
0	 CF R 0  C A0D Q!  R    Q`  \`!`1 P1@B 	@1B0 0P! V  p WB h0  Q@x=  0<0 s= 00O 	0   0C  S 0 S	   
 0   0B  Q0  0  S  0     0    0 `  0  B  R0 0 0  S)  * 0 P`  @c Y  *   0     0	 X  p /  P    Z
 Z0   
   @  Q 	 X 0P0 S0  S@  
0h 0C01@<  0   0C  S  RP* 0$` @c Y  *   0     0	 X  p /  P    Z
 Z0   
   @  Q 	 X 0P0 S0  SlO/ 0   0C  S  0 U  < 0 S  
  0   0@  Q0Z Z  
	    0@  Q0 Z F	     P @PPB  U@  Q
  B   A  ^ /  P /  PPP~ 0Ap	 @/`  P0 0y  /  P`  `E /  P   /  PI  0`H@ /  P h  /  P: /  P@@2  `8< 0    U'  .<   Z B
!   A  Q    0  B  R00   	  0   B  R 0 /  PPP	 /  P	pp"! @ P B  RP@  Q_
  B/  P	 /  Pp	p}/  P /  P@@/  P{ /  PPPr
0 @	`@-; 4,1!<@  0 0@/-QX-L    2   !  P-PTX@- 0  
 C 00  @ C  D  0 0@
00 c4@P/   
    R/ 
     /    R/p@- @P9;    0\   p@/0@- PP  
@    P  
  \  P    
    S
0 ^  ^ 0@ 0D @0@/  S  
P P  U  @  0@- @;   @/@- @: ' @/O-0 S PM   Q>   ` 0tw0@ C T;  
000   @   O/` Q ?   ~V/ :4  
 S &39 8v@A Q      R@ Q  
00 C R 
  0 @ 0 O/@ S @\	 T   
0L S   S  \  * ,10C0 A@@1Rq  *@ Y  # 30I S   R  
% 0  s ~:  p l%	 
 T  [ \5   [  
   pJ      a+  `:   p4  

 @  T  
 Y00    I     R   
@4   R 5x4   R 50H S    X!3  X/  
   @f@ ?L          

 @0    B Q0A    QP   ^@   00 0@ : 0`  `@0  O/
\4L  : S  \ ![0A Q  
   R  0 Q 0@@8 S7  T S  &6o n`0 `` @@  0 0 ` ``0 @,39 !8\ [bbA+  9  p 1+ B 
H(0
 S @Z   000    \     R
    @
 N
 
  P@ @% N. |T S  ,6o !ngUS  7x wp
@US  7x !wW  S  &9} |_ & @T0 P  S,9} /~!|> ~J0T   p@-  
  R 0B  
      
\  :   Rp@/  p@/ \    \
 0   S
   Rp@/  D@D@<`<PH 00#0   L \    R@-  0  0   @ T   B R   R @B
  
A@  0	  
  ^0D
 N@/@B @/ P
  0  S    R /s Qb/ R    R  B/ 0 L Q/0 4  B0p@- PP,0@@@@@@0@ S@ 0   
@0C`#`0LPP S0   R B 0 L  
 Qp@/  B @  
  R B/ 0   B r/  R(  p@- R.  B` P,BP \    
0B000 S   R  
  Rp@/  R/  R/0 0@- 8 @/@- 8 @/p@-P @7    p@/O- @Q`  
P  U  0PP?  U03  S0 ` 0pD:   We  d4 
 P   
000 w    0 S   
  I  0 S  0 S    `P  
000 F S  
 G$ R   R0        $   O/`  G$ R    R     R @  $ R     @  @ p@ 0G S 
    000` b O/ 0 000 07$  IM ` O/   ^t   I  
 \y`  G$ R o   R     R @  $ R     @  @  J  00P Pf p 00p 0 R0   0GJI`    GL p;@l0000$ R0000 0 0$ N  00P P`!  0 -p@-@M P6   T `0   0  ? 1PP0   @@0  p0 0p@/@ 0@@  p0   00  p@/ -1-LM 00   t6  0   0  / -/-M!     0 @ 80L0(   T6  0 /  / 0  -  
  R%  p@- TAX%0 a0 0   , 0 00 
 0  S  -  0  S*  
 Q(   R/  
    R /  R  
    R 0/    LL00    00 
 0  S/0  S/ p@/  !    0  
,430 0@-@DHB R 0
"$ PP!#4
0 c@/   
 0 R R!
 B/0 -@DH P0 U  
-  T#UB  0  P%U   #46  1   0"\1  "\0.  XB%X#U  0  P%U     0"X  8"X#8  P#UB  0  P%U   #<     
0"T4    0 /   P P!%T#4
  B0 /   `0  2< C #0 
    /  R  
@- x@   0S    P  
 \  
0    R    0 R    S
@/  @/ @/ /*  R3  
@-  0   R  `p   R#  
 !   R    P @ ^@0
  0 S   R  S  
 @0 ^   p0 0  ^0  S
  @/ / N@/0 R0   S   \ p@-  A  0  Q@B  
   Rp@/  T 
 Sp@/0 0`0P@  B R@  Q 0  
   S  
   Q 0  B/  C/ /p@- @Q 0 P  	   P0 X  P p@/R P p@/   \  
@-  @  T
  
 0  0  S  
 S  \  N@/ /O-,MP0 @\0 0  S     '0   T 00  R 0  S; 
 P5`	"   0 P /  P. 0% S  0 PT`p0
0Td   X H    @ P  X@   j R  
  L Rp  
h R  q R  
p R  t R  
z R  
   p   l R pp  A B@7 R?  lxlllllllxlllxlxllLlllllllll`LlLllllxLxllxlLllL       9   +  6   u  
   u`  
X a   F R,  $      P!`@   u`      ! P` @u   u`      P!`@i   u `      P! `@]   u`      P!`@Q   u`      ! P` @B        ! $  X    r    X 00PI S0+  X    r    X 00 IX 	 S	0	       !@  
 0B    R
  
0 B	 R  )) 0A	 Q   R
 0   S X Z!  A 0 Q  \||00  1   00  1     01   T0d 0
0@P0 @\0 0,O/$.$/-O-M  |0    0 \0t @   0   
0  S  @   P0    0 0 
@00 P  00PPPh!P,P8P0P`PhPHPPPdPDPTPXP Pn@pU    0 @	 / pP  
     Wp  0% S  
P 0@U  
 00000 S0  	  ,   P D00D0  W 
 0  $p`P@0 400   AZ P 	 LLLLLxLLL(LxLLLLLLL$L $$$LLLLLL`LLLLLLPLLLLLLLL$L $$$LLXLlLLtLl p	  (0 0 d0P 	  0H0H P0  S  R(0
   Q  Q  M  
   0@	 Q &   p
 0 @" 0 @	 R$ P  
 `  Q 0A S? A  00Z?0z?00 0
 	 |0E @0    Q/ A    Q@|@/ @| A| @  T  @d    +  * QB  0L	 Q %   p
00L#00L	 S$ \ 0  Q 0A S?   00Z?0z?00 0
 	 |0    0 S?1    Sp|p/ 1| | ?0 0J  00A	 S  
1! 0@ 0 :  0
0A,00A	 \$ Q  S r PC` 0' $ h Q 0@ l Q 0     C Q<04@0@(
P$  
 6  
     V0  
 S?A !  00Z?0z?00  0	 |0  P   S?A !P   S|   |  1 !|  	 0A`  p @ 
-    V   
 T?A 1T  00Z?0z?00 0 |0	 L 0   [?A 1T   R|0 |  0!|  0 10@1   $ ! 4@<0@(
P $  4@<0@(
P $  07  
  V  
 T  ?A    00Z?0z?00  0	 |0     [  ?A    |     S|     |   1  `p   )  
  V  
 T?A a  00Z?0z?00 0 	 |0 `   [?A a	  | ` S| / 1  a|   @ .  
  V  
 T  ?A ahFhj  00Z?0z?00 0 	 |0`[   [?A a   | S | `c   `1|  ahFhY  .  
  V  
 T  ?A alFl9  00Z?0z?00 0 	 |0n`*   [?A a   | S | `2   `1|  alFl(    V  
 T?A a  00Z?0z?00 0 	 |0B `    [?A a    S|  `1|  a|  `  V 0 -0 `v 0 pv   V<04@(@ 
P0$  
 T  ?A 180000/  00Z?0z?00 0 |0	  0800 [  ?A 180000  |     S| 8 0
  | /0  008  !0008PA   01T3   P     1;3   P  T  8 0.3   P-00  8 00 =3   P  
00  S-0 00  0 ( G R 0 0 0@$00`pP (0 0A SL0#  000(0a Sx0X000c SA?$  0  	  0P 0 
 0$0  ++++  0@  ?gfff0x  +0 s0$   
L   SG R00<l000 @S 0A-0t0L0A S8`f    !   5g1 T   `p2   P0( 00a RPP0 @pPPC  0 Q1 p `2 x 1   0 @0 p0x 0 u `p0,P  
T  2   PPE
   X12   P	     t12   P  
x0   
0p0@  0B00R  SB
9 Sp00
000B)  , 00  A  P ,0 s0 0@  L0F S0P  
E S0P0P     (  0 	 w L0G S  
     @ 00D,0L0G SP2  )   00,0L0F S   0 p00G psT p  -2   P p  WPeP, 00,0T   2 0   P,000, Q  0 u S(00C(0  `  L0F SH  
(0  A R00@E0  T0-0+0@@e	 T0  ` 
. P0E c QO`FCAd E00@@F  S44: R P0PC0P  A R00PP0@0@, 00E Rh0@     
@0@ `;<pPl0A   0  U0    S@0@0      Sf0@(0  
@0@0@  ,0 U   @0@@	  ,0@   U@0e@  @f0   g0(0{`  
 `  Up  H0   R  
 R  PE   Rp0`P H00B"@t0  Slt0-0l0 0   @<0
P0$/  
  V  
 T?A !  00Z?0z?00  0	 |0     [?A !  |  S||   1  !  D  <0 0 [  @ +  
  V  
 T?A !  00Z?0z?00  0	 |0     [?A !  |  S | |   1 !  D00X  +  
  V  
 T?A !  00Z?0z?00  0	 |0     [?A !  |  S | |   1 !  D0 0*    V  
 T?A !  00Z?0z?00  0	 |0l     [?A !  |  S | |   1 !  D0 0q4@<0@(
P $  4@<0@(
P $   -  
  V  
 T?A|D   00Z?0z?00 0 	 |0+ 0   [0/A|D   |  R|  | ! ap      
  Vl   [0  | R`  ||    @ .  
  V  
 T  ?A ah&hg  00Z?0z?00 0 	 |0`X   [/A a0  | R | `b   `!|  ah&hX  +  
  V  
 T?A aT  00Z?0z?00 0 	 |0 `0   [/A aT0   R|  `!| |  ` a``*    V  
 T?A a  00Z?0z?00 0 	 |0 `0   [0  /A a  | R |  `  |  `! a p     V4@ @<0
P $  
 T?A a  00Z?0z?00 0 	 |0Y `0   [/A a0  | R | |  `! a `x-(- p` (    V<04@(@ 
P0$  
 S?A 1  00Z?0z?00 0 |0	  0 0   S?A 1   | S 	  |   1    |  0 0 00 0  S  0 S@1 0@#`pP$008> (0S S  
P]  
 0`   00 s  
 P@0   R  
0	 A  p  
0   P  P  
 @ 0	  `   p @  
 00   @  T*  
c T
  	 D 0P 0	  0@00k  0$0A? 0   0$0P   0	  P     T  
	0@00I  0  0`pP@$@ 0 s	  
    0P  $0@C  }    @`pP$Pz 4@<0@(
P $  4@<0@(
P $   2  
  V  
 T?A|D   00Z?0z?00 0 	 |0R 0   [0/A|D   | R
      ! ap| s   | n     
  Vn   [0  | R`  ||^    @ .  
  V  
 T  ?A ah&hi  00Z?0z?00 0 	 |0`Z   [/A a0  | R | `6   `!|  ah&h,  -  
  V  
 T?A aT  00Z?0z?00 0 	 |0 `0   [/A aT0   R|  `!| |  ` a`` p    V  
 T?A a  00Z?0z?00 0 	 |0 `0 [0  /A a| R |  `|  `! a<04@(@ 
P?$  <04@(@ 
P?$  `0 -  
  V  
 T?A|D   00Z?0z?00 0 	 |0m 0   [0/A|D   |  R|  | ! ap      
  Vl   [0  | R`  ||    @ .  
  V  
 T  ?A ah&hg  00Z?0z?00 0 	 |0+`X   [/A a0  | R | `b   `!|  ah&hX  +  
  V  
 T?A aT  00Z?0z?00 0 	 |0 `0   [/A aT0   R|  `!| |  ` a``*    V  
 T?A a  00Z?0z?00 0 	 |0 `0   [0  /A a  | R |  `  |  `! a p      R0  (    0 s    0 s $  
 00 0  P0  Sk  
 R  
Z? R 0W  
 !.0p`00  0`0 S 00  S  a  
000@0A\    W	 V0`gaR  [ $ ZO
  0 ) P0   X E@D  
  WH0	 V  0 0 R 00	 R 00  S  
P0@D  dH00  S H00H0
  0 )   W	 V `p , @$   `000b&2>'`p0      R  00  
00 g1Y?0  0Z? 0 0ZO@D 0$0k  Q<04@($ 
  @ $  ` p P A? 0  0  $0`p@00 S0L00  SL00L00l0L00L00p04  40L 0C S
 @,  0 T 0  $  S  0  	  "   P  @D
@   S    0  	  i"   Ph 0  S  
0 00000000 S0  	  R"   PQ l0  S  
0 00000000 S0  	  ;"   P: p0 S4  40L 0C S
 @,  0 T 0    S  0  	  "   P  @D
@ 0  S    0  	  "   P 00C S
 @+  0 T 0    S  0  	  !   P  @D
@ `  S   0  	  !   P 00   0 0@00 S@0l d (0e S T  8 0g+   PK  
5 00000000 S0  	  !   P 0,  S   G 
\0 0@0@ 000000 S0  	  !   P ,0@C  T`T, 0 T  P0   S` 0  	  m!   Pl @D0  Sg  x4 00000000 S0  	  S!   PR ,   0 
\   @ 0000 S0 0  	  9!   P8 0@  T'   `S @d  T P 0   R`   	  !   P 0 @D@ R@@   	  !   P 0    , ,       R   ,0 U@@  T   0 00000 S0  	      P   T@@E  T&  0d T   0    S    0  	      P @D@ S@@0  	      P  0P|  

 	p`HP  W  Yg  d0 0P0  WpGPEI Q0   
      P  , 0@ @D Q@  T   Q `@   
  y    Pu     T@@A  T&  00 T  0  0 Q 0   
  ]    PY  @D@ Q @ @  
  L    PH   `+++
 0, 0 VHPPP!0,  S     
\0 0@0@ 000000 S0  	      P ,  0@  @@B  T` `  V  00000 S` 0  	      P @,0  V@C@D  T`0Q  0 T  P0    S` 0  	     P  @D@ S@@0    ,  R     000 0P   _  
 S  	     P  P\0 0@0@ 000000 S0P  	     P  P,0T 8 0@C U)   P   0  0, 0C0 R 0 P,  	     P  P$    Tpb   0 T  `0    Sp 0  	  v   Pu  P@D@ S@P@0   S0 0h0h 000000 S0  	  T   PS   
  D04 L R00D00  S0  
)  40L @C  T`T0 T  P0    S` 0  	  ,   P+  @D@ S@@0	     P
  	     P   00$0  S	 $ |0  S	  
	     
  	$0  S  
     0@ D0 0D0D O/0@-  P   @P P @A ^   0@/O- @
 MHP#K 834CU\C<ClCXCDCTC?P< OK 0 @P#H3K/  P  t?   03< P3 0P303  S
 
 P  L/    
DC0  S   0(        	H1   P
DC 0 B  0@% Sn   P3
@P
 <c $pNV W]
 !!!!h!!!!!!!!!!!!!D!!!!!!X!!!!!!!!!!!!!!!!|<!!x!!!@<cP`  @<cPs  <cPPSD3 @E`C T0 
0  S
   0   Q
  0 B  0	H   P
	 
 P0x 	 l ^P	   	 h ^PP 	 P 
	 0	   VM` 00P 	 !0A  U	   Q@A0H#	<c 0	 @<cPP  @<cPP;\30  @<cP|;  @<cP\"  <c@`P  @<cPP`  @K<cU `P@P  @<cPP  @<cP `@P  @<cP"^:\30   <cP 43"  
  X  
 T$0KA   ?K/KK
   Z$0KA  8# S8 48  $ K1  D3 0#   #  
  X  
 T$0KA   ?K/KKe
   Z$0KA  8# S8 48  $ K1  D30u &   $  
  X  
 T$0KA   ?K/KK=
   Z$0KA  8# S 88  $ K14  D#? L  X  
 T$0KA   ?K/KK
   Z$0KA  8# S8 48  $ K1  D3 0X8@\3<c 0P  @<cP08\3
0`X30  S  @ Ds    	Hp   P
   B  R0  0p   0      	H[   P
 Ds`F V   dL@3 S03@30`  
  Vk   43C  
  X  
 T$0KAR   ?K/KK P
   Z$0KAR  8# S88 P$ K 14R P  Uj 
 P @PZ 
<3p Z @  :6 WQ <3p  Q  PJ 
<3  p<3< 0 
Qp  (    X  
 T$0KAB   ?K/KKk @   Z$0KAB   8# S88 @$ K14B @ pP   pP@  L 
 P 
 $ K 
 hB  B l# R0  # R  
  K`3`3/K  Hc/K`3  pl 
  `3    
l# r  
D#0D3l3 S  3 S  
@30C@3  V  DJX0 0  U 0  S  
  pP 
 p
@@      0  S  	H   P  

   RL DAX0 0  U 0  S	  
    P    @3  SL  V   V  
@@S  U  @PE0	 0HX   P
  T   0C00@S 0@D30f P43@  
  X  
 T$0KAR   ?K/KK P
`   Z$0KAR`  8# S88 P$ K 14R P  U 
@T @P 
<3p X @  :2 Wg <3p  U  P` 
<3  p<3< 0  Q!    X  
 T$0KAB   ?K/KKr @
`   Z$0KAB`  8# S88 @$ K 14B @P  @3H  @P 
@3  U S     P   @3  S 0`@3p 
  Ws   43D  
  X  
 T$0KAR   ?K/KK2 P`   Z$0K A`#R  8# S88 P$ K 14R P  U 
  @P 
<3` X @  :0 V <3`    P 
<3  `<3< 0  ` QLC`/    X  
 T$0KAB    ?K/KK @    `rn  *+ Z$0KAB   8# S88 @$ K14B @ `PLs   `PLc3NK dl-  P 
0`3 0$K h!H  Z B  0  $3 S  
  K'?K 0`3Hc/K  p l 
  P    
 p`O  
  x  
  KH10 H?KK/ P [$0Kh2X  S  l@sdp``CcK  T  
@D	 H @`@s6  D3`# Z0D3  $3 S  
@30C@3  W  L3@DHV0 0  U 0  S  
L$ 0PL3 
 0@`      0  S	  	H   P  
  Xld  
	 @3  Sxld  WcL3DA10  U V p   W  
 0  $K h"R  R  
0  0@3` B V 	  
  R	H   P
    V 
D30 P43A  
  X  
 T$0KAr   ?K/KK p
`   Z$0KAr`  8# S88 p$ K 14r p  W 
   @P 
<3P X @  :4 U <3P    P 
<3  P<3< 0  P q"    X  
 T$0KAB   ?K/KK @
`   Z$0KAB`  8# S88 @$ K 14B @Pp   0$K0h2S  S$  
00C00 0 00D Z 030#  W 0  S  
P \ P} 
 
@@30S@3	  
0  S	H   P
 TF 
Tr 
 0 W U 0    @  P  T30T3D30D3 @3  S 0p@3` 
  Vn   43F  
  X  
 T$0KAR   ?K/KKT P
   Z$0KAR  8# S88 P$ K 14R P  U 
  @P   0T3 <3p Z @  :6 W<3p    P
<3  p<3< 0 
Qp  (    X  
 T$0KAB   ?K/KK @   Z$0KAB   8# S88 @$ K14B @ pP   pP3NK 0dLSlS  7   @3! "  S     Rp  
F 
 P 
  0`3$0K
0hC0 U0C   3 S  
  KA?K 0`3Hc/K.  p P 
  P    
 p`;  
    P  
	 lSd`LS`Cc?K  T  
@DH@# @#c?K@	`3  D3`# U0D3  # R  
@30C@3  V  @L#DJX0 0  R 0  S  
 O pPH
L3 p
@   R	H   P

0  SlSdLS6   lSdLS  VDA10  U X `    *  P  T30T3  V  
 0H      0  0@3p B S   
  R	H   P
D30 P43A  
  X  
 T$0KAr   ?K/KK/ p
`   Z$0KAr`  8# S88 p$ K 14r p  W 
   @P 
<3P X @  :l; U <3P    P 
<3  P<3< 0  P q"    X  
 T$0KAB   ?K/KK @
`   Z$0KAB`  8# S88 @$ K 14B @Pp  W  0L#\    "    B      W  00D Z  3 "  R  
P  P 
 
@@30S@3  
0  S	H3   P
 0 0L3@D U 00  S  
  h  P  D30D3T30T3@30CYS@3%YC"Y?# p3@3% 0	L`3@sXC6]coK    9 R  * RW  +B \S  $$$Hf R  ` R"  F R  @ R<    X R   x R!  
6  $  
  T\@]  `3  X0`3]Hp  t>@@  >@@ T   
 T  .]	     
P  \  @\\   B  R      H@   P@  pWXCL	@  
c?K V   HVpFd `c?K V 
   X3H\cK  /   p}   "  
  X43  
 T$0KA   ?K/KK
   Z$0KA  8# S8 48  $ K1   pz   "  
  X43  
 T$0KA   ?K/KK
   Z$0KA  8# S8 48  $ K1  pU   1   /  
:\ QHX3cK  '       X pP43  
 T$0KA   ?K/KK
   Z$0KA  8# S8 48  $ K1   pP!    X43  
 T$0KA   ?K/KKz
   Z$0KA  8# S8 48  $ K1   pT30T3c?K`F`3D30D3H	  0x3@30CYS@3%Y?C" 03t3%Y?# `@3%t35c?K`dCh@c|cpcL3] 0 0N S*  @ S  + C Q    A C R  <L  Ro  n S  ` Sa CT SB  
Y S  t S>  
y S@  
R  
  
t3  SP  
0Ct3@30@3   t  ]     
P    T  Z  ,R@]     T  
 V V  
   T  @~    V  Z  ,R  `] t   F   ``n   V  `j   V  `f   V  `b  ,R  
y  
  Z  
p#] J |#]m  
x#c` p@ D3  Q0!  D# p   Q#
    x@D3c 
] p7  00C  S0 00 0  	H   P   0   WL@dC`h`c3c4  
  L@dC`h`ccx30Dc`@x3 T  
	 tH 3@0CDc  @ 0 @30C@3D30D300C  S0 00 0  	H   P  @3  S  D3  L@h``CdC@3  S\   ``L`ChdC@c  L@h``CdC`3 C R	  	LcOK Y 
 yHh  F R'   V	cOKL  L3p	 `@pGp W  
tH`#Q `#@	`L3`F`0CL3D30CD3   Y  
 yH= $  
	  
	LcOK Y  
 yH/ L3S E R  0CL3D30CD3
  	 H  L3SD30CD3L30CL3	 H  L3Q    p3@@# S C    |3  S  

0H |3 @3L3L20K Q30K"L3%L  HcKm   `p43  
  X  
 S
    
 SP     #  
  X  
 T  $0KA   ?K/KK
P   ZP  $0KA  8# S8 48  $ K1   .    X  
 T$0KAB   ?K/KK` @
P   Z$0KABP  8# S88 @$ K 14B @ 0    P  
    4   T30T3`	T3  S"  
0@ &  
  0<c#  <3  S"  
T3 s   @`<s0 S P  1  1@ ` 0T3<3    P  
	  <3  S 0T3  <c<3  ST KO/`r+\ R@-0 @xM   0   ?  0  0 p0 0x@/0 p0   0 0  x@/@-P`p @M 0  p@/p@- PSH0ME_  Q `00 @/ p  0   0p@/-M 0 /O-0@M S  c  @DPqp 
  10 Z1 `0q)  :   <0
!*!8:* 00B 
0+(bC(08 W0B(**00  S  00C X  :   X@D  *   R
@	 	   P!    0`   C,8 .8cB8 ( W C8*1  S1
  0C X  :   X@D  *   R
@ O/  O-`p@dM  Q @`pP  
0D 2   0@0 `W0 0 083a`0  
0     0( ,  pP  
0   R  0A 
0 H dO/( X \0  0 	0 	 &Z0   X\PPC>0  SA   2 @0c 0c  D PEA  2 >  {?   ` p v?    0 
  `p     0 e   P  
	  0 X   P0I0`PH0E V0 11 ( O   P\  
0F0 0<00E  S 0$0 0  SV  0$  B$ 0  c 000	 S8 T   SP P0C000C S L5@554 df0   0  
0  Sp
0   0dO/46_E DpXPE04  S0YaCoc?`(?yPD?	,  ?'  ++  ?,  @X,  ?    $@  @,0E  S< z < $ 0 0  0800	 S  00040 0P0 0 0  0DP0 u   U @   
  Q  01 AR    U  
   
  W  `pP
  0  <0  S  
  
 \1   PA   
 0;   h12     R A5 
0T0 0@0
  @10 1   H L0   0
  40  S0`	pP H0 w 
    0 0    	0 v   P p`H@#  
 @0 W<  
   t2   2  	 P @r     0  0000
 0 =   P  	0   
 03   Pp
PH@T000   X_ 
 0u9 S
0 0 0  H@(0  0 \0 R     S    R` 4   R  
  R  0 C80 S808 0B 0`C0 0 `  S   $ p   0$0pC k  P   W  R   W00$pGA0B$080  S  
40  S`  
  VT 80 S\   O    R `9 0 Sb  0  S09 00{  
  c Ry $ 0c p0$ 0$0  S    0 0 0  S      `0 S<0   S  0  S   Xa  
 0  S 
0p Z 0  U0  
 S 0 P  0  R  00 
 0  dO/8  0w 0 0<0'0e$0 00'8 dO/  
 0   L6  A  t6
   	0 `pe  PP   1L   P,
 `P0$  $  p008`$p4PK40  S000  
  W    p  P  Y  0    0C0$001     0 	   0 00 0 
  WK pF 
  R $ 
 R 0 
 0
    U  0
   
  P 0
    	  0 0m   p  0  S0 00
  0  04 
0 pc8 1 ( i Gr ' 
  0   

  Z 0 p  S  `  V    $9/ 1  
  VW  `9
 = 0    P, 
 `P   0 S `   01   0`0    P 0
  0K P0  S 40  S00 C   X P0 0p0   
 0
  3  p
  W0 0  S p00 0  0    P [u 0K   Qi 
 s9 R
       Uo 
  W W 
  ;(  0 o  Pe0400 0P00 S   0  0 S PP PD? 00   R D50400  S   P0 0 040 040  @0  S0H L    
 @ 00(0@@
 0 	 p `  @E 0   r 0@@0 U @@  <H f   0 	   PH0   Y   0 	   P
 0u0 S
T000 "  y  `0 /   P1 0  0p     Q46  S0	  Y
$00$0000   0  P    0 00< A  P 00 0 `P    Q46  S0 0  S
PP  U:  x>
     
 0   >   B T @PAD   RX0C> 060c  $ 0p$08`@  D  \0 R     S    R @   
<? 1  0 0p 
 0 [ <  { 
 0 0     0P S000t  
` p@  
 0 @ !  ` 
 0 0    00 X0Y  
  2    0 @P   P
00@0`N10     0   0K    s0 R
:000 10  R0	     0 =   Pe  9 YG  
01p PkPH@T000P D  p  !     hP@  0( 0
  `p 0  P00X
 0 y   P  
 RP9 S0	
  
0p 0P/p0P	9 p  PP0 09 S0
  W 0
  !   X PP0 0 <0c    P4 .  $@A-@p `Q0PdP0>0JC
T    Y 00 P  
 C  A/  dM  p  
l  0PEP 0CP 01 A/  ;  0@ S  0 @0  A- @Q2  
 P  D`0 V0c  
 0 $  p @@ ` T H  
p  Rp@p  
00 \%  *@! 10C0  A/    `0 S \  
0 0\0 :
\49  *,39 !80 0C S?  
 Q    S00     R00  0 0 0    @0    R00 0  7 S  T S  ,6o !n\ ![@A  D `US  7x !w(  S,9} /~!|T  @-  @/  /0(/p@- @MP  UA_@   R04 `  P/ p  0   0p@/$,@-  QM  R @ P &  
  S  
   \      P      
 P  `@ V    \    S    0B? S   P    3 =? 0  0@/ 0 0   @/`@ V!    \ U  
 s0 \`T  
 V Pe  
pF? Wb   \`W  
 0B? SZ   1c ?m`? `   ``@ VK    \ 8  
 s0 \`7  
 P?  
 V pp P p  W:  pF? W7   \`8  
  s0 \7  
0L? S+   0B? S&   @ 9f7?j0?0? 0 0  @ S   ` S   ` S   V0   0} S 
pL? Wp S p  L0  Sp@- P@	  
  P  
  ! 000p@/! ]   P 0L   d  !Q   P
P   QL0   /A- `p  P@ 0s#,#x|, 08  T0,x  W  
0 S  1@p@ A/    ! 8L0  QP  G-p0L	 W? `@P 0c+    S 0	 U 	P0
@  		@0
  00C X @E@ W	  PGP0
  00C U  G/ 98 ( 0(  R 8   4 2 1   S/   / 0  	  
    0#1 0 0  /   P  #8 #4  #2  #1    0   
 0/  /  /@-@# @ @/O-0P U@@``P0p SM Z 0  3
01   *  [1  Y0 0aG  *0F0C@0 V003pp$  .  	 [3   P

 0 @    "!,!0#( 08 V0"80.
 0
P   @ , , 0 800 #8 # V"8#(	 [0p  W    pW  
0;  S
0 pO/  0A-@ p`%  DA  
HP  U'  
   @  
    P  
 P 
  j  V L0 a@ ` A/  Z   D 0C! 0 ` l 0   PH  0H-q  G-`0bP U@ p  0 U O  X	  0    S0A0  
   i )   ^2*0N0C ^0003  R` L0 ` AG/ L ^-0   P  !1   ^  *32 \
 #  :/  /O-@` `F  VPMpQ  1!   SV  32 \
I  :00 0P@``G @0$HC"HdA8 [C8   [3   3p Z   @ 0Ch(h ZF8 JpB    Q  02  SPE
PO/ ` 0pP@`   0 0O/  X005C  S    / 0cSC:  '  R/0C S!023  /  A-P@Q  0`
 P 00E   T0@	  *  S   uv ` A/  S 
h   sX  T0`8s  # 52#10c A/ c0! Eu Tv0531  ?A-`M P$@8&z X `  
   0P      c 2#   R  W   
 C.G B 50c   0A/ 0   W0  0C>C!0C  0`  A/  C-M` pz @P u  B0C2  S	  	P  0  C/6czA0@- S	  *@@ Q@0A0C00   \   00  \@/0" S 1  1
    
!2R  
 / 3  R  S  /p@- P^ U    P  0L  S  U @  
@ . `0V- S F  
] S  
  S  
P p@/  U ] ^  Q  0  ^ U0 ` P  /  p@-`  1 S @P       
` ^    L0P 5  @1C:?C0C0U 0V p@/    PC R0@-   \   ^  A   0  QB  
    R0@/  ^ 
 S0@/00P0@  B Rp@-`Px  V  0  
8%kl  \  5  6   0 p@/   O-   MP  p   
0  lp@- T-  TZUUUUUUUUZZZZZUUUUUUUUUUUUUUUUUUZUUUUUUUUUU(`U` 0$00 T 0 0W 
00D	 S   	`	P l  U @	!`00D	 SP   P 
 @E TJ 
 P,  U
P  Z
@@> 0   0,0	 Z0C(0  4>1H0C r   	 +   0	 
b  0 S (0  S 
(0|  S 0( %0c S 0@C(0@0  
 0 K  @w  0 00   ` 0PD0 
 (0, 	 S K  ?0 @0D@ 2 pP 
   ! x t 
 0    Pp  
  P 
t0  S0 @  `@Bx 0C040C@@0` S6 bi A Q B 0180 0<0P V00@  @ S0  SPE@D`F00  Sg   Uy (0  S   T   V  	   P| 
  p 0P0u 
 `0 	`4  P 0,0 
	   1 @P&   P) 
40  S 
 @:8`Z<0, Dk:` V 
  jV 00  R 0  S  
8  *:	   P  
8  ;  P 3Y 0  4  Q8 <0 
8  P T0PP0 k6PC
   0  0
 {  0@P0@`:  0 S  R 
 p 	  6 0`  E R     PP  0  S0   
 O/l0n00X S 
plp @0 T
  TC  
0 0    Pl0l0@+ T 
- T   0l0@00D	 S8 0 T  l00l0 @0 T
10D S 0,0Z 0  S 0 0    Qi T} 
  I Tz 
N T`l 	   P
l0 0( S 
@Y    n T
     Rl0 0$0  S1l 0l00@ 0D	 Q  Ql   l @0@C(0@  T
 @d   
71  u  DB
 T,  0j0 0 0 <   
  0@  S  0  S  
7  ":k0c  S	   S  4 S 76 0C30   0    PX
"0   0 0<0080  6  0  4  Q8 <0m  1H L0HP0 	   P  
	 p ] 0P  
 p,0,0  Up0  p  Pp ~` P   @  pPx`pP5  0"0  0  x u	 r Do lF   pPZ 0@3<08;0  SO  ,046  SP     4   P 4   " 18 <` d0`P0 c8  H L056B00    0 	 0   H$ \ X\&  5& [   z
L40 00| 0l,00$00l0@  T
p; 0$00 S  ,0  SY 
 080|3 @S<05VPV1P T0>MT  3  0"0  0 l l 00D@(0D	 ^   l 10 @0D	 ^00C( B R   3,0  \,0 0c,0t0x C>0&:0 010 l x   P6
l00Cl l0p   Pl00l020    PP l 0l0@0 T    c 0l0 @0 T
10D S `lp 00D00a`  0Pw<@8` 2 ?   0 K 4TV @P	  E?    P
` pP0    P 0    P
 $ p0P  0  t0l P @#
 U  0  Sp
   p P  
 @@ U `   R	 RP P Rp   P5?5?55  ?te  ?    A`-$,-  |  T-X-d-N    |    ?,   P9x-X,   s, 00 K1  {  h  S0,0" TDB  0l     @  
  0 T  S 056C0 0 0   0
  S  6A S10 056 00 0 00 0S  P, Pt U	  T10D00"0  0p   R  
5x  pPE U$affe$a10 0010x00|00 0 a  ` 0<B`0d@4080L2<070XBc0  M (0
CA H  G40"  S,0`0<po  
 Sz  
  Wo  
,0   
40  S     
#  0
 $
   0  SpP
3\0 0X0
 X0   00"0  0"0    0sdl x   P |0460x00 4 @  `46  S,@1#::kS 0  S  0 S  	   P 0,   S 4 0I  
kRG  7RpP"0  pP 0x 080  
4  0 0  S6  
4, 0jS1    #:k0c3 Qu4,  R q0 0L
$,& 0 x  0
 	    0    Pk
  306C#::0 00 \ 0` 0` P Pn 0O-P$M  @"@00- Tk  
0 0+ T0 @P0	  0 Th  
  X  
  0
    Xr  
 ?	   `p    0    W  V0 0 ^ 00  S    0  2!*0 0 @0D	 \@  A D R7@D  a D R  W@D X    W  V 3  #?
 0 s   
   R  
  p    R  
  S'  0   $O/"0   R  0  
0E	 0 000 @0P 00X S@  0P	 $O/   0*dO-pPM 1 - \H  
+ \@`` @P0  0 TA  
  Y
	      	   0N  s  Q    R    @0D	 \  AD \7D  aD \	  WD Y    ^ @#@3?
   r	  
  V  `  Z  
  R   pO/" 0  Z   
 pE @`P   X R  @	P  Y	
 *    O-PM  L"@00- Tp  
+ T0 @P0  0 Tm  
  Z  
 
{     Zo  

 	0     `
 	0   p 
         Q P0 0 T 00  S    0  2!(  0 @00D	 S@  A0D S7@D  a0D S  W@D Z    Q P0 0?
   r   
0  S	  0  S  
  R  0 O/  p "0   R     0
E0 @0P 00X S@ `r P `r   *aO-` pP1 - \M  
+ \@ @P0
  0 TG  
  X  
 H	    XI  
  T       0 	  @@ 0t0 \ 0  S  0 @0D	 \  AD \7D  aD \	  WD X   P ?
 0 s  
  Z  `  Y  
  S   `O/"   Y   
`E @P 00X S@ P *0  SO-p   
 0 @ 0   00  [
` [  * V`!     B       0B  S0   6   
 PIP_ P   U P1  
  `P  
	  -       `P   m0 00@00 0  00  `P	`	PE `P`O/ qp@-   P0  @0 0000  S P  
40 S   0 C  PC00  k    P
  Q 0	  
 Q  *S Q  0C  0 
  80@0000400< BP 000 p@/@-@0  Q
  
@0 Q  <0  S0800  0  0 0 0  00 00@/O-0@)  
 p` "  U  *  0#    F
     P p  
 	 @.  0  `  00C0 0`0 ` O/A-@0@0 Q  
4`p  PP  
     0P4pA/  P  
+B00 4 3A03@ ?#0   0A/  O-$ML`0  X G  S0 HpP PH  
  WQ  
  V@F!  
0 `0PE  0  S      R-  
 \C  *@D t`  
 0   / p)  
 \ 0 0 $O/  P	  0   C`@00 R 0         R0  S0`L       $O/ p `      $O/``A-@P`M(,pN  0  A/  Q(  
 R   0 BP  :B>P-   :BP)  *0
   "? ,   /   /?0<? <"#0   / /0
? "&0    0     @- @P  
   B$ R   R    0 000 @/ 0 R 00 $ R0000    @/A-@T"  bQ1"  
!0 U2. n  p (   U2.0D10C#10  R!1  
0    R0  00 0A0/ U  U0D1 C SB10
A/ O- @4M  $0@) 0     P0 Q x   @0@0 Q
w0  S  
 P 00  S`  
00  S  C 0P0 z  
  UPE 0P0P SPz  
  X `  0E0C S  0 S   T  _ * ` 0b0    V`  0 `0U
P0 U0  0U SE00 S: , (0  P(0, P U 0H0H 	 =0 @  H P   `  0 0 S  0 Sb  PC T    R< 
 R6 
 R 
PP  0 X  04O/  U  
PE10 00P SP0+ S  
- S `  0`0C Q`u A P0C`   10  A P0C  \ 0c0  X0 `a
  Z PP 4O/    P T  0  SPQ  
0 Q@  00 S
0s 3'P  V  
00 SG  
 SH  
 S`  
P X0   $0   4O/P@ U `P
  
` 0H"!!  
 S  `00 0c  V`pE    W    21p7 `00@D0PP P Q P 00l\00c\0\0  S
  ` 0q   P3    r
  U  {  
@  !P 
 0 0`  M D  Q00C00 `  00   Q `
0  Q @  @00 V0X     U1 B  
 V  0 0  S   0X P 0/0    `u H  P`b` T T  
 D  P
00 $ 00    X bP 0\   R
\   R0 00C S"P! 21@4"P!P
 6   ! 	
 O0  @d P]te/    R  
-     R  
0AC ^ 0 S
  /  /  /O- 21MP00PC 0  @0 \@  
p` $    \x   [   P #3 S   QM    R0#  * 0p@0    \  
  Q
0 S`4      \  VU  
  W  S   Q  
 0c1  `cF> @ W  R)  :0  S   0c0  Q  
9  05  S6   R0  0O/  R* 0  @ 0c1  c>  Q: 0B S 0E   Q0003 0 S0) \  
 O/ O/@ @/@-   @  0@0 S   @/	 D P   @/ 4 Q0 !  
 Q  P   R PT  0  $ R  ! PU    /0C Sd0CL0 \  ~L# Sp0CP000 \ 0L0 / 0L0 / 0L0   P  /000S  S
` / \  / \
/ \p 0L \` 0L0Cc0LL 00 /0Cc0L0 00 /    30`12x223J  Qp@-JOl@@ Pd L  P p@u
 DD  P p@m
 (<  P p@e
p@/000   /  |0 P  *p@- @ll` 000P P @   P  *B T p@/  /  p@/   e040  S/0  /H0$0  S//0,0  S//\ 0  S-  
H     R  Q  0    /0 0  S0 0  Q/6  : P"   #  
00Q  Q1121:Q  Q1101:   P @  ! P @  !!P!@ #!!P@ !!  P#2! /   /Q!! #  3Q!! " Q!! " Q  0/  P      Q
@-@ A//  QC  
  aB Q'  
 0 0`B S&   (  
  Q Q11"1:Q Q11 1:   S0C  ! S0C  !!S!1C "!S1C !  S""!  \  `B/  <  `B/  3 /Q!! #  3Q!! " Q!! " Q    \3  `B/  P  Q
@-@ A/  S  R    Q      P  M `-  Q    S  6   /  p  S  -     p  r0/  r0"     p/  r0     r0/  S  R    Q  P   oM `-   /`8 #4<`#/ Q PG- @  3P  1>  : `p=    9   I L<9 l6: U, T  3 1  : @T0P  \!  
`op  0T 0 @ P^  
 U T*@P^4<:59 @5,P<9 P4:  X0 G/@-  Q           @/P !A"P !A" P !A"    /        !   1#0@-@P 4 0   
JZt Pe  @  0!  "#  0!6 U0@/!  
  p 6#6  
  r 0 4i  
@D u  2 S   PE  R#SQ  Z |   Q  :Q  :` l@*rk  *\  0@/  @TQ#*  1040    R"(!0C"R"$!0C" R""!0C" R0C"0C01C  S      b1    b0@T0@/@@T  @  @  d010@/@d  d00@/10@/  46#!@PE  
 4 0  
  0@/ 1   0@/   #0@/E20@8/1Q  0@/ 0  FV 10@/  0 /0@-K2@ P   0 /0@-K2@Q  `B | a43!/$/3/0@-MQj /0@- P   /0@-Q  Z  p K2@!B
   ! 0b01@5p@-!J#Z 4 5u  @`!:VV6  
 P! `S  <@DVL  *P`
T\  ^  p@/a !@TPtp@/ @T]  6 t  p@/ @d @T  @  @ Pd50!1p@/@d Pd40 p@/ Pd04511p@/  4  a @D
  5/a 0PE
0/ 4#Z 5  
``!  p@/` `  
 4  f   5  f   !  p@/>p@/p@-!J#Z 4 5^  @D!VL  
6R#2"<$!R \ d U V@L  *0b `VP0b V`F P! !0b V`F P! !0b V`F P!,!0b V`F P!!  
R&^b1>!,        T\CUV   p@/!@Ptp@/ @T1/#Z 4 5
 4  F 5  5  Vh
 ``H@tP^x      -  
 1 0  /  p 1 QQ P!1 /    
 /   0@-  P  pC@/-   /- 3  #/-   /-   /- 3  #/          / / &  *	  Z>>*S
  51:3  `/  /  /  / 
  *&
  *  Z>>*S  J51:3/  /    /  / 2RS"|"  !R /  .&/* b b<0 55320:  6//p@-   0 P@  P     p@/    p p@/@-  D0 `p @  (0  0 @/  =  A            1:/dbs/certs.db S:/aeskeydb.bin 0: MSDOS5.0 NO NAME    FAT32    NO NAME    FAT      %.12s (AGB-%.4s)
%s -> (dir) (..) (<A> select, <B> cancel) %2.2s %s    [%d more] %-*s 
  SELECT START RIGHT LEFT UP DOWN 
 
<%s> %s %0*llX 0123456789ABCDEF %02X Enter search data below.
(R+X to repeat search) Set RTC date&time: YYYY-MM-DD hh:mm:ss 20%02lX-%02lX-%02lX %02lX:%02lX:%02lX
  %-*.*s^^%-*.*s 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./: icon cfa cxi nds J U DSi Enhanced DSi Exclusive :/title/ %.12s (AGB-%.4s).%s W JUECK UNK %016llX %s (TWL-%.4s) (%s) (%s).%s %s (NTR-%.4s).%s %016llX%s (%.16s).%s JUECKT %016llX%s %s (%.16s) (%s).%s 0:/Nintendo 3DS %s
B button detected. Cancel? %s
Error: Cannot append a folder %s
Error: Overwriting file with dir %s
Error: Overwriting dir with file %s
Error: Cannot open destination file %s
Error: Not enough space available %s
Cancel is not allowed here  MZ .dev .ret IV OTP Loading raw data (%lu)... Scanning for tickets %016llX.%08lX.tik %s%.10s slot0x%02lXKey%.10s%s.bin %.12s_%.6s_%02u %s.%s %s.trim.%s %s.split.000 %s.split.001 %s-priv.bin %s.sav jedecid_and_sreg.bin partition%c.bin %016llX_v%02lu            
         	                     
       

		
		

!#%&(+-/1
""#&(+-0358;>AD" #%(*-0369<?BFJMQ     @        (                                                      #      %%%%$%a%b%V%U%c%Q%W%]%\%[%%%4%,%% %<%^%_%Z%T%i%f%`%P%l%g%h%d%e%Y%X%R%S%k%j%%%%%%%%  ")"a" e"d" #!# H" " "  %                              @                        	      
                                                                                                                             R0c            ;   ;                             Tr q                    q p x               q p x                      q p x                  q Tp (                  q Tp (  @              
 q Tp    b             
 q Tp (  @              
 q Tp (   b             
 q Tp (  @              
 q Tp                  
 q Tp   "              
  q Tp   "              
  q Tp   "              
                           >    itcm.mem                                           arm9.mem                                             arm9ext.mem                                        boot9.bin                                          boot11.bin                        	                 vram.mem                                 `            dsp.mem                                             axiwram.mem                                         fcram.mem                                             fcramext.mem                       (                 dtcm.mem                          0     @             otp.mem                                             otp_dec.mem                                          dmcu_3ds_regs.mem                                    mcu_dsi_regs.mem                                     sd_cid.mem                                           nand_cid.mem                                        nvram.mem                                            system                                               eshop                                                @unknown                                               hidden                                               %.8s %c:/private/movable.sed DataList OK nup: cup: %s/rw/sys/SecureInfo_%c %s/title/00040010/%08lx/content/%08lx.tmd %s/title/00040010/%08lx/content/%08lx.app %s/title/00040010/%08lx/content/%08lx.bak %s
%s
%s 00000000/%08lx.app ID %016llX
Legit ticket not found. Use personalized ticket (legit) Use generic ticket (not legit) ID %016llX
Legit ticket is personalized.
CIA may not be installable.
Choose default action: ID %016llX
Titlekey not found. ID %016llX.%08lX
Insert content failed %08lX.sjis xdma.a11 memcpy ndma.a9 unknown arm9dec.bin section%lu.%08lX.%s.bin %016llX.%.8s%s srl.app 02.unk 03.unk 04.unk 05.unk 06.unk 07.unk 08.unk public.sav banner.sav 11.unk banner.bin footer.bin %016llX.%s srl cert.bin ticket.bin tmd.bin tmdchunks.bin meta.bin icon.bin %04X.%08lX%s game manual dlp update_n3ds update_o3ds ncsd.bin cardinfo.bin devinfo.bin content%lu.%s%s ncch.bin extheader.bin plain.bin logo.bin exefs.bin romfs.bin romfs arm9.bin arm9overlay.bin arm9i.bin arm7.bin arm7overlay.bin arm7i.bin NCSD .xorpad %.24s%s 0004008c 00000000/ %s%08lX.app CTR-SAV0 CTR-SIGN %c:/extdata/%08lx/%08lx/%08lx/%08lx %c:/title/%08lx/%08lx/data/%08lx.sav %c:/title/%08lx/%08lx/content/cmd/%08lx.cmd %c:/data/%016llx%016llx/extdata/%08lx/%08lx/%08lx/%08lx %c:/data/%016llx%016llx/extdata/%08lx/%08lx/Quota.dat %c:/data/%016llx%016llx/sysdata/%08lx/%08lx title.db import.db tmp_t.db tmp_i.db CTR-EXT0 CTR-SYS0 CTR-NOR0 CTR-9DB0 %s
Fixing CMACs, please wait... __gm9_hsbak.pth 0:/gm9/out/seeddb.bin %s
Output file already exists.
Update this? %s/private/movable.sed %s/data/%08lX%08lX%08lX%08lX/sysdata/0001000F/00000000 0:/gm9/out/decTitleKeys.bin 0:/gm9/out/encTitleKeys.bin German French Italian Spanish Japan USA/English Europe/Elsewhere Unknown .gba .dec Out of memory. Decompressing .code... Decompressing .code...
B button detected. Cancel? 0:/gm9/out/%016llX%s%s 0:/gm9/out/ legit.cia   CommentUpdated=      #      c  s        #          s               	         
                                                                                  !   (   )   "   #   *   +   0   1   8   9   2   3   :   ;   $   %   ,   -   &   '   .   /   4   5   <   =   6   7   >   ?   S      E      I      X      M      G       K      T@      C      V      D                v
'***                                                                                                                                                      3yGLgp	TGUZds,-e\KN_e{8R)cGQz"Xl%NJgJ{@n	\Oxlx_~&NGdnand_hdr.bin                                  twlmbr.bin                                   essential.exefs                             @ aeskeydb.bin                                @  sector0x96.bin                               @twln.bin                                      twlp.bin                                     agbsave.bin                                @  firm0.bin                                     firm1.bin                                    firm2.bin                                    firm3.bin                                    firm4.bin                                    firm5.bin                                    firm6.bin                                    firm7.bin                                    ctrnand_full.bin                              ctrnand_full.bin                              ctrnand_fat.bin                               ctrnand_fat.bin                               bonus.bin                       	           @  nand.bin                                       nand_minsize.bin                                $'"k6BS|b"\o
!Mnand_hdr       @vT=N/+$ -                       0   0   0   3      0      0      $   0                   ??    ?????                                                                                               unresolved quotes %s
Error: Not a BOSS file %s
BOSS payload hash mismatch.
 
Try to fix it? %s
Section %u hash mismatch %s
ARM9 entrypoint is missing %s
Warning: ARM11 entrypoint is missing %02lx else elif next for PREVIEW_MODE quick full PREVIEW_COLOR_ACTIVE PREVIEW_COLOR_COMMENT PREVIEW_COLOR_CODE %s/%.254s EMUID0 SYSID0 4:/private/movable.sed 1:/private/movable.sed SERIAL REGION 1:/rw/sys/SecureInfo_A 1:/rw/sys/SecureInfo_B UNKNOWN %08lx%08lx%08lx%08lx DATESTAMP TIMESTAMP %02lX%02lX%02lX EMUBASE cetk %s
Error: TMD probably corrupted %s
Error: CDN titlekey not found %s
Verification failed %s
Error: Probably not a CIA file %s
ID %08lX (%08llX@%08llX)
Verification failed %s
Error: Not a NCCH file %s
Error: File is too small %s
Error: Bad crypto flags
 
Attempt to fix? %s
Error: Bad ExeFS header %s
Error: Missing ExtHeader %s
Error: Crypto not set up Process9 %s
NCCH verification failed:
ExtHdr/ExeFS/RomFS: %s/%s/%s %s
Error: Not a NCSD file %s
Content%lu (%08lX@%08lX):
Verification failed I:/nand_hdr.bin 7:/rw/sys/SecureInfo_A 7:/private/movable.sed 7:/rw/sys/SecureInfo_B 7:/rw/sys/LocalFriendCodeSeed_B 7:/rw/sys/LocalFriendCodeSeed_A 7:/ro/sys/HWCAL0.dat 7:/ro/sys/HWCAL1.dat MBR %s
NCSD header is not valid %s
NAND dump misses data %s
Error: %s MBR is corrupt %s
Error: %s partition%u is corrupt %s
No valid FIRM found <<   >> %0*lu Error: Invalid text data Textviewer Controls:
 
(+R) - Scroll
R+Y - Toggle wordwrap
R+X - Goto line #
B - Exit
 Current line: %i
Enter new line below. sdmc nand not bad # of args unrecognized flags --all --before --include_dirs --flip_endian --first --hash --keysel --skip --legit --no_cancel --optional --append --recursive --silent --unequal --overwrite --explorer too many arguments argument expand failed FALSE TRUE %llX:%llX 'not' an error syntax error after 'if' 'elif' without 'if' syntax error after 'elif' 'else' without 'if' 'end' without 'if' 'for' inside 'for' dir not found FORPATH 'next' without 'for' forpath error label not found user abort key not pressed out of memory var fail Z: forbidden drive invalid path fileselect abort dirselect abort set fail char not found argv[2] is not a char argv[2] must be 2 chars no arg match copy fail inject fail %lX bad filesize Deleting %s... remove fail makedir fail mount fail find fail findnot fail no size given size too big read fail conversion fail invalid data sha arg0 fail sha arg1 fail sha does not match %016llX%016llX%016llX%016llX sha write fail Fixing CMACs... fixcmac failed build CIA failed does not contain .code extract .code failed Compressing .code, please wait... Compressing .code... Compressing .code...
B button detected. Cancel? compress .code failed Building to 0:/gm9/out:
%s ... 1:/dbs/ticket.db 4:/dbs/ticket.db 1: 4: unknown file apply IPS failed apply BPS failed apply BPM failed textviewer failed not a dir file not found not a bootable firm SD not mounted %s
 
Eject SD card... %s
 
Insert SD card... unknown error command success ERRORMSG control flow error permission fail fillbyte fail fill fail create dummy fail file write fail verification failed decrypt failed encrypt failed unknown cmd sighax ntrboot O3DS N3DS devkit retail (preview disabled) (null) NULL CURRDIR GM9OUT HAX ONTYPE RDTYPE GM9VER unclosed conditional 'for' without 'next' error message fail %.29s... %.*s %s
line %lu: %s
%s %s
end of script: unresolved 'if' %s
end of script: unresolved 'for' SUCCESSMSG JPN USA EUR AUS CHN KOR TWN     |nand_hdr       secinfo      movable    @  frndseed     nand_cid      otp      
     hwcal0     	  hwcal1     	  GM9SD Failed OK (Sys&Emu) OK (Sys) README_internal.md SD format menu Bonus drive setup Switch EmuNAND Build support files Restore H&S Set RTC date&time Configure brightness Calibrate touchscreen System info Show ReadMe HOME more... menu.
Select action: No EmuNAND RedNAND size (min) GW EmuNAND size (full) MultiNAND size (2x) MultiNAND size (3x) MultiNAND size (4x) User input... Auto 16KB Clusters 32KB Clusters 64KB Clusters Error: SD card not detected. Format SD card (%lluMB)?
Choose EmuNAND size: SD card size is %lluMB.
Enter EmuNAND size (MB) below: Format SD card (%lluMB)?
Choose cluster size: 0:%s Format SD card (%lluMB)?
Enter label: Error: SD card is too small SD card is write protected!
Can't continue. GATEWAYNAND !WARNING!
 
Proceeding will format this SD.
This will irreversibly delete
ALL data on it. Formatting SD, please wait... Error: SD card i/o failure Format SD: failed! RedNAND type (multi) RedNAND type (single) GW EmuNAND type Don't set up Choose EmuNAND type to set up: RedNAND type Clone SysNAND to RedNAND? Cloning SysNAND to EmuNAND: failed! S:/nand_minsize.bin E: Initializing SD card failed! Retry? Format the bonus drive?
This will irreversibly delete
ALL data on it. Formatting drive, please wait... 8: 8:BONUS Setup failed! Current EmuNAND offset is %06X.
Switch to next offset? Building encTitleKeys.bin... Building decTitleKeys.bin... Building seeddb.bin... Built in 0:/gm9/out:
 
%18.18-s %s
%18.18-s %s
%18.18-s %s Restore H&S (SysNAND) Restore H&S (EmuNAND) New RTC date&time is:
%s
 
Hint: HOMEMENU time needs
manual adjustment after
setting the RTC. gm9bright.cfg [] Decrease brightness
[] Increase brightness
 
[X] Use volume slider control
[A] Set current brightness
[B] Cancel Touch the red crosshairs to
calibrate your touchscreen.
 
Use the stylus for best
results! gm9calib.bin Touchscreen calibration %s! <unknown> %04u/%02hhu/%02hhu %02hhu:%02hhu:%02hhu Partner-CTR IS-CTR-BOX IS-SPR-BOX IS-SNAKE-BOX panda press %s%016llX %08X%08X%08X%08X Model: %s (%s)
 Serial: %s
 Region (system): %s
 Region (sales): %s
 SoC manufacturing date: %s
 System assembly date: %s
 Original firmware: %s
 Friendcode seed: %s
 SD keyY: %s
 NAND CID: %s
 SD CID: %s
 System ID0: %s
 System ID1: %s
 GodMode9 ReadMe Table of Contents ======================================== %s
%*.*s ??? ntrboot mode bootloader mode
R+LEFT for menu unknown mode oldloader mode XORpad Memory Alias Gamecart VRAM Search RAMdrive Game Image  FAT  Virtual [CLIPBOARD] L - MARK files (use with )
X - DELETE / [+R] RENAME file(s)
Y - PASTE files / [+R] CREATE entry
 R+A - Directory options
 R+B - Unmount SD card
 R+A - Drive options
 L - MARK files (use with )
X - DELETE / [+R] RENAME file(s)
Y - COPY files / [+R] CREATE entry
 R+B - Remount SD card
 SELECT - Clear Clipboard
 SELECT - Restore Clipboard
 Show directory info Show drive info *.tmd dummy.bin newdir HOME POWER R+X - Unmount image
 R+Y - Relock write permissions
 NOPE GodMode9_splash.png booting... (GodMode9_splash.png not found) https://d0k3.secretalgorithm.com/ Hourlies: https://github.com/d0k3/GodMode9/releases/ Releases: https://github.com/d0k3/GodMode9 ------------------------------ GodMode9 v1.9.1 %s
%*.*s
%s
 
 
%s
%s
 
%s
%s built: 2020-01-10 12:14:19 font.pbm 0:/gm9/support 1:/gm9/support S:/essential.exefs Essential files backup not found.
Create one now? S:/nand.bin Backup embedded in SysNAND
and written to 0:/gm9/out. RTC date&time seems to be
wrong. Set it now? WARNING:
Not running from a boot9strap
compatible entrypoint. Not
everything may work as expected.
 
Provide the recommended
aeskeydb.bin file to make this
warning go away. Resume GodMode9 Resume bootloader Select payload... Select script... Poweroff system Reboot system GodMode9 bootloader menu.
Select action: *.firm payloads Bootloader payloads menu.
Select payload: *.gm9 scripts Bootloader scripts menu.
Select script: 0:/bootonce.firm 0:/boot.firm 1:/boot.firm No bootable FIRM found.
Now resuming GodMode9... sdmc:/bootonce.firm Invalid directory object Invalid root directory. PANE #%lu CURRENT [%s] %20s (%s%s) %0*llu%c %s Byte %*s + %lu more %s
%s%s%s%s%s%s%s%s START - Reboot / [+R] Poweroff
HOME button for HOME menu R+ - Switch to prev/next pane
 R+L - Make a Screenshot
 [root] %14.14s Write permissions were changed.
Relock them? %s/title 14AB Search for titles Search for files... Fix CMACs for drive Copy to 0:/gm9/out Search %s?
Enter search below. Found %lu results. Fix CMACs for drive finished. Failed to analyze %s
 Open this folder Open containing folder Initialising SD card failed! Retry? Not allowed in virtual path Delete %u path(s)? Deleting files, please wait... Failed deleting %u/%u path(s) Delete "%s"? Failed deleting:
%s Not allowed in search drive Not allowed in virtual game path Not allowed in XORpad drive Not allowed in gamecart drive Copy path(s) Move path(s) Paste "%s" here? Paste %lu paths here? Failed copying path:
%s
Process remaining? Failed copying path:
%s Failed moving path:
%s
Process remaining? Failed moving path:
%s Not allowed in alias path Rename %s?
Enter new name below. Failed renaming path:
%s Create a folder Create a dummy file Create a new entry here?
Select type. Create a new %s here?
Enter name below. Create a new %s here?
Enter file size below. Failed creating %s:
%s Brick my 3DS Scripts... Payloads... More... Scripts directory not found.
(default path: 0:/gm9/scripts) HOME scripts... menu.
Select script: Payloads directory not found.
(default path: 0:/gm9/payloads) HOME payloads... menu.
Select payload: easter.bin (easter.bin not found) (use L+R to save) %s button pressed.
Select action: Cart init failed! !Unexpected SD card removal!
 
To prevent data loss, unmount
before ejecting the SD card. +XN'c+pf/ IJ[v%G$ZjC` 0:/gm9/out/aeskeydb.bin slot0x%02XKey%31s slot0x%02Xkey%31s ret.bin dev.bin Americas Europe China Korea Taiwan Middle East Australia           @        5@Sj~                                                  U          0           0     Old 3DS     CTR Old 3DS XL  SPR New 3DS     KTR Old 2DS     FTR New 3DS XL  RED New 2DS XL  JAN 4FOuV\bJ   4W   FE   OC   VK   \T   bS   iA   u@vT=N/+$ -=CG            )
       
              .       @       R       d      Hexeditor Controls:
 
(+R) - Scroll
R+Y - Switch view
X - Search / goto...
A - Enter edit mode
A+ - Edit value
B - Exit
 Not found! Go to offset Search for string Search for data Current offset: %08X
Select action: Current offset: %08X
Enter new offset below. Enter search string below.
(R+X to repeat search) You made edits in %i place(s).
Write changes to file? Failed writing to file! created modified    
( to change attributes)
 (<A> to continue) (<A> to apply, <B> to cancel) %s: %04d-%02d-%02d %02d:%02d:%02d
 Analyzing %s, please wait... %lu files & %lu subdirs
%s total size
 
space free: %s
space used: %s
space total: %s %lu files & %lu subdirs
%s total size       filesize: %s byte  
[%c] %sread-only  [%c] %shidden
[%c] %ssystem     [%c] %sarchive
[%c] %svirtual
%s %s
 
%s%s
%s 
%s
 %s
Failed to set attributes! %s%10.10s Copy all %lu selected items? %s
Failed copying item %lu items copied to %s %s
Copied to %s 20 %s%02lX-%02lX-%02lX %02lX:%02lX %s
FIRM too big, can't boot %s (%dkB)
Warning: Do not boot FIRMs
from untrusted sources.
 
Boot FIRM? %s
Not a bootable FIRM. %s
FIRM is encrypted.
 
Decrypt before boot? Make a copy at 0:/gm9/out/temp.firm Try to boot anyways %s
Warning: Trying to boot from an
unsupported location. Build aeskeydb.bin NCCHinfo options... Execute GM9 script Font options... View PNG file Rebuild NCSD header NAND image options... CTRNAND options... Mount as FAT image CIA image options... NCSD image options... NCCH image options... Mount as EXEFS image Mount as ROMFS image TMD file options... BOSS file options... Decrypt NUS/CDN file Show SMDH title info NDS image options... GBA image options... Ticket options... TAD image options... Show 3DSX title info FIRM image options... AGBSAVE options... Dump GBA VC save Ticket.db options... Mount as DIFF image Mount as DISA image Titlekey options... AESkeydb options... %s
%(%lu files selected) 
SHA verification:  passed! 
 
Identical with previous file:
 
 
Write .SHA file? 
 
Fix CMAC in file? Mount CXI/NDS to drive Mount image to drive Decrypt file (...) Decrypt file (0:/gm9/out) Encrypt file (...) Encrypt file (0:/gm9/out) Build CIA from file Build CIA (standard) CIA CXI Personal Universal Pirate Legit Custom  DLC invalid illegit pending
 
Proceed with verification? passed not required completed %s
Not a installable FIRM. %s
FIRM load/verify error. Show in Hexeditor Calculate SHA-256 Show file info Show in Textviewer Calculate CMAC Inject data @offset Calculating SHA-256: failed! %s.sha %s
%016llX%016llX
%016llX%016llX%s%s%s%s%s Check current CMAC only Verify CMAC for all Fix CMAC for all Calculating CMAC: failed! %s
%016llX%016llX
%s%s%s CMAC verification:  Fixing CMAC: failed! %s
XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
%s%s%s %lu/%lu/%lu files ok/fixed/total
%lu/%lu have no CMAC %lu/%lu files verified ok
%lu/%lu files fixed %lu/%lu files verified ok
%lu/%lu have no CMAC %lu/%lu files verified ok Inject data from %s?
Specify offset below. Failed injecting %s Restore SysNAND (safe) Update embedded backup Show title info CIA checker tool Build CIA (legit) Dump CXI/NDS file Build encTitleKeys.bin Build decTitleKeys.bin Verify file Transfer image to CTRNAND Inject to H&S Trim file Rename file Extract .code Init aeskeydb.bin Install aeskeydb.bin Install FIRM Boot FIRM Set as active font Inject GBA VC save Set as default 7: G: K: T: I: D: Mounting image: failed %s
Mounted as drive %s
Enter path now? Decrypt to 0:/gm9/out Decrypt inplace Try to decrypt all %lu selected files? Trying to decrypt %lu files... %s
Decryption failed
 
Continue? %lu/%lu files decrypted ok
%lu/%lu not encrypted
%lu/%lu not of same type %lu/%lu files decrypted ok %lu files written to %s %s
File is not encrypted %s
Decryption %s %s
Decrypted to %s Encrypt to 0:/gm9/out Encrypt inplace Try to encrypt all %lu selected files? Trying to encrypt %lu files... %s
Encryption failed
 
Continue? %lu/%lu files encrypted ok
%lu/%lu not of same type %lu/%lu files encrypted ok %s
Encryption %s %s
Encrypted to %s Try to process all %lu selected files? %s
Build %s failed
 
Continue? %lu/%lu %ss built ok
%lu/%lu not of same type %lu/%lu %ss built ok %lu file(s) failed conversion.
Verification is recommended. %s
%s built to %s %s
%s build failed %s
file failed conversion.
 
Verify now? %s
Verification %s Try to verify all %lu selected files? %s
Verification failed
 
Continue? %lu/%lu files verified ok
%lu/%lu not of same type %s
Verifying file, please wait... %s
NAND validation %s Building %s... %s
%lu/%lu files processed
%lu/%lu files ignored %s
%lu/%lu files processed %s
Build database failed. %s
Build database %s. Try to trim all %lu selected files? %s
Trimming failed
 
Continue? %lu/%lu files trimmed ok
%lu/%lu not of same type
%s saved %lu/%lu files trimmed ok
%s saved %s
File can't be trimmed. %s
File is already trimmed. %s
Current size: %s
Trimmed size: %s
Difference: %s
 
Trim this file? %s
Trimming failed. %s
Trimmed by %s. Try to rename all %lu selected files? %lu/%lu renamed ok %s
Could not rename to good name Title info: not found Possibly Broken %s %s%s %s
%s CIA File
 
Title ID: %016llX
Console ID: %08lX
Contents in CIA: %lu/%lu
Ticket/TMD: %s/%s
Verification: %s SysNAND H&S inject EmuNAND H&S inject %s
H&S inject %s Try to extract all %lu selected files? %lu/%lu files extracted ok
%lu/%lu not of same type %lu/%lu files extracted ok %s
Extracting .code, please wait... %s
%s extracted to 0:/gm9/out %s
.code extract failed Transfer to SysNAND Transfer to EmuNAND %s/rw/sys/SecureInfo_A %s/rw/sys/SecureInfo_B %s/rw/sys/SecureInfo_C %s/dbs/ticket.db %s/dbs/ticket.bak %s/data/%08lx%08lx%08lx%08lx/sysdata/00010011/00000000 %s/dbs %s/dbs/%s 7:/dbs/%s Cleaning up titles, please wait... 7:/title %s
CTRNAND transfer %s %s
No valid destination found Error: NAND dump is corrupt.
Still continue? Error: System is locked. Essential files backup is required.
Create one now? !WARNING!
 
Proceeding will overwrite the
SysNAND with the provided dump.
 
(B9S/A9LH will be left intact.) Image NCSD corrupt or customized,
safe restore is not possible! !WARNING!
 
NCSD differs between image and local,
elevated write permissions required
 
Proceed on your own risk? %s
NAND restore %s %s
Rebuild NCSD %s sdmc: %s
NCCHinfo padgen %s%s ncchinfo.bin %s
Updating embedded backup... %s
Backup update: %s Warning: Keys are not verified.
Continue on your own risk? %s
AESkeydb init %s Perfect aeskeydb.bin is already installed! %s
Not a perfect aeskeydb.bin image.
Cannot install to NAND! %s
Failed writing aeskeydb.bin to NAND! %s
AESkeydb install %s Install to FIRM0 Install to FIRM1 Install to both %s (%dkB)
Install to SysNAND? %s
FIRM%lu not found or too small. %s
Sector 0x96 crypto fail. secret_sector.bin %s
Sector 0x96 is corrupted.
 
Provide "secret_sector.bin"
to fix sector 0x96. %s
Sector 0x96 is corrupted.
 
Fix sector 0x96 during
the installation? !WARNING!
 
Proceeding will install the
provided FIRM to the SysNAND
and inject sighax.
 
Installing an unsupported FIRM
will BRICK your console! Installing FIRM, please wait... !THIS IS BAD!
 
Failed writing sector 0x96.
Try to fix before reboot! !THIS IS BAD!
 
Failed writing FIRM%lu.
Try to fix before reboot! Checking installation, please wait... !THIS IS BAD!
 
Failed verifying sector 0x96.
Try to fix before reboot! !THIS IS BAD!
 
Failed verifying FIRM%lu.
Try to fix before reboot! %s (%dkB)
Install %s %s
Warning: Do not run scripts
from untrusted sources.
 
Execute script? %s
Script execute %s Press <A> to continue %s
Error: Cannot view file
(Hint: maybe it's too big) 0:/gm9/out/%016llX.gbavc.sav Savegame dumped to 0:/gm9/out. Savegame dump failed! GBA VC savegame has to
be in the clipboard. srm SaveRAM S:/agbsave.bin A:/title/%08lx/%08lx/data/00000001.sav Savegame inject %s. %s
Font will be active on next boot tRNS PLTE   TasEiSN(K8ZaGX6Uq?t D]my8lhM$<_9VpV;e4.;J;l0'"V>dZEi_nx-{K;U#t$hBvGwj,$\xCAtYg#L.@
{>	Dcc'o8GQ8l/xNa64Tz,0OhaLVVG3=p c1:Y]/j*W_o72-;|%LbJLyZO'=F;jFk(K=Zr@lQZhw4I]Q&	{JG0R"ZmI(L7mnLU6#T kvj2LXRRk0kRBi|1V)dd(Z]cF@huG"WaQ#16IhFLn
RVtuL+U#)V7_}[dEv{49r=&DH9d$V:>jh9aokVFUJHF$g*O #NXzmu~iUOr[itT+kvG b6i,rE1Hez*.E~5
D(Yu4*MG`P5{5s.|#JAb):$l	_x@*hM,hI[?8	Z@^@yCcFCFrU [a#jQCV@^^VO==kb[d3l=s]H&J2N <\:%Ah|]y:	  ?   }  @                                  U@vT=N/+$ -                                                                     	   	   
   
                                                                                                                                       	   
                           #   +   3   ;   C   S   c   s                                   	            !   1   A   a                                0  @  `  95 96 %s/Nintendo 3DS/%08lX%08lX%08lX%08lX *?* Root-CA00000004-XS00000009 Root-CA00000003-XS0000000c .aXXcxB:hXA5 GLdXaRbir*N <kK} 3oZ4 Root-CA00000004-CP0000000a Root-CA00000003-CP0000000b 3FDT NCCH /Nintendo DSiWare You want to enable base
writing permissions. You want to enable SD card
writing permissions. You want to enable image
writing permissions. You want to enable RAM drive
writing permissions. You want to enable EmuNAND
lvl0 writing permissions. You want to enable SysNAND
lvl0 writing permissions. You want to enable EmuNAND
lvl1 writing permissions.
 
This enables you to modify
recoverable system data,
user data & savegames. You want to enable SysNAND
lvl1 writing permissions.
 
This enables you to modify
system data, installations,
user data & savegames. You want to enable SD data
writing permissions.
 
This enables you to modify
installations, user data &
savegames. You want to enable gamecart
save writing permissions. !Better be careful!
 
You want to enable SysNAND
lvl2 writing permissions.
 
This enables you to modify
irrecoverable system data! !Better be careful!
 
You want to enable memory
writing permissions.
 
Writing to certain areas may
lead to unexpected results. !THIS IS YOUR ONLY WARNING!
 
You want to enable SysNAND
lvl3 writing permissions.
 
This enables you to OVERWRITE
your bootloader installation,
essential system files and/or
BRICK your console! Unlock write permission is not allowed. %lu: A: B: %i: S:/firm0.bin S:/firm1.bin S:/nand_hdr.bin S:/sector0x96.bin S:/twlmbr.bin 1:/rw/sys/LocalFriendCodeSeed_B 1:/rw/sys/LocalFriendCodeSeed_A 1:/ro/sys/HWCAL0.dat 1:/ro/sys/HWCAL1.dat S:/ctrnand_fat.bin S:/ctrnand_full.bin S:/twln.bin S:/twlp.bin SysNAND (lvl%lu) E:/ctrnand_fat.bin E:/ctrnand_full.bin E:/nand.bin E:/nand_minsize.bin E:/nand_hdr.bin EmuNAND (lvl%lu) game images gamecart saves vram0 XORpads memory areas SD system data SD card RAM drive Writing to %s is locked!
Unlock it now? Unlock write permission for
%s is not allowed. EMPTY NTR TWL FAT IMAGE BONUS DRIVE RAMDRIVE ROMFS NDS DSIWARE EXEFS NOLABEL %s%08lX [%s] %s [%s] %s %s [%s] %s (%s) Searching, please wait... ._ [more...] %s
No usable entries found. BPM BPS Unknown error Failed to initialize %s file:
%s Patch successfully applied Patching aborted by user Failed to run patch:
%s %s
The patch is most likely not intended for this file. %s
You most likely applied the patch on the output file. %s
The patch is technically valid,
but seems scrambled or malformed. %s
The patch is invalid. %s
One or both files is bigger than 16MB.
The IPS format doesn't support that. %s
The requested file path was invalid. %s
Patching canceled. %s
Not enough memory. R|00_6TK banner cdn nus slot%02lXKey /Nintendo DSiWare/ %08lx.bin 3DSX, PNG

 Loading DIFF data... Error: Only FAT files can be moved %s
Error: Destination is part of origin %s
Destination equals origin
Choose another name? Choose new name Overwrite file(s) Skip file(s) Overwrite all Skip all Destination already exists:
%s Choose new destination name Copy operation is not allowed %s
Destination equals origin Entry not found: %s
Inject into %s instead? File smaller than available space:
%s (%s)
%s (%s)
Continue? %s
File is currently mounted.
Unmount to unlock? Error: Can't inject file into itself Operation would write beyond end of file Not enough data in file SDCARD SYSNAND CTRNAND SYSNAND TWLN SYSNAND TWLP SYSNAND SD SYSNAND VIRTUAL EMUNAND CTRNAND EMUNAND TWLN EMUNAND TWLP EMUNAND SD EMUNAND VIRTUAL IMGNAND CTRNAND IMGNAND TWLN IMGNAND TWLP IMGNAND VIRTUAL GAMECART GAME IMAGE AESKEYDB IMAGE TICKET.DB IMAGE DISA/DIFF IMAGE MEMORY VIRTUAL VRAM VIRTUAL LAST SEARCH 2: 3: S: 5: 6: 9: C: M: V: No error End of action list Aborted by user Failed to read/write file Attempted to write beyond end of file Invalid patch file Invalid input file Output file checksum mismatch File checksum failed Expected more patch data Out of memory    {38Y2W##.vr0FLu:W^	/fod1gPlD[x^fmUUrUZeC;D4n{%.?((qf)+Io>'uRUULwvc                 (                IVFC   boss  
 ~!7<ACFtxs#R[-G-`C\eFIRM@         `         @         `        '    `        ej<x\q 	ej<x\q 	 vy|~!@GWdq|.>N]jBPS1 8xtDBPM1#AVoDISA   DIFF   IVFC   DPFS   DIFI                   DIFF          0      ,              7     + Be                                                   U  W  i                                                  UFAT16    FAT12    0:/gm9 1:/gm9  kB  MB  GB INVALID %llu.%llu%s %-.*s...%-.*s %c%-*.*s%-*.*s%c DEL INS SUBMIT CAPS #$@ 123 ABC   ESC P4
 font_default.pbm %s (%lu%%) ETA %02llum%02llus (hold B to cancel) 0:/gm9/out/snap_%02X%02X%02X%02X%02X%02X.png IHDR IDAT IEND Exception: %s (%lu)
 GodMode9 v1.9.1
 20%02lX-%02lX-%02lX %02lX:%02lX:%02lX
 
 R%02d: %08lX | R%02d: %08lX
 CPSR: %08lX

 Stack:
 %08lX:  %02lX  Code:
 %08lX  Generating QR code... %-29.29s Reinitializing SD card... %s/exception_dump_%02lX%02lX%02lX%02lX%02lX%02lX.txt Dumping state to SD card... Press POWER to turn off 
X - remove char
Y - insert char R - () fast scroll
L - clear data%s %c%-*.*s%c%-*.*s
%-*.*s^%-*.*s %llu 0123456789  aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ(){}[]'`^,~*?!@#$%&0123456789=+-_. To proceed, enter this: <%c> (<A> yes, <B> no) %s
 
%s Oh shit %lu %lu slot0x%02lXKey%s%s.bin FAT32 "*:<>?| +,;=[] %s
Rename to good name?
 
%s Reset Undefined SWI Prefetch Abort Data Abort Reserved IRQ FIQ a     x 029J.yM C=   (":	 e,;;=f,?@AAF
S@ UXZ\]^_abdefgjb,lmnpqstvwxyz{|d,~DE{    
 0 P`"6 Da&  } c, Z  0@Q YR[T]V_`p     N! 2!p!! !$0,/`,g,u,,d -&A    
                                        L \W[_fkoswy{            R0          7       1          3    {    1234567890+-qwertyuiop&asdfghjkl()[]zxcvbnm,._#!      .   (){}[].,?!`'^*+-_=@#$%&~     "  789FE456DC321BA0._ ,*G/H)]a("#WP xIOP{#  o~YCn@Lq
  %4}H]e   aj7'S  [`Z  %|Jr(      0w,aQ	mjp5cd2y+L	|~-d jHqA}mQVlkdzbeO\lcc= n;^iLA`rqg<GKk
5lB@l2u\EY=0&: QQa!#V(_$|o/LhXa=-fAvq *q3x4 	j-=mld\cQkkbal0eN bl{WeP|bI-|eLXaMQ:t 0AJ=mjiCn4Fg`s-D3_L
|<qPA' %hWo 	fa^)"=Y.;\l t9Gw&sc;d>jmZjz	' 
}Dhi]Wbgeq6lknv+ZzJgoC`~8ROggW?K6H+L
J6`zA`Ugn1yiFafo%6hRwG"/&U;(Z+j\1,[d&cju
m	?6grW Jz+{8|!Bhn[&wowGZpj;f\eibkaElx
TN9a&g`MGiIwn>JjZf@;7SG00S$6)WTg#.zfJah]+o*7Z-    < ( l x P DlD^	EAAEEEIIIOOUUYAIOU+.,;=[]/\"*:<>?|            (((((                  AAAAAABBBBBB                                                                                                                                 INF inf NAN nan 0123456789abcdef                   0000000000000000e%ld    
         	 
         NaN Infinity    0   .   LC_COLLATE  LC_CTYPE    LC_MONETARY LC_NUMERIC  LC_TIME LC_MESSAGES      7yACnF?O8M20HwZ<sOu      ?      $@      Y@     @@     @     j@    .A    cA    A    eA    _B   vH7B   mB  @0B  B  4&kC 7yAC W4vC NgmC =`XC@xDPKDMDJ-DyCxD      }   nf  inity   an  5            4                <3#I9=D2[%Cod(h                                                                                   	
                                                                                                                                                                                                                                                   JIS SJIS    EUCJP    000000 @ >> ?00000N0000  <0 \& %     	00;=[]0	0
00000000"   `"f"g""4"B&@& 2 3 !   
  &&%%%%%%%%%%%; 0!!!!0                      """"""*")"                '"(" !! "")"                     ""#""a"R"j"k""=""5"+","              +!0 o&m&j&  !  ,"      %                                               !"#$%&'()*+,-./                              012345Q6789:;<=>?@ABCDEFGHIJKLMNO   %%%%%%%,%$%4%<%%%%%%%#%3%+%;%K% %/%(%7%?%%0%%%8%B%NUZ?Ta(cY"uPz`c%nefh'Weqb[Y{b}}b|[^	cfHhOgN
OMOOIPV7YYZ	\`apafipOupuy}}cUz;SNNWx NXn82z(/AQpSTTVY_m-bpTS[poS\zNx&nVUk;YSfmtBVNKOSU0[q_ ffh8ll)m[tvNz4[`muv`iSQW0XDY[^(`cclopqYqq?s~v`[iXeZl%uQ.YeY__be*j'kksV,\l{QK\avharYNOxSi`)nOzNSNUO=OOsORS	VYZ[[yfggLklkpsyy<z{wf)VNO\bYr;uNOVJXX^_*``b`abb9eAffhwmppLuvu}QRYT[]haimxWrlmWgRVT^bd<h8hkrsxkzkif[\}iMNc {+jjh_orRUp`b;mnn[DN9Si:j*h\Qz[V("h1|Rt~NOQ[
RRR]U*XY[[[r^y^`acaacbegShh>kSkWl"ooEotuvwz{!|}6fQe(8N+T\]sLv<w\TXOOqSUhVWGY	[[\^~^_c:geeghh_j0^kl}luHyc[ z }_w<N}P QY[/bbd:kruGypc	TTUThXjp'xugtS[PNENNOS8T[_%`Qe=gBlrllxptvzz{}|f}e[rSE\]bbc nZ1oyZNNNOOPGQzqQQTS!SSSUX\7_J_/`P`m`cYeKjlrrwNWZNQ-\fmi@\fuisPh|PRGW]&e#k=k4tyyK{}_9T]N6PS:SrswwQa^UzzvP[G2NjQ\H\czltazq|hp~QhlRTfSAyOPRDQSU-WsWQYb__u`vagaac:dleofBhnfu=z|L}}K~kJcfRbdoAhP kzlTotzP}@#gN9P&PeP|Q8RcRUWXZ^aabrci)j}rr.sxoxy}wcuzUxCQSS{^&_nnssC}7 PNNPS|TVYd[]^'_8bEegVnr|N7gNNOHSIT>T/Z__`hjZtxw^NN|OOPPIQlQRRRSSTTUQWW}YT[][[]]]x^^^^_R`Labbc;efCffmg!hhi_l*mim/nn2uvlx?z|}}^}}T*RLauq?xM;[RRSTXboj_KQ;RJTV@zw`Ds	opu_`rdkNVdWXZZh`aff9hhmu:}nBNPOSUo]]]glstxPPW^+cPPQ gT^XY[i_Mbc=hskn}prx&xmye0}	dR(WPgjQBW*:XiT]Wx\OJRT>d(fggzV{"}/\h9{SQ7R[bdd-gkvLcvRf	NPSq\`dce_hqs#u{~xefkNN:OO:RSSUVXYYYP[M\^+^_`c/e\[eeegbk{klEsIyy|}+}^ifokN<OOPQW[[HacBf!knl>rtux:y3Pl_X+z[NSW1YZ[`nou[ {rPga\J~Q\hcfenq>y}nPR:\Sg|p5rL+[1_`;NS[Kb1gkrs.zkRQSjT[c9j} VShT[1\]Oab2myyB}M~Frt/1KlNOOEQAS_bgAlncs&~SY[m]y.~|~XqQSO\%fwzQ_eoikmndov}]uQR@bffn^}rfRSsY^_U`dPQR SGSSTFU1UVhYY<Z[\\\\^^^p_bbbcwcff-fvf~ghj5jlm	nXn<q&qgquw]xyeyyz{|9}I]<Tsaf~
NNNWNQpRW4XX"[8^`dagVgDmrsuczr 1VWbikqT~wrU;\8OOOU Z[[_Na/ceKfhixmm3uuw^yy3}:2NNRuXX\u=\N
cm%{bVS9TW%^c4lpaw|pBT^t]i]pegncIgiozd[N,p]u/fQ6RRY_'`b?eteftfhhcknrruv|VXRYez-^`befgwMzM|>~
d_xRbcBdb-z{v}INHQCS`S[\\]&bGbdh4hlEmmg\oNq}qez{}J~z9nxwMRU8o6qhQyU~|LVQX\cffZiruuyVyy| }D}4;a PuRSS	PUXOY=r[d\S``\cc?ccdef]iioqNuvz|}}aIXlpmPXa5 OtPGRsSo`Ic_g,nO^\e}RSvQcX[k[
\dQg\NY*YplQ>UXY`Sbg5Ui@(SOX[\/^_ `Ka4bfln .NS'Y,{Ln'pSSDU[Xbbblo"t8o8QSSFOTjY1]zh7rH=j9NXSVfWbceNkm[npwz{}=[VX>_efjk7u$Pw0W_e`zf`luznE{\uzQ{yz6Z@w-NN[_b<fglkw;Nj&p*sWNFQQU[^3^^_5_k__acfgnoRr:u:wt9xvwRWcvglss%mXiiuZXhciCO,og&}T?ipojWX,[,}*r
TNNO\PuPCRHT$X[^^^^_`b:cch@lxyz}GD-lXdduenv{inT_dMDxQkX)YU\^m~u[pOko0uNQT5XWXY`\_e\g!n{vM%x:xR^WtY`PZQQQ RUTXXXWY[\]`b-dqgChhhvmonmopqS_uwyI{T{R{|q}0RciFv-0PRTX\admwzS\?S__myrcwy{krhajQz4iJ\[IpxVo\`felZAQTfHYQMNQXpzcKbi~wuWS`i]lN<\_Sy^esNeQY?\NY_oyby[q+sqt^_{cdq|CN^KNWV`o}3]bdwgl>m6t4xFZuO^bcWeogvLr)MPWZhsidqrXjyw)/OeRZSbgl}v{|6f or~Q{rx{H{ja^Qu`ukQbnzvOpbO{zVYX4O$RJSSS^,deg>lNlHrrsTuA~,{iq=cifjuvxC*SQS&TY^|_`Ibybbekluvxy}w^j8|P>\_gk5t	w;gz9Suf_<__buF{<ghYZ}~v,Oj_j7lothyhUy^cuy(-Tl_e\mp;OetNNW+YfZ[Q^^`vbweenfnm6r&{P\tDOdfkaj\SizWOoR_E^gyym_UblNirR;TtVXanbqnY||}e^NuOuQ@Xc^s^
_g&N=[s|PXVvx%Rw{OP	YGr{}MOR)Z_OWUcik+uBzRXUa
bfk?|#POSFT1XIY[\\)]^bgc>eegllp2x+~*JlONNPVRJWY=^__?bfgghQ!} ~2 T,SP\SXd4ggrfwFzRlk XL^TY,gQvidxTWY'fgkTiU^ggR]hNOSb+glOm~Nban+osT*gE]{\[JnzY|l wR"Y!q_rw'aiZZQT}TfvY]rnMQh}}bxd!jY_[ksv}2Q(gvbgR$\;b~|OU`}S_NQY:r6%_wSy_}3VgS	aalRv8/UQO*QRS[}^`ac	gggnm6s7s1uPyJYNYON?P|^Y[^ccdfJiimnq(uz I!
e}
~ab2kltmmeg<ma}=jqNuSP]ko-)RTe\Nghttux_szNceuRAmn	tYukx|zOnae\NNP!NQ[ehmsBvwz|o|uR}+PSgmq3t*W`tAXm/}^N6OOQR]`s<y4
bftkRRp^K`a#oIq>|}o#,BTojp2RAZ^_g|iijmobrr{~KmQy2-PTqjk`gNNkh i~nxU  _NN*N1N6N<N?NBNVNXNNNkN_NNNNNNNNNNNNNNNNNN	OZO0O[O]OWOGOvOOOO{OiOpOOoOOOQOOOOOOOOOOP(PP*P%PPOO!P)P,POOPPCPGPgUPPPHPZPVPlPxPPPPPPPPPPPPPPPPPP	QQQQQQQ!Q:Q7Q<Q;Q?Q@QRQLQTQbQziQjQnQQQVQQQQQQQQQQQQQQQQQQQQQQQUQQQQQRRRR'R*R.R3R9RORDRKRLR^RTRjRtRiRsRR}RRRRqRRRRRRRRRRRRRRRRRRSS8uSSSSS#S/S1S3S8S@SFSESNISMSQ^SiSnSY{SwSSSSSSSSSS|SfqSSSST=T@T,T-T<T.T6T)TTNTTuTT_TqTwTpTT{TTvTTTTTTTTTTTTTTTTTTTTUUTTTTT9U@UcULU.U\UEUVUWU8U3U]UUUTUU{U~UUUU|UUUUUUUUUUUUVUVUUVUNVPVq4V6V2V8VkVdV/VlVjVVVVVVVVVVVVVVVVVVVVVVV WVW	WWWWWWWUW&W7W8WNW;W@WOWiWWWaWWWWWWWWWWWWWW
XWWXXXrX!XbXKXpXkRX=XyXXXXXXXXXXXXXXXXXXXXXXXXXXY
YYYh%Y,Y-Y2Y8Y>YzUYPYNYZYXYbY`YgYlYiYxYYY^OOYYYYYYYY%ZZZZ	ZZ@ZlZIZ5Z6ZbZjZZZZZZZZZZZZZZ[[[2[Z*[6[>[C[E[@[Q[U[Z[[[e[i[p[s[u[x[ez[[[[[[[[[[[[[[[[[[[\\\\\ \"\(\8\9\A\F\N\S\P\O\q[l\n\bNv\y\\\\Y\\\\\\\\\\\\\]\]]]\]]]]]"]]]]L]R]N]K]l]s]v]]]]]]]]]]]]]]]]]]]]]^^^^^6^7^D^C^@^N^W^T^_^b^d^G^u^v^z^^^^^^^^^^^^^^^^^^^^^^^^_	_]_\____)_-_8_A_H_L_N_/_Q_V_W_Y_a_m_s_w_____________________`_!`````)``1```+`&``:`Z`A`j`w`_`J`F`M`c`C`d`B`l`k`Y``````````````````_````Maaa`` a``a!a``aaGa>a(a'aJa?a<a,a4a=aBaDasawaXaYaZakataoaeaqa_a]aSauaaaaaaaaaaaaaaaaaaaayaaaaaaaaaa bb	bbbbbb!b*b.b0b2b3bAbNb^bcb[b`bhb|bbb~bbbbbbbbbbbbbdbbbbbbbbcbb'cccbbPc>cMcdOcccccvcccccckciccccccccccd4ddd&d6ded(ddgdodvdNd*eddddddddddddddd	ddbdd,edddd edeee$e#e+e4e5e7e6e8eKuHeVeUeMeXe^e]erexeeeeeeeeeeeeeeeeeerg
ffesg5f6f4ffOfDfIfAf^f]fdfgfhf_fbfpffffffffffffffffff?ffffffggg&g'g8.g?g6gAg8g7gFg^g`gYgcgdggpgg|gjggggggggggggggggggggggjhFh)h@hMh2hNhh+hYhchwhhhhhhhhhjhthhhhih~hihih"i&ihihhhh6iiihh%ihhh(i*ii#i!ihyiwi\ixikiTi~ini9iti=iYi0iai^i]iijiiiiiiiii[iiiii.jiiiiiiijji
kiiijijiji
jjj#jjDjjrj6jxjGjbjYjfjHj8j"jjjjjjjjjjjjjjjjjjjjjkjkk1k8k7kv9kGkCkIkPkYkTk[k_kakxkykkkkkkkkkkkkkkkkkkkkkkkkkkllll$l#l^lUlbljllllll~lhlsllllllllllllllllllmM6m+m=m8mm5m3mmmcmmdmZmymYmmmommn
nmmmmmmmmmmmmmmmmm-nnn.nnrn_n>n#nkn+nvnMnnCn:nNn$nnn8nnnnnnnnnnnnnnnnnAooLpnnn?on1on2on>oonozoxooooo[oomoo|oXoooofoooooooooooooooo	ppopppopptoppp0p>p2pQpcppppppppppppp	qpqqeqUqqfqbqLqVqlqqqqqqqqqqqqqqqqqqqqqrrr(r-r,r0r2r;r<r?r@rFrKrXrtr~rrrrrrrrrrrrrrrrrrrrPs
ssss4s/s)s%s>sNsOsWsjshspsxsus{szsssssssssttot%ts2t:tUt?t_tYtAt\titptctjtvt~tttttttsttttttttttuuuuuuuuu&u,u<uDuMuJuIu[uFuZuiudugukumuxuvuuutuuuuuuuuuuuuuuuuuuuuuuuuuuvuuuuvv	vv'v v!v"v$v4v0v;vGvHvFv\vXvavbvhvivjvgvlvpvrvvvxv|vvvvvvvvvvvvvvvvvvvvvvvv/vwww)w$ww%w&ww7w8wGwZwhwkw[weww~wywwwwwwwwwwwwwwwwwwwwwxx&y x*yExxtxx|xxxxxxxxxxxxxxxxxxxxyyyy,y+y@y`yWy_yZyUySyzyyyyyKyyyyyyyyyyyzzzz zzy1z;z>z7zCzWzIzazbzizpzyz}zzzzzzzzzzzzzzzzzzzzzzzzzzz{{
{{3{{{{5{({6{P{z{{M{{L{E{u{e{t{g{p{q{l{n{{{{{{{{{{]{{{{{{{{{{||{{`| |||{{||{#|'|*||7|+|=|L|C|T|O|@|P|X|_|d|V|e|l|u||||||||||||||||||||||;|||||}}}}
}E}K}.}2}?}5}F}s}V}N}r}h}n}O}c}}}[}}}}}}}}}}}}=~}}}}}}}}}}}}}~
~#~!~~1~~	~~"~F~f~;~5~9~C~7~2~:~g~]~V~^~Y~Z~y~j~i~|~{~~}}~~~~~~~~~~~~~8:ELMNPQUTX_`higxq!(?;JFRXZ_bhsrpvy}Q	)#/KF>SQqneft_
)+83@YX]Z_dbhjk.qwx~	5421@9PE/+#|su" 8m*<ZwkniF,oy5b!,@cXHAKUmw~
"0?MUNT_gq# 	
4?7;%)`_xLNtWhnYScj"!169';DBRY^bk~u}r
C%*+AD;68L`^fdmjotw~%6A[RFH|mlb 3&+>(ALONIV[Zk_lot}:A?HLNPUblxz|b
Ngmqs	B504JGILPHYd`*cUvr|
&3;9EB>LIFNW\bcd!'659OPQRI>VX^hovr}Hb20JVXceisr,^WEIdH?KPZD."#:5;\`|nV6+5!:ARD[`b^j)puw}Z|~o!(./BLOKw\^]_frlM$*09=>DFHBI\`dfhRkqy|zOz8$!7=FOKkopqts	!$ ,.=>BIEPKQRLU+7EB@C>UM[W_bedikj"#%'()*./2DCOMNQXt:	
.%$!0G2F>Z`gvx	*&#DA?>FH]^dQPYrozuy}av!,>JRTc_`afgljwrv/XiYdtQq,$,D          !   $    %   (    )    *    +    ,    -    .   0  	 :   <   ?   A   [    \    ]    ^    _    `    a   {    |    }    ~                                                                                                                                ? 8   9  I   J B                                                #           - !   "  4  :  U   V  X   Y   Z   [  ]  `  b   c   d   e  g   h  m  o   p   q  s  u   v  }   ~                                                        o p  t   u   v  z   {  ~                                                      
    1 % Y   Z  a %                ,                                  	          
            @   A 	 K  ` 	 j  n  p   q b                             	                      0  M X  
     	                          $   %  (   )  0  @  Y  ^   ` 
            		   	 5 :	   	;	   <	   =	   	>	  A	  	I	  M	   	N	  P	   Q	  X	 	 b	  d	  f	 	 p	   q	   r	  	   		  	  	  	  	  	   	  	   	   		  	  		  		  	   	   		   	  	  	  	 	 	  	  	  	   	   	   	   
  	
   
  
  
  *
  2
  5
  8
  <
   	>
  A
  G
  K
  Q
   Y
  ^
   f
 	 p
  r
  u
   
  	
   
  
  
  
  
  
  
   
   	
  
  
  	
   	
  
   
   
  
  
 	 
   
   
   
     	        *  2  5  <   =   	>   ?   	@   A  	G  	K  M   V   	W   \  _  b  f 	 p   q   r                           	     	  	  	        	    	               	        *  =   >  	A  F  J  U  X  `  b  f 	 x           	         	         	      	     	  	    	          	      	       ( ;  =   	>  A  	F  	J  M   N   O   T  	W   X  _  b  f 	 p  y   z  	                	       	   	 	      / 1   2  4  ?   @  F   G  O   P 	 Z                                                   	                         	 * 	 4   5   6   7   8   9   :   ;   <   =   	>  @  I # q  	             
  #                  * 	+  -  	1   2  	8   9  	;  =  ?   @ 	 J  P  	V  X  Z  ^  a   	b  e  	g  n  q  u     	    	        	    	 	        %        *        KJ  P  X   Z  ` (                  8    B ]  `  i     	  U        km  o              J                 2  5  @  R  `  n  r   3   	     	     	   
                  	  	               	   " C   D 3      !        E       	#  '  	)  	0  2   	3  9  @   D  F 	 P  p   +    	     !      	         4 	U   V   	W   X  `   	a   b   	c  e  	m  s 	     	  	          
      	    . 4   	5   6  	;   <   	=  B   	C  E  P 	 Z  a 	 k  t    	     	     	    	        	  +    	     	     	     	      # 	$  ,  	4  6  ;  @ 	 M  P 	 Z  x  ~             	            	       	       + , > k  x   y   z  }   ~   $  9                    u     % H  P   Q   R   S   T   U   V   W   Y   [   ]   _                                                                                                      
                                         (    )    *   /    0   9    :    ;   ?   A   D    E    F    G  
 R    S    T    U  	 _    `   f  	 p    q    t   z   }    ~          	                     
       
       !  !   !  !   !  
!   !  !  !  !   !   !   !  !   !  !  $!   %!   &!   '!   (!   )!   *!  ,!  .!   /!   0!  2!   3!   4!   5!  9!   :!  <!  >!  @!  E!   F!  J!   K!   L!  N!   O!   P!  `! " !  !  !   !  !  !  !  !  !   !  !   !  !   !  !   !  !  !  !   !   !   !  !  #  #   	#   
#   #   #   #  "#  )#   *#   +# P |#   }#  #  # ' #  # D @$ 
 `$ ; $ M $   %  %   %  %   % 5 %   & n o&   p&  h'   i'   j'   k'   l'   m'   n'   o'   p'   q'   r'   s'   t'   u'   v'  ' + '  '   '   '  '   '   '   '   '   '   '   '   '   '   '   (   )  )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   )   ) > )   )   )   )   )  )   )   )  + / 0+  E+  G+  M+ & v+  + ! +  +  +   , . 0, . `,  q,   r,  t,   u,  w,  |,  ~, e ,   ,  ,  ,  ,  ,  ,   ,   - % '-   --   0- 7 o-   p-   -   -  -  -  -  -  -  -  -  -  -   .  .   .   .   .   .  	.   
.   .   .   .   .  .   .  .   .   .   .   .   .   !.   ".   #.   $.   %.   &.   '.   (.   ).   *.  /.   0. 	 :.  <.  @.   A.   B.   C.  .  . X  /  /   0   0  0   0   0   0   0   	0   
0   0   0   0   0   0   0   0   0  0   0   0   0   0   0   0   0   0   0   0   0   !0  *0  	.0  00   10  60  80  ;0   <0   =0   >0  A0 U 0  0  0  0   0   0 Y 0   0  0   1 ) 11 ] 1  1  1 	 1  1 # 1   2   2 	 *2  H2  P2   Q2  `2  2 	 2 & 2  2 >  3   4 M ?  N Q       v 6  '                	 *  @ - n   o   
p  s   t 	 ~             E  	             "  0  2 = p   q  y                                                	#  %  	'   (  0  6  8   9   @ 3 t  	   1 	       	                  	 
  &  .  0  G 
 	R  _   `    	    .    	    	     	        	              	     ( )  	/  1  	3  5  @  C   D  L   	M   P 	 \  `  p   q  w  z   	{   |   	}   ~ 1                                  
 	     	         	        	       (  0 " S   T  [   \  `  p O  " 	     	     	     	       	   +   0     mp i             	 )   *  8  >   @  C  F k    j>   ?   P ?  5                          0   1  3  5   6   7   8   9   :   ;   <   =   >   ?   @   A   B   C   D   E  G   H   I  M  P  T  X   Y   Z   [   \   ]   ^   _  b   c   d  h   i   j  p  v               	   
               	       !  ;   <   =   >   ?   @   A  [   \   ]   ^   _   `   a   b   c   d  f 	 p   q ,                                          (  <  ?  P   z   , 7 @4 u y      ,    0        - A  B J  P% v    #      O PM 	 # #  ' 03 o   6@ `     
+ 7 <  ? W  X ` w y       	 	 	   	 ?	  	7 	 	 	 	-  
  
 
 
 
 
 
 8
 ?
  @
 P
 `
 }
 
  
 
 
 
  
 
 
 
  5 9 @ X ` x     H 2 2  ` 	     	  4 8 G R f	  	  , 	  	       	   # ' 	,  - 6	 @ P" s  t v   	  / 	  	      	            	, / 	2 4  	5  6 8 >       	   .   	  	   	    * 2 5 <  =  	> @  	A 	G 	K P  	W  ] 	b f p  4 	5 8 	@ B 	E  F  G K P	 [  ]  / 	  	    	  	        	 . 	  	  	       / 	0 3 	; =  	>  ? A D  P	 ` *   	    	  	    	    	  " 	&  ' 0	 : < ?  ? 	        	 	 ' 3 	9  :  ; ? G  P  Q 	W Y \'   	     8   
$ 	/  0 8 	>  ?  @  A P	 Z p r  	   	   	      % 1 :  < ? F  G  P	    $n p$ $  0. DF h8@j `j	 nj j j j   k/ 0k 7k <k @k Dk  Ek  Pk	 [k ck }k  oD Po  	Qo- o o o  p  p j p  	          & ); 	e g j 	m s {     :  A B E   V `    4 N V h              
        8 ; @ F  J R l       " < V p                 5  6 O  P V o  p               1   6 7 ;1 m u  v           # &      C D P	 ^    ! $  '  )	 4 9  ;  B  G  I  K  M Q T  W  Y  [  ]  _  a d  g l t y ~  	       + 0c    $    0; p<  + @ P `        s T   7 P	 `'    . @ P        4@  0      _                 	 /tOc@
Dbj2	(ot{f0z?P2aDu     #                          not                        if                        elif                      else                       end                        for                      next                       goto                      	labelsel                 
keychk                    echo                      qr                        ask                       input                     filesel                 dirsel                   set                       strsplit              "   strrep                    chk                      allow                    cp                    D mv                     $D inject                    fill                      fdummy                    rm                        mkdir                     imgmount                  imgumount                  find                       findnot                   !fget                     "fset                     #sha                       $shaget                    %dumptxt                  &fixcmac                   'verify                    (decrypt                   )encrypt                   *buildcia                 +extrcode                  ,cmprcode                  -sdump                   @ .applyips                  /applybps                  0applybpm                  1textview                  2isdir                     3exist                     4boot                      5switchsd                  6nextemu                    7reboot                     8poweroff                   9bkpt                       _:/rw/sys/SecureInfo__ _:/private/movable.sed  :/sys/log/inspect.log  :/sys/log/product.log /                                                                                                                                                                                 @                     $$,,44<<DDLLTT\\ddlltt||$$,,44<<DDLLTT\\ddlltt||$$,,44<<DDLLTT\\ddlltt||$$,,44<<DDLLTT\\ddlltt||              C                               C                               C.UTF-8                         C                               C                               C                               C                               x@    *,$,$,$,$,$,$,$,$,$,   UTF-8                           UTF-8                                P        @0                                                                                                                                                               34m    ~~~~~~~~~~~~~~~~COMPRESSION (00)Offset     64710Block       5210REATTACHMENT    Offset     69920Block        1E0~~~~~~~~~~~~~~~~      	  
    (     (  (	  (  (  (  
(  (    O<@     0!         !O0_o0p   Nm P-@MP 
O*    h*~~~~~~~~~~~~~~~~COMPRESSION (00)Offset     69B00Block        F00REATTACHMENT    Offset     6AA00Block       1CF0~~~~~~~~~~~~~~~~O-h8bAP 3Q@b6`[~p p^pn@D XL \  @   :   P/   6   P/  0& &&  R/     H0H !"@      R  ( ,,  1 S1/         0@-0 0002  R @     Q    \   tt R    dC2 S   80   "0         O- p`@h0 0   \  
QU E   03/  P  
@Tp`  @\0 *!0 S  
 S  
  S  
? 0p  10 S0  
0C S030# / @-   P  
 P  
  D0# R 00!(0 !0!     p  P @o! /A- `@ PP  
 P0$,tp p  0 3(1 2~ 1  @G- pP @P  
z`#`3p0u f  Y     20 0 6 * 1|0	1  @p@- `@q  P    LtP48$J 0@ 0 61&*0 1p  p @ 0 /A-P=p@0 `  `p0   :0PU0 ?0 00 
  R    p0  @p@-`0P   R @1@  0 P ?P`   p P    :0 00 R 0>0 00#20:   @p@-`x0P   R @1@ 0  P`F`   p  00 U0 0 0 0 @0@= S  ?  -" lM#30@000013s08000000 0$0!4s0q8(0,0004080<0@0D0HLPTX\`dd0-  zlMb@-0 	  0# @-0   d@- *  +  , @  O-`$1)0M@ 0 P  U  ` Y  	   X
  ) 0  [* )
  p0p0   0     Z	    [       
p XP H R #  [  
 m  i    @-$M0  00      000  $@-00 0    0@-00 0    0O-3  #10 RTM	  
   R  
! 00!1@"@*      4 0   00 \$P3/  +B?  "41A Q@ b A   Q   4   paBoOv`t@    Z 0   ?B s   
 S??  P  c c p  
 P@
V 0P H@ 0?T P(@p`  0 @        `  0@-  }aqAP  U  _oPe U  (3:3 0UP3:3:39*" 8 0" 8 0 0B:
  2@-PIM 0S#H  2  :0  00I@T*s0	 S   Hd p  @!0 @A 0  S00 S-.. A5p$p% @b Q0 $   @ ? 0?C 0?"$   @000 0 0  0   0C @@@b $ 0 @43?0000 0 0a@ * O d 0A S@B  T0@  @   t@ $  0C0	S* 3 @ 0     0  (!(1@-L1 1  SS qq  0*0* 0  Q 3  S
 O   ///?;0?0?/00?D0 ,<0  2   R
03/ <    0 L  @-D00? 00?P?0 /?0// 0/  /?  UUUU8 A-2  4F ?    
$&  6`XXL 	
 "`$"!$!XU5% 0509C 0A?5%5%5%p5%% 5*p5 & \5?  "#@5  @45 0% @T 1+@    L, F B4 0 0 f0   0 0g  ((4d $T2<2 p4,f$ U& RC% O$ LC Ii F C' @& =$ :S% 7&  p& 0$  $ +%   % % "3 R
  " 3DBDJ0@ 20800 0@2@:D3D#D2D:(38 2A5  $$  $ ]  s b$A(,04e8<@D$H$\`dhlptx$TP$$  R Hb %ee`e`e%( %$"@$%R (%,0O4P8<%"@%  D%H\`dhlptx%%A5E@ T ! !    $ (, A5 ,  
P!h$]*+l$]*+$X!" $P!h%K*l%  x$x% p$-.$p*%                               0 0     @ @           0  @   0  p        Q >              0@    @ R         A pGB:
 A-LPL`LpA T; S	   S  / 21  S  
 3/A     P @-l0l  S Z @!   TPQ N0F@I T   0 2   &0P/  !5P*:p
-  
 \  : T T   0 @ P P< 8< 8< 8< 8< 8< 8< 8< 8:/x@  p      R6  0 ?  B0A- ,0p`P@0 Sp`P@ 0   
@0C`#`0LPP S0   R0B00 L Q  R 0B/00 L Q/ 0B~~~~~~~~~~~~~~~~COMPRESSION (00)Offset     6C6F0Block        310REATTACHMENT    Offset     6CA00Block         10~~~~~~~~~~~~~~~~          ~~~~~~~~~~~~~~~~COMPRESSION (00)Offset     6CA10Block        FF0REATTACHMENT    Offset     6DA00Block        120~~~~~~~~~~~~~~~~ $,4$  (<  $<  88  $$<  < 88   8$$  <  $$$  $8  $<$$$  8$8$$8        0($$(0  < <  <  < <          x          J z xJx,.@D @T    @      @        (             %,4<DMV`ky        ~~~~~~~~~~~~~~~~COMPRESSION (00)Offset     6DB20Block        EE0REATTACHMENT    Offset     6EA00Block       C400~~~~~~~~~~~~~~~~README_internal.md                                                                                  0000644 0000000 0000000 00000064750 00000000000 012374  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        GodMode9 is a full access file browser for the Nintendo 3DS console, giving you access to your SD card, to the FAT partitions inside your SysNAND and EmuNAND and to basically anything else. Among other functionality (see below), you can copy, delete, rename files and create folders.


## Warning
This is powerful stuff, it provides you with the means to do basically any thinkable modification to any system data available on the 3DS console. However, precautions are taken so you don't accidentally damage the data of your console. The write permissions system protects you by providing warnings and forces you to enter an unlock sequence for enabling write permissions. It is not possible to overwrite or modify any important stuff without such unlock sequences and it is not possible to accidentally unlock something.

As always, be smart, keep backups, just to be safe.


## Quick start guide
The recommended bootloader for use with GodMode9 is fastboot3DS. There are known issues for some users when using the standard setup based on boot9strap and Luma3DS. If you insist on using that setup follow the instructions found in a certain guide. Here's how to set up GodMode9 (and fastboot3DS) up quickly:
* Download OpenFirmInstaller and follow the quick setup instructions found there.
* Copy the `gm9` folder from the release archive to your SD card. Then, get good versions of `seeddb.bin` and `encTitleKeys.bin` from somewhere (don't ask me!) and put these two files into `sd:/gm9/support` (optional but recommended for full functionality).
* It is also recommended you setup the RTC clock if you're running GodMode9 for the first time. Find the option via HOME button -> `More...`. Also keep in mind that you should fix your system OS clock afterwards. While you're in the `More...` menu, you may also set screen brightness to a fixed value of your choosing and manually calibrate the touch screen (*not recommended* - try the automatic configuration first).
* Helpful hint #1: Go to https://3ds.guide/godmode9-usage for step by steps on doing some common tasks in GodMode9. Especially users coming from Decrypt9WIP or Hourglass9 may find this to be helpful.
* Helpful hint #2: Never unlock the red write permission level unless you know exactly what you're doing. You will notice that prompt when it comes up, it features a completely red screen. It is recommended you stay on the yellow permission level or below at all times to be completely safe. Also read more on the write permissions system below.

You may now run GodMode9 via holding the X Button (or any other button you chose) at startup. See below for a list of stuff you can do with it.


## Buttons in GodMode9
GodMode9 is designed to be intuitive, buttons leading to the results you'd expect. However, some stuff may not be obvious at first glance. So, here's a quick, incomplete rundown of what each button / button combo does.
* <A> button: The <A> button is the 'confirm' / 'choose' button. It confirms prompts and selects entries in menus. In the main file view, it pulls up a submenu for files and opens directories (use <R+A> on directories for a submenu, also including the invaluable title search). In the hexviewer, <A> switches into edit mode.
* <B> button: The <B> button is the 'cancel' / 'return' button. Use it to leave menus without action, hold it on file operations to cancel said file operations.
* <X> button: In the main file view, the <X> button deletes (marked) files. With <R+X> files are renamed.
* <Y> button: In the main file view, the <Y> button copies and pastes files. With <R+Y> you can create folders and dummy files.
* <L> button: The <L> button is the 'mark' button. Use it with <LEFT> / <RIGHT> to mark / unmark all files in a folder, hold it and use <UP> / <DOWN> to select multiple files.
* <R> button: The <R> button is the 'switch' button. It switches buttons to their secondary function. Notable exceptions are <R+L> for a screenshot (works almost anywhere), <R+LEFT> / <R+RIGHT> to switch panes and <R+DOWN> to reload the file listing.
* <START> button: Use the <START> button to reboot from GodMode9. Use <R+START> to poweroff your 3DS.
* <SELECT> button: The <SELECT> button clears or restores the clipboard (depending on if it's empty or not).
* <HOME> button: The <HOME> button enters the HOME menu, including the scripts / payloads submenus, options for formatting the SD, setting the RTC, and more. The <POWER> button is an alternative way of entering the HOME menu.
* <R+UP> combo: This little known keycombo, when held at startup, pauses the GodMode9 boot so that you can stare at the splash screen for a little longer.
* <R+LEFT> combo: If you have installed GodMode9 as your bootloader, this keycombo enters the bootmenu. Hold on startup! If you built GodMode9 as SALTMODE and have it as a bootloader, the keycombo is simply the <START> button.


## Bootloader mode
Same as boot9strap or fastboot3ds, GodMode9 can be installed to the system FIRM partition ('FIRM0'). When executed from a FIRM partition, GodMode9 will default to bootloader mode and try to boot, in order, `FIRM from FCRAM` (see https://github.com/d0k3/A9NC/releases), `0:/bootonce.firm` (will be deleted on a successful boot), `0:/boot.firm`, `1:/boot.firm`. In bootloader mode, hold R+LEFT on boot to enter the boot menu. *Installing GodMode9 to a FIRM partition is only recommended for developers and will overwrite boot9strap or any other bootloader you have installed in there*.


## Write permissions system
GodMode9 provides a write permissions system, which will protect you from accidentally damaging your system, losing data and/or modifying important system data. To unlock a write permission, an unlock sequence must be entered. This is not possible by accident. The write permission system is based on colors and the top bar on the top screen will change color according to the current write permission level. No permission above the yellow level can be unlocked on SafeMode9.
* Green: Modification to system files is not possible on this permission level. You can't edit or delete savegames and installed data. However, keep in mind that any non-system related or custom stuff on your SD card is not protected.
* Yellow: You can modify system files on this permission level. Data that is unique to your console and cannot be gotten from anywhere else is still not modifiable. Any damages you introduce can be fixed in software, but loss of savegames and installed data is possible if you are not careful. A NAND backup is highly recommended starting at this level.
* Orange: This is similar to the yellow permission level, but, in addition, allows edits to console unique data. Any damages you introduce are still fixable in software, but if you play around with this, having a NAND backup is an absolute requirement.
* Red: The highest regular permission level. There are no limits to system file edits, and if you are not careful enough, you can brick your console and/or remove your A9LH/B9S installation. Bricks on this level may only be fixable in hardware. If you don't have a NAND backup at this point, you seem to have a deathwish for your console.
* Blue: This permission level is reserved for edits to system memory. While, most likely, nothing bad at all will happen, consequences of edits can be unforeseen. There is even a (albeit very small) chance of bricking your console, maybe even permanently. Tread with caution on this level.


## Support files
For certain functionality, GodMode9 may need 'support files'. Support files should be placed into either `0:/gm9/support` or `1:/gm9/support`. Support files contain additional information that is required in decryption operations. A list of support files, and what they do, is found below. Please don't ask for support files - find them yourself.
* `aeskeydb.bin`: This should contain 0x25keyX, 0x18keyX and 0x1BkeyX to enable decryption of 7x / Secure3 / Secure4 encrypted NCCH files, 0x11key95 / 0x11key96 for FIRM decrypt support and 0x11keyOTP / 0x11keyIVOTP for 'secret' sector 0x96 crypto support. Entrypoints other than boot9strap or fastboot3ds may require a aeskeydb.bin file. A known perfect `aeskeydb.bin` can be found somewhere on the net, is exactly 1024 byte big and has an MD5 of A5B28945A7C051D7A0CD18AF0E580D1B. Have fun hunting!
* `seeddb.bin`: This file is required to decrypt and mount seed encrypted NCCHs and CIAs if the seed in question is not installed to your NAND. Note that your seeddb.bin must also contain the seed for the specific game you need to decrypt.
* `encTitleKeys.bin` / `decTitleKeys.bin`: These files are optional and provide titlekeys, which are required to create updatable CIAs from NCCH / NCSD files. CIAs created without these files will still work, but won't be updatable from eShop.


## Drives in GodMode9
GodMode9 provides access to system data via drives, a listing of what each drive contains and additional info follows below. Some of these drives are removable (such as drive `7:`), some will only turn up if they are available (drive `8:` and everything associated with EmuNAND, f.e.). Information on the 3DS console file system is also found on 3Dbrew.org.
* `0: SDCARD`: The SD card currently inserted into the SD card slot. The `0:/Nintendo 3DS` folder contains software installs and extdata and is specially protected via the write permission system. The SD card can be unmounted from the root directory via the R+B buttons, otherwise the SD card is always available.
* `1: SYSNAND CTRNAND`: The CTRNAND partition on SysNAND. This contains your 3DS console's operating system and system software installs. Data in here is protected by the write permissions system.
* `2: SYSNAND TWLN`: The TWLN partition on SysNAND. This contains your 3DS console's TWL mode operating system and system software installs. Data in here is protected by the write permissions system.
* `3: SYSNAND TWLP`: The TWLP partition on SysNAND. This contains photos taken while in TWL mode.
* `A: SYSNAND SD`: This drive is used for special access to data on your SD card. It actually links to a subfolder inside `0:/Nintendo 3DS` and contains software and extdata installed to SD from SysNAND. Crypto in this folder is handled only when accessed via the `A:` drive (not from `0:`). This is protected by the write permissions system.
* `S: SYSNAND VIRTUAL`: This drive provides access to all partitions of the SysNAND, some of them critical for base system functionality. This is protected by the write permissions system, but, when unlocked, modifications can brick the system.
* `4: EMUNAND CTRNAND`: Same as `1:`, but handles the CTRNAND on EmuNAND. For multi EmuNAND setups, the currently active EmuNAND partition can be switched via the HOME menu.
* `5: EMUNAND TWLN`: Same as `2`, but handles TWLN on EmuNAND. No write protection here, cause this partition is never used on EmuNAND.
* `6: EMUNAND TWLP`: Same as `3`, but handles TWLP on EmuNAND.
* `B: EMUNAND SD`: Same as `A:`, but handles the `0:/Nintendo 3DS` subfolder associated with EmuNAND. In case of linked NANDs, this is identical with `A:`. This is also protected by the write permissions system.
* `E: EMUNAND VIRTUAL`: Same as `S:`, but handles system partitions on EmuNAND. No bricking risk here as EmuNAND is never critical to system functionality.
* `7: FAT IMAGE / IMGNAND CTRNAND`: This provides access to mounted FAT images. When a NAND image is mounted, it provides access to the mounted NAND image's CTRNAND.
* `8: BONUS DRIVE / IMGNAND TWLN`: This provides access to the bonus drive on SysNAND. The bonus drive can be setup via the HOME menu on 3DS consoles that provide the space for it. When a NAND image is mounted, this provides access to the mounted NAND image's TWLN.
* `9: RAM DRIVE / IMGNAND TWLP`: This provides access to the RAM drive. All data stored inside the RAM drive is temporary and will be wiped after a reboot. When a NAND image is mounted, this provides access to the mounted NAND image's TWLP.
* `I: IMGNAND VIRTUAL`: When a NAND image is mounted, this provides access to the partitions inside the NAND image.
* `C: GAMECART`: This is read-only and provides access to the game cartridge currently inserted into the cart slot. This can be used for dumps of CTR and TWL mode cartridges. Flash cards are supported only to a limited extent.
* `G: GAME IMAGE`: CIA/NCSD/NCCH/EXEFS/ROMFS/FIRM images can be accessed via this drive when mounted. This is read-only.
* `K: AESKEYDB IMAGE`: An `aeskeydb.bin` image can be mounted and accessed via this drive. The drive shows all keys inside the aeskeydb.bin. This is read-only.
* `T: TICKET.DB IMAGE`: Ticket database files can be mounted and accessed via this drive. This provides easy and quick access to all tickets inside the `ticket.db`. This is read-only.
* `M: MEMORY VIRTUAL`: This provides access to various memory regions. This is protected by a special write permission, and caution is advised when doing modifications inside this drive. This drive also gives access to `boot9.bin`, `boot11.bin` (boot9strap only) and `otp.mem` (sighaxed systems only).
* `V: VRAM VIRTUAL`: This drive resides in the first VRAM bank and contains files essential to GodMode9. The font (in PBM format), the splash logo (in PNG format) and the readme file are found there, as well as any file that is provided inside the `data` folder at build time. This is read-only.
* `Z: LAST SEARCH`: After a search operation, search results are found inside this drive. The drive can be accessed at a later point to return to the former search results.


## What you can do with GodMode9
With the possibilites GodMode9 provides, not everything may be obvious at first glance. In short, GodMode9 includes improved versions of basically everything that Decrypt9 has, and more. Any kind of dumps and injections are handled via standard copy operations and more specific operations are found inside the A button menu. The A button menu also works for batch operations when multiple files are selected. For your convenience a (incomplete!) list of what GodMode9 can do follows below.

### Basic functionality
* Manage files on all your data storages: You wouldn't have expected this, right? Included are all standard file operations such as copy, delete, rename files and create folders. Use the L button to mark multiple files and apply file operations to multiple files at once.
* Make screenshots: Press R+L anywhere. Screenshots are stored in PNG format.
* Use multiple panes: Press R+left|right. This enables you to stay in one location in the first pane and open another in the second pane.
* Search drives and folders: Just press R+A on the drive / folder you want to search.
* Compare and verify files: Press the A button on the first file, select `Calculate SHA-256`. Do the same for the second file. If the two files are identical, you will get a message about them being identical. On the SDCARD drive (`0:`) you can also write a SHA file, so you can check for any modifications at a later point.
* Hexview and hexedit any file: Press the A button on a file and select `Show in Hexeditor`. A button again enables edit mode, hold the A button and press arrow buttons to edit bytes. You will get an additional confirmation prompt to take over changes. Take note that for certain files, write permissions can't be enabled.
* View text files in a text viewer: Press the A button on a file and select `Show in Textviewer` (only shows up for actual text files). You can enable wordwrapped mode via R+Y, and navigate around the file via R+X and the dpad.
* Chainload FIRM payloads: Press the A button on a FIRM file, select `FIRM options` -> `Boot FIRM`. Keep in mind you should not run FIRMs from dubious sources and that the write permissions system is no longer in place after booting a payload.
* Chainload FIRM payloads from a neat menu: The `payloads` menu is found inside the HOME button menu. It provides any FIRM found in `0:/gm9/payloads` for quick chainloading. 
* Inject a file to another file: Put exactly one file (the file to be injected from) into the clipboard (via the Y button). Press A on the file to be injected to. There will be an option to inject the first file into it.

### Scripting functionality
* Run .gm9 scripts from anywhere on your SD card: You can run scripts in .gm9 format via the A button menu. .gm9 scripts use a shell-like language and can be edited in any text editor. For an overview of usable commands have a look into the sample scripts included in the release archive. *Don't run scripts from untrusted sources.*
* Run .gm9 scripts via a neat menu: Press the HOME button, select `More...` -> `Scripts...`. Any script you put into `0:/gm9/scripts` (subdirs included) will be found here. Scripts ran via this method won't have the confirmation at the beginning either.

### SD card handling
* Format your SD card / setup an EmuNAND: Press the HOME button, select `More...` -> `SD format menu`. This also allows to setup a RedNAND (single/multi) or GW type EmuNAND on your SD card. You will get a warning prompt and an unlock sequence before any operation starts.
* Handle multiple EmuNANDs: Press the HOME button, select `More...` -> `Switch EmuNAND` to switch between EmuNANDs / RedNANDs. (Only available on multi EmuNAND / RedNAND systems.)
* Run it without an SD card / unmount the SD card: If no SD card is found, you will be offered to run without the SD card. You can also unmount and remount your SD card from the file system root at any point.
* Direct access to SD installed contents: Just take a look inside the `A:`/`B:` drives. On-the-fly-crypto is taken care for, you can access this the same as any other content.
* Set (and use) the RTC clock: For correct modification / creation dates in your file system, you need to setup the RTC clock first. Press the HOME Button and select `More...` to find the option. Keep in mind that modifying the RTC clock means you should also fix system OS time afterwards.

### Game file handling
* List titles installed on your system: Press R+A on a /title dir or a subdir below that. This will also work directly for `CTRNAND`, `TWLN` and `A:`/`B:` drives. This will list all titles installed in the selected location. Works best with the below two features.
* Build CIAs from NCCH / NCSD (.3DS) / TMD (installed contents): Press A on the file you want converted and the option will be shown. Installed contents are found (among others) in `1:/titles/`(SysNAND) and `A:/titles/`(SD installed). Where applicable, you will also be able to generate legit CIAs. Note: this works also from a file search and title listing.
* Dump CXIs / NDS from TMD (installed contents): This works the same as building CIAs, but dumps decrypted CXIs or NDS rom dumps instead. Note: this works also from a file search and title listing.
* Decrypt, encrypt and verify NCCH / NCSD / CIA / BOSS / FIRM images: Options are found inside the A button menu. You will be able to decrypt/encrypt to the standard output directory or (where applicable) in place.
* Decrypt content downloaded from CDN / NUS: Press A on the file you want decrypted. For this to work, you need at least a TMD file (`encTitlekeys.bin` / `decTitlekeys.bin` also required, see _Support files_ below) or a CETK file. Either keep the names provided by CDN / NUS, or rename the downloaded content to `(anything).nus` or `(anything).cdn` and the CETK to `(anything).cetk`.
* Batch mode for the above operations: Just select multiple files of the same type via the L button, then press the A button on one of the selected files.
* Access any file inside NCCH / NCSD / CIA / FIRM / NDS images: Just mount the file via the A button menu and browse to the file you want. For CDN / NUS content, prior decryption is required for full access.
* Rename your NCCH / NCSD / CIA / NDS / GBA files to proper names: Find this feature inside the A button menu. Proper names include title id, game name, product code and region.
* Trim NCCH / NCSD / NDS / FIRM / NAND images: This feature is found inside the A button menu. It allows you to trim excess data from supported file types. *Warning: Excess data may not be empty, bonus drives are stored there for NAND images, NCSD card2 images store savedata there, for FIRMs parts of the A9LH exploit may be stored there*.
* Dump 3DS / NDS / DSi type retail game cartridges: Insert the cartridge and take a look inside the `C:` drive. You may also dump private headers from 3DS game cartridges. The `C:` drive also gives you read/write access to the saves on the cartridges.

### NAND handling
* Directly mount and access NAND dumps or standard FAT images: Just press the A button on these files to get the option. You can only mount NAND dumps from the same console.
* Restore NAND dumps while keeping your A9LH / sighax installation intact: Select `Restore SysNAND (safe)` from inside the A button menu for NAND dumps.
* Restore / dump NAND partitions or even full NANDs: Just take a look into the `S:` (or `E:`/ `I:`) drive. This is done the same as any other file operation.
* Transfer CTRNAND images between systems: Transfer the file located at `S:/ctrnand_full.bin` (or `E:`/ `I:`). On the receiving system, press A, select `CTRNAND Options...`, then `Transfer to NAND`.
* Embed an essential backup right into a NAND dump: This is available in the A button menu for NAND dumps. Essential backups contain NAND header, `movable.sed`, `LocalFriendCodeSeed_B`, `SecureInfo_A`, NAND CID and OTP. If your local SysNAND does not contain an embedded backup, you will be asked to do one at startup. To update the essential SysNAND backup at a later point in time, press A on `S:/nand.bin` and select `NAND image options...` -> `Update embedded backup`.
* Install an AES key database to your NAND: For `aeskeydb.bin` files the option is found in `aeskeydb.bin options` -> `Install aeskeydb.bin`. Only the recommended key database can be installed (see above). With an installed key database, it is possible to run the GodMode9 bootloader completely from NAND.
* Install FIRM files to your NAND: Found inside the A button menu for FIRM files, select `FIRM options` -> `Install FIRM`. Use this with caution - installing an incompatible FIRM file will lead to a brick. The FIRMs signature will automagically be replaced with a sighax signature to ensure compatibility.
* Actually use that extra NAND space: You can setup a bonus drive via the HOME menu, which will be available via drive letter `8:`. (Only available on systems that have the extra space.)
* Fix certain problems on your NANDs: You can fix CMACs for a whole drive (works on `A:`, `B:`, `S:` and `E:`) via an entry in the R+A button menu, or even restore borked NAND headers back to a functional state (inside the A button menu of borked NANDs and available for `S:/nand_hdr.bin`). Recommended only for advanced users!

### System file handling
* Check and fix CMACs (for any file that has them): The option will turn up in the A button menu if it is available for a given file (f.e. system savegames, `ticket.db`, etc...). This can also be done for multiple files at once if they are marked.
* Mount ticket.db files and dump tickets: Mount the file via the A button menu. Tickets are sorted into `eshop` (stuff from eshop), `system` (system tickets), `unknown` (typically empty) and `hidden` (hidden tickets, found via a deeper scan) categories. All tickets displayed are legit, fake tickets are ignored
* Inject any NCCH CXI file into Health & Safety: The option is found inside the A button menu for any NCCH CXI file. NCCH CXIs are found, f.e. inside of CIAs. Keep in mind there is a (system internal) size restriction on H&S injectable apps.
* Inject and dump GBA VC saves: Find the options to do this inside the A button menu for `agbsave.bin` in the `S:` drive. Keep in mind that you need to start the specific GBA game on your console before dumping / injecting the save.
* Dump a copy of boot9, boot11 & your OTP: This works on sighax, via boot9strap only. These files are found inside the `M:` drive and can be copied from there to any other place.

### Support file handling
* Build `decTitleKeys.bin` / `encTitleKeys.bin` / `seeddb.bin`: Press the HOME button, select `More...` -> `Build support files`. `decTitleKeys.bin` / `encTitleKeys.bin` can also be created / merged from tickets, `ticket.db` and merged from other `decTitleKeys.bin` / `encTitleKeys.bin` files via the A button menu.
* Build, mount, decrypt and encrypt `aeskeydb.bin`: AES key databases can be merged from other `aeskeydb.bin` or build from legacy `slot??Key?.bin` files. Just select one or more files, press A on one of them and then select `Build aeskeydb.bin`. Options for mounting, decrypting and encrypting are also found in the A button menu.


## License
You may use this under the terms of the GNU General Public License GPL v2 or under the terms of any later revisions of the GPL. Refer to https://github.com/d0k3/GodMode9/blob/master/license.txt for further information.


## Credits
This tool would not have been possible without the help of numerous people. Thanks go to (in no particular order)...
* Archshift, for providing the base project infrastructure
* Normmatt, for sdmmc.c / sdmmc.h and gamecart code, and for being of great help on countless other occasions
* Cha(N), Kane49, and all other FatFS contributors for FatFS
* Wolfvak for ARM11 code, FIRM binary launcher, exception handlers, PCX code, Makefile and for help on countless other occasions
* SciresM for helping me figure out RomFS and for boot9strap
* SciresM, Myria, Normmatt, TuxSH and hedgeberg for figuring out sighax and giving us access to bootrom
* ihaveamac for first developing the simple CIA generation method and for being of great help in porting it
* wwylele and aspargas2 for documenting and implementing the DISA, DIFF, and BDRI formats
* dratini0 for savefile management, based on TWLSaveTool
* b1l1s for helping me figure out A9LH compatibility
* Gelex and AuroraWright for helping me figure out various things
* stuckpixel for the new 6x10 font and help on various things
* Al3x_10m for help with countless hours of testing and useful advice
* WinterMute for helping me with his vast knowledge on everything gamecart related
* profi200 for always useful advice and helpful hints on various things
* windows-server-2003 for the initial implementation of if-else-goto in .gm9 scripts
* Kazuma77 for pushing forward scripting, for testing and for always useful advice
* JaySea, YodaDaCoda, liomajor, Supster131, imanoob, Kasher_CS and countless others from freenode #Cakey and the GBAtemp forums for testing, feedback and helpful hints
* Shadowhand for being awesome and hosting my nightlies
* Plailect for putting his trust in my tools and recommending this in The Guide
* SirNapkin1334 for testing, bug reports and for hosting the official GodMode9 Discord channel
* Project Nayuki for qrcodegen
* Amazingmax fonts for the Amazdoom font
* The fine folks on freenode #Cakey
* All 3dbrew.org editors
* Everyone I possibly forgot, if you think you deserve to be mentioned, just contact me!
                        easter.bin                                                                                          0000644 0000000 0000000 00000003766 00000000000 011176  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        PNG

   IHDR   h   (   &(   	pHYs    +  IDAThZO m)# GId_/'/M)SVB[^ vsf;{u:=u5kfo}~7QC
h:h`HWZI@ 9Y5p 5 h;8(Oa}Yf ,(v;w@ HRtz{{;gZ-0\VUC\ssW5#G|>{Bp0k^@GU)&:flpxzzzqq1 ' "0w2khhu:[[[X&f' KKKN  0R'{<siE2@U%q  \]]ueY/nWImS/G2<uL&S -%fV.l2===BzoMujV C\GGGE"hNn'	_ibtP($9zp)*
4M:l6<_z5`p:,RH$DyR33<<ru8o+4MwvvRq?88xx<>99-]t3ET*%n7fsy2L j	/`V@Q!EQAp
fffd/IkFGGIj@|^~)lF{z%$&333b%VU8 gZL\JN&J%aYG].+Pmmk -K(l6XVFQ@Zz^JxXy>	a(:r$f`D[`0uYe0@uz<I?d2LFOJJIJaYV:N>=55UW^iSg4[n/'O|BqA:2%'%~tVW"iL6s)b2I(rFCZA$YZZU=---Yj$5^8_D#Iokk0W\#w@&=|f{{;i!d_KkqjnY} u:PF@S*t7L{CQ.pU0yv"'-([/e1ZIH%qmmmUSwM5B066>	)cq3rD@_dfXZZz3%I	@GJOdb11zd
{xET:$]Bh-vp*8	sss,f2g	1wpWg6J=|kSJ6YBp}cGGaaBD[[[Y|nB
	"`#d?9!8i+
t:M&Fp;>obb48C:G)<nr@,}k V\;o`l7ofgg^o>kcc///d%.P(^|IV{E3_wttPH$I? v;Mn[rAi|b1@h"y?h3O$###===dZ:.J9hjj2kkk*PsGT7g*+on+B0{@GG]yS(R v :
8!?,z    IENDB`          font_default.pbm                                                                                    0000644 0000000 0000000 00000003726 00000000000 012367  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        P4
# Linux 6x10 font / https://github.com/torvalds/linux/tree/master/lib/fonts
96 160
            8c DRU;_8+HDS}8B[;N9+QBNA 9                      <       @U@    `3T8A!puRU@T@x= GCpuRPB`3_A'@/@ x                          B9A    BU %D   @P%  #   @
8B  %_ @
@ !    U4  0 @
93@@ 0                              8C	8 DQE M@A)ET@H8  BdA|DD DB	DD! 98                                  8GyDANDQ%D@AQ]P%D@AUQU%|@AT]P%DDAQAQ%DDAQ9yD}N                                @ x}QE@A EQQED BEPQ) D@yU@ AUU(B@ A$DD@ @NDG@                                  @A0    @    4x QMDAVQ PEDATQQMDATQ 4D9TN                                    @        @ X9UE@e6PU) "
EUEQe42)@X
D@@      @            A L8
("@(
(AD       A880QAAQEDDQA<}GE4EQADQ8<<8Q                       0  |(B(@I@    D@A8QENqxWEQEU@DAEQETAAEEEUDD|8M<xDX                8      5`      AY `@    Q  	$  8YS 
(BdDQe4Q!D<DQEA J(I	DDSE E QXD<E8 <Bd                      B ( EWDB ( B ( EWD N"<EWDB  EWDB  B  EWDB  @ A
((@ A
((@ A
((@ A,/       A</  A
 
(  A
 
(  A
 
(  A
 
(( 
 
@?( 
 
@?( 
 
@?+
p
@?Cr? B B? B B? B B? B B? `    8      |   @$  9H 5$_EF8I$
	$EIUSI
$9IUTI
%$T5d
|C89                         @ 0  a  B@ H P@ AAH P@0@QAG   B@ @   A   @                                                                  GodMode9_splash.png                                                                                 0000644 0000000 0000000 00000040773 00000000000 012707  0                                                                                                    ustar 00                                                                0000000 0000000                                                                                                                                                                        PNG

   IHDR      :   
3n   	pHYs    ~  AIDATx}py}X,z;(d-
5$rb)3q<%%2Xv*h^wC%X;Q~8`{mm"lNT*u~<s~i?b~V{I&S}ow[4;	O}8o%SrMUUxv6K0|544H[{$;X5Z+++r)Y]]]P8WSSq~?]XU>CggtuuSV[%gu	#GdyyRvy>^Ge~~~Cjjj\V@s:2==oRQQnXu/.	\35n-{ywI%A.52-]>O,NC\N\PpIc(H3NqbqBbOCl<+_K;=3#v]/lK(-	qC~ejjZ^a?C1#DQMa1d,'x^|~n^^yU9e]zH{{u3O{^BX;ZSODK4\##)X~7Sq7%/?_
`K=Pa(<-ennt%yWn._%	N( *q$K2+|Fl[Z\kO&H_~=/|D6\'cT\S0/o(J8qRerbB7jJ0H,$,F.U20!JJKSoCZ?+/I4d;$;Ea<@R}u_kIEe78Ev!k]l&l9|H>}Z~-`jAO8&nKE9{GXG&<X!(d~sadiiCCs+puimkbjYdib,(,'EydJe:r!\nUSWZZ.fG*!_@@6L#%U?<x$UP4ZYYY:^}{{zU%~'vLMWWe?.{QyX'{`(cGdbd@0)ilmp+/D`orxg$HD5n1}nol,%?/'WKS8YS{s1P20)[>t9}F~w~i&XgW`
DBrY\Xb_?(/ %J:g}Mfg[o*X43\7{
j((6mf~qI^E}.35=t~K2nVx+WROz_WXzJx1=__?{FZ2W)Bp(HN.r=.^N4
wIv\qwIXye~a)|>34YpiML_yb>i!N}BG?L"N/nBFx:ihMMMlM -R\\,1@,=TF>GJPhFFFfeE359/
L4*=oT)6-!{aQ4eV._P`7!5R)K{oUsvK %)<rrb
kEdBCX__Y}5*))Y-NQZZ*RTTHJYiBf(j^xMHlw{:#H(y'#{WKxiB
r@'S,_#/[/TKR=)-)qYR8,HYI
^ `TreYsk4H3-R^U))K,xt(uv*(o\L&nX76kBRyQx/szps
Hh|revYX7HC bIV!%e%YZ\"Y
J|gU,Mb<'P0Z3
K(Yz%|g`hP&@	l\ #UWKV<(HR^-U-S&i
X1Zbl!QH&(M$/qRFng[4/cr*jEr-..5l)2_@Js\nlJ40*
MBU	y/(
)VFg$dp)3SrE@Nu %4oX467=8G#s;\S'$^K.a6BO#,u:zX,axdJE^ 54"a/~$6#Z/vM[zSlILmzt>]w6b3B%/}fD+!`y
Rmg`vJ*_dfM5@4:@r<wuqduv^QI'8'A
l,/ lIjZVZ+Glqa\>$!" v[>q{@>HSC/-}B*, (_gzuiE-?/%'fB| BrTZa
5"'PLH",3PJ	r,W\(S`]	ShqX^^MH*MTaIV
XNXAs|V*V H!:/Ow$nx+7glNY8n(<'vY>i/k|.o)Sd3NKC{E/^*216"U i	XV).P	@QhRRP(X;	RqFq|Xa} @^V94#R2Y	F$&?bQT\5WS[)3>nybZS|N!|*V0*
aO 8]v]+C3hYw|+k|N@,Ur N@X ](Tlx;F V.i@QuucP,
n_!STTfKhD*%dX?O	2pu:V@B/P<C4D^ 6AKpOV6q[`GB[fA3>gF^bf>NLzM0`aJ@VF'C' rI;]zLeq,N$]TVu{s 6c[v7QSG?DvARky(2RT`\vM:SB	^9~<g_xA-34,GIHpQXgf*	Czdi}Lp`&"PB[>&>  :mh#20W HwoeSm74)=?{:uCfg<FX{v))5uc,.&?4"< QhxT$bZXXy[Fr0[ap&+T<`tjODoV$o~)
<W)u=1$_'m\.	<-Du	)vv3KK]!7n8'&SK#KV25E!d	k:",.,)[7-$0CAN%!H%vy4CCCJ5VAZ[\W[I1U18,^G!x9{ZlhLmMz+ !8$	o4\
ad!ZYQpW3jYYz[ZM9^\aH8h*%1<O:=5T$O*N /NOM0! NSmMV -~}[:Wo_%$Ef)"oWOaEn3tt^BT~6/~C^CiVClf0BIMc.$md
aKe	'nQ]2iokZ/O?0.S A4#iau5mdeeI\8a%{'"{\|Y;=5	m8|Cg>@U-])'K dPN7pK~ECcstTmjT"%		6z"Sfy!|4>eN^Xk<n3C+}a}kXc7#.4q3F 7#dx|Bzu\P-3i	waDZe
-;EBUmfIIOdJ xcRZV(;.APjRF#\txY{e9;
f	FE=+=.iinM^yM
l%'F!4mk<O6,,:PfIE^-b%XPZQ
bk\Zf/EKP*KY4Kst
i@5a"c<9H	XAcc%?=? EA QX8./m%[q7EH/e0}=s[^8P2{-~%ui]uM*-^Oy?*.p1,TR+7;)=(TPr +F<7FL<p%P6'(+>=_}Y+2OfIhIb=_AX9'9=qUl]
%p2nz:bF/0?T%=Hr%MLpfk} \*7<WA>|XN>"Q+a<`paa	V>xrLt}M	a{{dkKeo{Z!XY?$'kiu&5%v\@)%]uCf)/+,X0Gf 2v oK7?(dUURT
l`K138sSOI	Hl$9?'az)l8KB\X+344la)DC\ee
xqqQ+{wz&axI JdUl1G{*\x<
8sWS&5Pn-ay9(
ogT-aOsudmsCz>{-^.vY^$WwZxU<G+e.+0b	L,<sjaD	_~1X,)wglz1@,,b^B,@
kk6+0R+O^ZPX<Zp=TUm;vI5DD
,x2Le-MXGtj)=v;/;aM$#/zZ5ixeU*;I23g{"e(&@K
K/#}2x^6Bv#skOw1t<`VZj-O/mDG29u!#`.heXI
NhSUcPY _dd
<)[JXEOX'
Xc2< +K!5KzZO '`AMZRXX NOTqq1z&nkZuF`LulvRiSgiP.\ -d(`?[U1(Cpr p1tbB=#&YF~
+1f5}/-,&YPxJc%Z?u'ri	 owKr^b-ZQ;H?~Z*286z0YcuiOJ>,={}wgK_8 iKL.I8DC0cxHY'avV1Jg+rF3,riNXLBq,Rz9~Z9FP=R#P2M/7bJmf5^ iB- 
yfx^=Akn|P4fdn6	Ekmf}t\*N\HCua8.Yfi`!^|7
_TfqYQ)6[	mgg{|^>9<gIko_.A\G4TJ4g}ch'add#WEH[FX+X5ydNYF v@QCPQQvNj6sD)-8[+D'!nV82JXNd)2	!*H
[[[[+@<)6X7^Y3h[-k%(Eq`=uFCvULV!2'Fzl7UhX#ct2`>\'4eUf	t\ {)6vTyWT84\\E>(B"p<VfFy_\&aw g`tq^m2jS$QyGNnXZPaQOO|[,i2|I9qR_@}@V D0dG+r	i!fCfcZ[^2G+vCQI5&nFF k0i+Tn#/\<2lho_I%u>8sHnaL:0P"9	Uzy@J7'YB!nfd2?>["C3GKI&<I/G{XDKmC%HyH%Oi6!\3dl$**P9a4Zl^Fttx"mH^!n& 4Fa%#l6\[<wVOuMA=wdt$|v
)_A+rDR^Y b>|28(O[Xc
hY"-KpSFq><`/?e`wQ0=CXoB'O*bFfprTu]z%yp1	D|[e:E<)}E1e] f\fezW2Bl
\NL$HNqKe7,P/"1z{iMe^sO^	a%F% YF051S|>!z}fbCIXR0,G[vh:Fx%3= %`"c}}PbU2DewK^9YSx>7#&I^2HQPr!|P453V/:j]? S +;TP+;vn]3@|Bx9w<iHkO5C]
KEF8Pf \",XR%a:L8Dnds]FVP+og`>@mCq0[$zaabuuQ0NhUve[x,T"aY3@KXX0ZyKJdoHnUly2rM78cO>3]<a3V6^k`A/W8eiuVD=[XMIq< #O^GME[2==%=R*ZYY)poZ&XKRr`</A>RZ*xF6	i6,WPjtR2oYUY^%43
?9,MY*,q2x nL%1!yLr"{$XDG/|5fNbq(@dBP3LJ+J2IZ{!,T\,p=Rh3*CYge5j02,.-hd7{?ME&~'y%1&GiN	!tFshl6UWJ1tcI$5K~[:?AczfwypO%Z	:Z2=lI`]}9>=`#Y!]sQ8'd{I\>^:]?)<=;d]	.3VoRFS7r:Qi`9 04 MBK20Uj;Fd9|
0[r<{A^XD90hR\
H9i`]w7_yonh,tQ0r)y(:%;Fa\h%x&px(,?eFZj&H])lq`$ep/U5{U9rGQ	oK",%Z2k=O<+{`(61$0-1,?L6G	Glqk'fCmPKQlB&b#4*!9{eu%eWpgh03-3az.AKHCY$wc9V\X3O^)ZZ?$3c3/S2g>!,"Y	{8VJKY]'A+{vPBz9)/)<AZPc$ic,*6 N;3#Ba8wl<([Ze-d2Sk3a@FnJ{?|^rexlsCG$K ;GtkZv_o\!X8m
jp3\sBa7FN[hv#r2O>)G?{hr^7i!Yf7u>0V'O.$Cuaq,
*ABd8`eIfc|XX(*;X~br"zgbVoh}}D^y%=;$zWd|-S+II6HNe7d  yr9*(29*h&]Xt%:MU\.ujUa&mcesDYbJ..+G	psqjpF1}e67MI2UiZ{cdAo3"4:k|F}fiikm>--^iNiz	!IF%7	8+%a*P_;r~yw2Q!%V[52CP#H~&\jmkL=6)+BWetic
X.FA2H[,gpy}}^.)\aakntuKEeDpqsS&%Y\\6	z))m]/wa~\b%  55,I%[>	_h#9fKTPhXHW::] fY204lTBZzs;h]I!^H(A	`CG8LcJ9[BQFU\Q< V}rmdZ	+nK>]*<~<~#2TPM+fd4ip+{
jl=sA7Vnsboc{#r\F>

ERTHR#][S{zlN	m,Z7@ROSrJs|bO LLLovv%
2DHIAf4Q~|J6N:dZ`b|\teE*uWu4 KQ{~QM rMi!Os;.b-N!r7:61i0Kc(hf3gM,v5bs1~!r,CEbs`q#[Muh\BiZ5Iq-*i;9Z.gIf,ZCs`.\ }Uw?O{WWTQ Sh)".MNJWkpnfx~Y:\SKWH	31^3X,T l"we;8/}P%| y0#P?,sFqY^ZdIqp^zzhtB\CpKe:K\'^'j+MV~Pg,/Iwi0OZ+Vf1Ed`[imeJ
Q;2BU,Z-051R2;|`&xZm%|?q1nDYy@*e-1(5E qm1CS$y/Sruiq^_*w"o@ Ks[nu8qB'VJx]-%]VYER_]"{5J[}2KaA}sETi=Jk_V+DRYNEtrzq6u'Z@1?u..`Q9Y)cZ2cn~g8Jjc}g?Y	<k_	CNRzqq =&~{}TO:2Ptb4F%T~X>eBAq-6K^#i`&	t =k=Uc3l)UW9jQW0_TIaWML[ZM>~uYL9\qs0 SBN}=U:X: d[(X\pY	bN<=21E [&{'oHduN+kp_E
5R,&<GBj}\xWn`b~6[l}H*_m7!+;o~Z.emF' )v:$,}21mJgBRk)>WWHRX(/|224 ]7kT+slJ,i#hM5#X{zn|*	}!Gc5I+/A<{4|uFe:,"qY;ov47}:3}:>7ao9{F .	HcV.ta]e]'*Ay%RVn#;Tx4?K#7\GFRZlg6KJEu'gN.+3Ri^2U60a4225G2".Pi;5{}>"[) VHwE{.AgfvoVg6L7us)]0&b&L82 7O*O^`?Zmxf%IvPZ,V`K!F,b$i6 w^;CNaTVe#8uI~]
/qNUk9 6,Q%'[~Zl/)9FAf;o8FKI(Px5:0+7cq^)`s:M7Z=Q_Y_ !v ~1AN{)XcONstk|yWcLRz?qTFF5:)
.)r:'gr3yf?S<]6j"\tNm	Wr'F#3(jal9t9zDYFEhbbd]iY	|V_8?;<166J?dY*
6CrenzeaItU?sZW[quRI$R"P8L$2!{e=M%:2;"30F`e=Cxf1J%bEkN?v2/T
0v_!k0	=`^z];FID	zrTJH,\Cmm2+t;"@^ V:.g$My${ZXaD0[j3+KFh{|S@
zOszWlXP:1`+jgJx,I}cL-``= GXv}**m|a?#v)sCesq]8I~udgl|R,a	sf[t<1yxfAg<!G#_|I!2|v3gHX02eRIFF$=T<OA^ki9h#G^%	MS%sn69@gLNR`yH2uTjfMh+h
%yB+ K-AyQX9a{cN7:!;fL7k\\148a>
;q.w=yIbD>JY[&{E^Jw5tC	xJ),/i5nq	cvk177`8N/
?%vA(OvNZ'<#N
qxU,i(Z=1%=J#\AxX;mFq)gC%~cYBM9tf?235'aH6b:QZ Q<WsFpnqhSkXONv[kvf.n:Ab#eWIYsX6x3J5>n	ascQ3P7L$S~#50up|s=tT!+6'~WYJjv>daX
r)b891G`cDS8brdP1N 7J4:4&6SrW`g%5md!~}?9j%U!)+)+7dE		){s&&dp_& foZbeg|;/BB7<$mmYjV]N)5LFX
ne0ZFbF~;+}I:sN
b273e)Y4b :2+pO60
n5r2N5cLMJPZ>(sRYD '15	d*f|EvMmPK,!Z@F2f~\]erDaJKPZ/cOb3TUy%-[F3Z6WZVA[p$[^WIO@'>|"-Mu ;brJA^>o8<-t[b	"GJJ2YPc{RNj{ts)"g_'xhbE;5n7Qgss ` #qMZrnuuI\3Vfimm(~1?#n?\djXv~)aGZMjuQ(eE:|||"ynl};aI9~aT~ctP:w.10coQU)Pz3QA^x9&l=::5$Xy 7ovA,pkwcY3gmXVT$z[Bmky<umBO;3cU\f";GUE4ThjtP+f#[2^~y
dY%[Fx'?vyg4+Fh_2>V2Z+z{5Q
O8@XuDQ9N?1t
DT~ubFI+PC?!1 TuA6zWO}
0A._ y&AqGG%*h	[{b;Td];t0qN5[S -MLmT11#5z9Pa~;7X	%(Ok`c_&?_|kfF""]fI9ie#u]2::$J)=oNNPi)`x5(O'HN68,o>+'tHOt\bA(?~^~(/#l3'}t$TCkkiJZ;aeO]N*
$`Xk1?;S^Y?>qy&@B6{B3r[23LO0?9Eq69c<#,J?YT$=oaf{s?Z.wY?Yx_aIoD$    IENDB`     ~~~~~~~~~~~~~~~~COMPRESSION (00)Offset     7AE00Block        400REATTACHMENT    Offset      nullBlock       null~~~~~~~~~~~~~~~~                                                                                                                                                                                                                                                mMB`b>:J*F1?2}4GZA;8jzd	lIcRr
]xqoE#V3aw0/ hSKf{&)@iWP7!yNu+eY.-p <k,[g"=~D^v$XOt\_|T'9(Cn56UHsQL%PNG

   IHDR           tEXtSoftware Adobe ImageReadyqe<   PLTE   Vv  IDATx0ZGVp15   My}9lrg; 
~/"! %Y 	fB&$d=$ 6=d=<_,`[zXm81!DE{$=dO@.3u$DB$DA@e?GAADA                                                                               t7 K^B    IENDB`            PNG

   IHDR        ZI   tEXtSoftware Adobe ImageReadyqe<   PLTE     ^}   tRNS @*  IDATxD{sjNGp~L['B,DqcqO?_ON?6?iK@AS2?6x<x:Jm -:K#V}mx-i@$?8#4~w#++1?<}z'9.5 Ot/gP/ck P_eudAk5 h7wrYxO-qG<5;Lzyu\xqknf A&/-t{ \@A R"x (F6 1oH$2I5~'/b@w!$*nnyo 5w	)=	c^"7")D7?
(iCgA(K_o	7_r!t&Ko}Tdso~0K_lLh e6dE(-o 0"2S*M(^pj<gy1wi4-B.3ShFG?'79@;qOKgVpKg,lS]I KOwBG?K?'%GU?3`okD_ <t__.MKY?f+l uC$mcY'tW 4~vqZ~_:y<R2 
>z |_f%Q5QO_s(_(W4^{\s#n_vc_S|
`K6s+ "LRYIrzN{S@,U@aDX:aR
MR}&c6 hNALLt	!lS%%ZG<-hG/`
xCVTtK,'L=VAU .Z-8Us?RXT*?M;n$]gt fb3Cb}WD5?V|'i	?${?t_!Z-?V?YRI=y68vTK?q?pR<Gof{_axA,Of)W#S l vC
/V8y7<N<5.-{w.dUCR&$.9GP-r!xq:bAP_ d`w
}he4}G ]tF)0]nWG
?x46n3J+[w2_"E}O_}tF_GEpK(*7
}|=x01#l9	o$y&Xl3'MHDas"q_|'i?B(/eu_G/u_G/u_G/u_G/uSI  }"#JMb#HQ-IXC8odW%/,L^$,2S6i2E,KRsWZ:=!p@ MmHF
	HZ\$<H. ,t/Yu1!r1=zo&z!eR)2k.%K6"%p*wTk9?IqdfP%&f"7Gl>XXxAjGb7oiZt`0(0&fu a4s?}^]!3/@K+]CZ:'CU ]B'zek>AFEkaLw%p88EUv/3hC(S"*,.ujsr Fb]YgWA+\u\]77&yo$8Y$N7
2haLsqfbJH,.L@vZ@"4MdFL!#Hu,71M3|B pGNthFP})60?+O u[G<	/o}uw'\g1}5uupd7MDR-"M#s""D=u0S(;;|!lM/=4CFH/?1yV7:'#^fRQ2!ok1_mog/u_G/u_G/u_G/u_G/u`F4Wf\`LO>7Gw'f?%=.8^O(^$U?VG.7gdl`q?
WS yt=L7ZzG"fA6Zdmnv/A*ZH-^{S0Q16 6)l)r a]&B\XfAHe'Qjil5Cp-q-Z74	w,^nkIl0R/EAAm_0J$FB!
J6B*U_+U]~
i5|7wl,,UZ%ig^q
 Nq!z/TD%dv@V6^JCgPy6O@Fu_`.O~dwTgy)mc5vm7&`P_m:+|'ts_2Vv(	%@dS#+lPVfwXc'9Bx?vJ)wI3GAy
Bx?F?Q s ;/c0pruyvS>)y#&46 Xs(	tk?T3&$,u?$&jYW&uD >$oa1<wxw?>}]0YPAXav@kK*.OLVyIl!obd!ddf3 &tP|62h.V`84n>i:z1&1R!Ap81<$Go7;,n.[1,CCpMkpS9e3}?$~`YkX)_3H~
OU]}TMF@f +l&gO#qDWs? o-    IENDB`  PNG

   IHDR  D      f3G   tEXtSoftware Adobe ImageReadyqe<   PLTE   U~   tRNS 0J  IDATx*s03	u<iYu&`! @LQ<)@ .h[~}<;<xp{ ,mQ2X=(U%bO6Q`!!"zS  Q}0Ef"i'hc.3};Db*b;V y"+	MN8;G;*xbG^q=Q(SDo\zgYyj~bI h45C#}HtCsos_GtgPuv`qz>8@a2(Bt|$9t,Ak/yHV/DhG0e:q\q;
AA,*S+-(:}<ox{xX
M0ov0)QeqDRfP4aw!lv4i}CRP^+<@T%ZA#H0D.TWHC T L)
";MA")$T{q"jok7zzQJ -)*9	@IQ=OBD&Bl" /&\CT!=j(Mke'R6XB:z^W@lgCwq|b36b`QH#>4xBX:CbOx=! NIf[<Q=jR\>	7c=H(kXbA X[A,h"NC\J.5^v=uCLiX' zA,!ZL9#CE}#Hjd"/M[Y$()G A-}	;iFAm"Y93SKI8/$}%3jG?!xgTRF}Y>LY
q
bAXM};%F,bf56e(-
~~xwf o_&"x9q ]X*+`	-(;'(eKMn7xq"$VbAm8>z'XbA,b}z@/LN$rL,!.*N	Ey;}0{bB: f|=yz=mN'Rp45i2%M2]mnnmwzqwnf,Az!&5	1<v'DCr=baCkg"@O>
_2\%&RJ
h8~b2]G!ZYSI{@"QFD8.tM/.~ ( Uzt'Dn[y	M!$GEKxY[ X? is    IENDB`         PNG

   IHDR   @   @      tEXtSoftware Adobe ImageReadyqe<   	PLTE     uT/   IDATx P?c(qm4tL.Qm> (@/*B'HZ M 1<f$rTr'cU$ lVa.`2f$[rV aHf  {}wP.4'`r3   )EG    IENDB`         PNG

   IHDR      P   Ucp   tEXtSoftware Adobe ImageReadyqe<   PLTE	N4k   ,C9   tRNS @*  IDATxv0 P{[`32(oXgRf-da*d.Bd	.A>im!r#>d:mx+#>ix[(-#DAmjq"K68#EOT7M8c'%V06lbsxnF'G9My]#Bia87]	_zeU.mol4{]o@lBPyx)WA-VDt:+`2qbjb0?B%PabD%vjgpPgueTcs7[iMX01^~=DMx\Kl#/8h*{~i}`bG9,k!O(]>7ADL$YH1hbsOUQ#g&=j}4RXb<1[_LFB[G, t'XGr C  (.' cx$W>#H,g$#{+WFX b`bR(S,q;#]qBY1b;li1`jVUWn81Uv	Qj]M*&\n;\2jENl,6Q$pkc8hTwZ%^4]n1c1<?R<b*C0BADbs%SO#@2s+%~4V HD    IENDB`         